var CE=n=>{throw TypeError(n)};var Zy=(n,t,e)=>t.has(n)||CE("Cannot "+e);var dr=(n,t,e)=>(Zy(n,t,"read from private field"),e?e.call(n):t.get(n)),wl=(n,t,e)=>t.has(n)?CE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),Qa=(n,t,e,r)=>(Zy(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),Al=(n,t,e)=>(Zy(n,t,"access private method"),e);var TE=(n,t,e,r)=>({set _(i){Qa(n,t,i,e)},get _(){return dr(n,t,r)}});function qR(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();var kit=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qy={exports:{}},_p={};var OE;function HR(){if(OE)return _p;OE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:a}}return _p.Fragment=t,_p.jsx=e,_p.jsxs=e,_p}var PE;function $R(){return PE||(PE=1,Qy.exports=HR()),Qy.exports}var Lt=$R(),Jy={exports:{}},Ue={};var NE;function GR(){if(NE)return Ue;NE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),v=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=v&&Z[v]||Z["@@iterator"],typeof Z=="function"?Z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function S(Z,I,G){this.props=Z,this.context=I,this.refs=x,this.updater=G||w}S.prototype.isReactComponent={},S.prototype.setState=function(Z,I){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,I,"setState")},S.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function O(){}O.prototype=S.prototype;function C(Z,I,G){this.props=Z,this.context=I,this.refs=x,this.updater=G||w}var N=C.prototype=new O;N.constructor=C,y(N,S.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function R(){}var B={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function q(Z,I,G){var X=G.ref;return{$$typeof:n,type:Z,key:I,ref:X!==void 0?X:null,props:G}}function rt(Z,I){return q(Z.type,I,Z.props)}function D(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function z(Z){var I={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(G){return I[G]})}var et=/\/+/g;function tt(Z,I){return typeof Z=="object"&&Z!==null&&Z.key!=null?z(""+Z.key):I.toString(36)}function dt(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(R,R):(Z.status="pending",Z.then(function(I){Z.status==="pending"&&(Z.status="fulfilled",Z.value=I)},function(I){Z.status==="pending"&&(Z.status="rejected",Z.reason=I)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function V(Z,I,G,X,lt){var ct=typeof Z;(ct==="undefined"||ct==="boolean")&&(Z=null);var ht=!1;if(Z===null)ht=!0;else switch(ct){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(Z.$$typeof){case n:case t:ht=!0;break;case f:return ht=Z._init,V(ht(Z._payload),I,G,X,lt)}}if(ht)return lt=lt(Z),ht=X===""?"."+tt(Z,0):X,k(lt)?(G="",ht!=null&&(G=ht.replace(et,"$&/")+"/"),V(lt,I,G,"",function(Et){return Et})):lt!=null&&(D(lt)&&(lt=rt(lt,G+(lt.key==null||Z&&Z.key===lt.key?"":(""+lt.key).replace(et,"$&/")+"/")+ht)),I.push(lt)),1;ht=0;var _t=X===""?".":X+":";if(k(Z))for(var ut=0;ut<Z.length;ut++)X=Z[ut],ct=_t+tt(X,ut),ht+=V(X,I,G,ct,lt);else if(ut=g(Z),typeof ut=="function")for(Z=ut.call(Z),ut=0;!(X=Z.next()).done;)X=X.value,ct=_t+tt(X,ut++),ht+=V(X,I,G,ct,lt);else if(ct==="object"){if(typeof Z.then=="function")return V(dt(Z),I,G,X,lt);throw I=String(Z),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return ht}function J(Z,I,G){if(Z==null)return Z;var X=[],lt=0;return V(Z,X,"","",function(ct){return I.call(G,ct,lt++)}),X}function st(Z){if(Z._status===-1){var I=Z._result;I=I(),I.then(function(G){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=G)},function(G){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=G)}),Z._status===-1&&(Z._status=0,Z._result=I)}if(Z._status===1)return Z._result.default;throw Z._result}var gt=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},kt={map:J,forEach:function(Z,I,G){J(Z,function(){I.apply(this,arguments)},G)},count:function(Z){var I=0;return J(Z,function(){I++}),I},toArray:function(Z){return J(Z,function(I){return I})||[]},only:function(Z){if(!D(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return Ue.Activity=p,Ue.Children=kt,Ue.Component=S,Ue.Fragment=e,Ue.Profiler=i,Ue.PureComponent=C,Ue.StrictMode=r,Ue.Suspense=c,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return B.H.useMemoCache(Z)}},Ue.cache=function(Z){return function(){return Z.apply(null,arguments)}},Ue.cacheSignal=function(){return null},Ue.cloneElement=function(Z,I,G){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var X=y({},Z.props),lt=Z.key;if(I!=null)for(ct in I.key!==void 0&&(lt=""+I.key),I)!H.call(I,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&I.ref===void 0||(X[ct]=I[ct]);var ct=arguments.length-2;if(ct===1)X.children=G;else if(1<ct){for(var ht=Array(ct),_t=0;_t<ct;_t++)ht[_t]=arguments[_t+2];X.children=ht}return q(Z.type,lt,X)},Ue.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:a,_context:Z},Z},Ue.createElement=function(Z,I,G){var X,lt={},ct=null;if(I!=null)for(X in I.key!==void 0&&(ct=""+I.key),I)H.call(I,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(lt[X]=I[X]);var ht=arguments.length-2;if(ht===1)lt.children=G;else if(1<ht){for(var _t=Array(ht),ut=0;ut<ht;ut++)_t[ut]=arguments[ut+2];lt.children=_t}if(Z&&Z.defaultProps)for(X in ht=Z.defaultProps,ht)lt[X]===void 0&&(lt[X]=ht[X]);return q(Z,ct,lt)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(Z){return{$$typeof:l,render:Z}},Ue.isValidElement=D,Ue.lazy=function(Z){return{$$typeof:f,_payload:{_status:-1,_result:Z},_init:st}},Ue.memo=function(Z,I){return{$$typeof:h,type:Z,compare:I===void 0?null:I}},Ue.startTransition=function(Z){var I=B.T,G={};B.T=G;try{var X=Z(),lt=B.S;lt!==null&&lt(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(R,gt)}catch(ct){gt(ct)}finally{I!==null&&G.types!==null&&(I.types=G.types),B.T=I}},Ue.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ue.use=function(Z){return B.H.use(Z)},Ue.useActionState=function(Z,I,G){return B.H.useActionState(Z,I,G)},Ue.useCallback=function(Z,I){return B.H.useCallback(Z,I)},Ue.useContext=function(Z){return B.H.useContext(Z)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(Z,I){return B.H.useDeferredValue(Z,I)},Ue.useEffect=function(Z,I){return B.H.useEffect(Z,I)},Ue.useEffectEvent=function(Z){return B.H.useEffectEvent(Z)},Ue.useId=function(){return B.H.useId()},Ue.useImperativeHandle=function(Z,I,G){return B.H.useImperativeHandle(Z,I,G)},Ue.useInsertionEffect=function(Z,I){return B.H.useInsertionEffect(Z,I)},Ue.useLayoutEffect=function(Z,I){return B.H.useLayoutEffect(Z,I)},Ue.useMemo=function(Z,I){return B.H.useMemo(Z,I)},Ue.useOptimistic=function(Z,I){return B.H.useOptimistic(Z,I)},Ue.useReducer=function(Z,I,G){return B.H.useReducer(Z,I,G)},Ue.useRef=function(Z){return B.H.useRef(Z)},Ue.useState=function(Z){return B.H.useState(Z)},Ue.useSyncExternalStore=function(Z,I,G){return B.H.useSyncExternalStore(Z,I,G)},Ue.useTransition=function(){return B.H.useTransition()},Ue.version="19.2.0",Ue}var kE;function kd(){return kE||(kE=1,Jy.exports=GR()),Jy.exports}var j=kd();const JP=Mu(j),WR=qR({__proto__:null,default:JP},[j]);var tb={exports:{}},Ep={},eb={exports:{}},nb={};var LE;function VR(){return LE||(LE=1,(function(n){function t(V,J){var st=V.length;V.push(J);t:for(;0<st;){var gt=st-1>>>1,kt=V[gt];if(0<i(kt,J))V[gt]=J,V[st]=kt,st=gt;else break t}}function e(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var J=V[0],st=V.pop();if(st!==J){V[0]=st;t:for(var gt=0,kt=V.length,Z=kt>>>1;gt<Z;){var I=2*(gt+1)-1,G=V[I],X=I+1,lt=V[X];if(0>i(G,st))X<kt&&0>i(lt,G)?(V[gt]=lt,V[X]=st,gt=X):(V[gt]=G,V[I]=st,gt=I);else if(X<kt&&0>i(lt,st))V[gt]=lt,V[X]=st,gt=X;else break t}}return J}function i(V,J){var st=V.sortIndex-J.sortIndex;return st!==0?st:V.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,v=3,g=!1,w=!1,y=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function N(V){for(var J=e(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=V)r(h),J.sortIndex=J.expirationTime,t(c,J);else break;J=e(h)}}function k(V){if(y=!1,N(V),!w)if(e(c)!==null)w=!0,R||(R=!0,z());else{var J=e(h);J!==null&&dt(k,J.startTime-V)}}var R=!1,B=-1,H=5,q=-1;function rt(){return x?!0:!(n.unstable_now()-q<H)}function D(){if(x=!1,R){var V=n.unstable_now();q=V;var J=!0;try{t:{w=!1,y&&(y=!1,O(B),B=-1),g=!0;var st=v;try{e:{for(N(V),p=e(c);p!==null&&!(p.expirationTime>V&&rt());){var gt=p.callback;if(typeof gt=="function"){p.callback=null,v=p.priorityLevel;var kt=gt(p.expirationTime<=V);if(V=n.unstable_now(),typeof kt=="function"){p.callback=kt,N(V),J=!0;break e}p===e(c)&&r(c),N(V)}else r(c);p=e(c)}if(p!==null)J=!0;else{var Z=e(h);Z!==null&&dt(k,Z.startTime-V),J=!1}}break t}finally{p=null,v=st,g=!1}J=void 0}}finally{J?z():R=!1}}}var z;if(typeof C=="function")z=function(){C(D)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,tt=et.port2;et.port1.onmessage=D,z=function(){tt.postMessage(null)}}else z=function(){S(D,0)};function dt(V,J){B=S(function(){V(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(V){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var st=v;v=J;try{return V()}finally{v=st}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var st=v;v=V;try{return J()}finally{v=st}},n.unstable_scheduleCallback=function(V,J,st){var gt=n.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?gt+st:gt):st=gt,V){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=st+kt,V={id:f++,callback:J,priorityLevel:V,startTime:st,expirationTime:kt,sortIndex:-1},st>gt?(V.sortIndex=st,t(h,V),e(c)===null&&V===e(h)&&(y?(O(B),B=-1):y=!0,dt(k,st-gt))):(V.sortIndex=kt,t(c,V),w||g||(w=!0,R||(R=!0,z()))),V},n.unstable_shouldYield=rt,n.unstable_wrapCallback=function(V){var J=v;return function(){var st=v;v=J;try{return V.apply(this,arguments)}finally{v=st}}}})(nb)),nb}var ME;function YR(){return ME||(ME=1,eb.exports=VR()),eb.exports}var rb={exports:{}},sa={};var DE;function KR(){if(DE)return sa;DE=1;var n=kd();function t(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:h,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sa.createPortal=function(c,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(c,h,null,f)},sa.flushSync=function(c){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=h,r.p=f,r.d.f()}},sa.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(c,h))},sa.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},sa.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:g}):f==="script"&&r.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},sa.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(c)},sa.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);r.d.L(c,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},sa.preloadModule=function(c,h){if(typeof c=="string")if(h){var f=l(h.as,h.crossOrigin);r.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(c)},sa.requestFormReset=function(c){r.d.r(c)},sa.unstable_batchedUpdates=function(c,h){return c(h)},sa.useFormState=function(c,h,f){return o.H.useFormState(c,h,f)},sa.useFormStatus=function(){return o.H.useHostTransitionStatus()},sa.version="19.2.0",sa}var RE;function tN(){if(RE)return rb.exports;RE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),rb.exports=KR(),rb.exports}var IE;function XR(){if(IE)return Ep;IE=1;var n=YR(),t=kd(),e=tN();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(s.tag===31){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(r(188))}function h(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(r(188));return u!==s?null:s}for(var d=s,m=u;;){var A=d.return;if(A===null)break;var E=A.alternate;if(E===null){if(m=A.return,m!==null){d=m;continue}break}if(A.child===E.child){for(E=A.child;E;){if(E===d)return c(A),s;if(E===m)return c(A),u;E=E.sibling}throw Error(r(188))}if(d.return!==m.return)d=A,m=E;else{for(var M=!1,Y=A.child;Y;){if(Y===d){M=!0,d=A,m=E;break}if(Y===m){M=!0,m=A,d=E;break}Y=Y.sibling}if(!M){for(Y=E.child;Y;){if(Y===d){M=!0,d=E,m=A;break}if(Y===m){M=!0,m=E,d=A;break}Y=Y.sibling}if(!M)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:u}function f(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=f(s),u!==null)return u;s=s.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var et=Symbol.for("react.client.reference");function tt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===et?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case y:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case C:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case N:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return u=s.displayName||null,u!==null?u:tt(s.type)||"Memo";case H:u=s._payload,s=s._init;try{return tt(s(u))}catch{}}return null}var dt=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},gt=[],kt=-1;function Z(s){return{current:s}}function I(s){0>kt||(s.current=gt[kt],gt[kt]=null,kt--)}function G(s,u){kt++,gt[kt]=s.current,s.current=u}var X=Z(null),lt=Z(null),ct=Z(null),ht=Z(null);function _t(s,u){switch(G(ct,u),G(lt,s),G(X,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?K_(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=K_(u),s=X_(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}I(X),G(X,s)}function ut(){I(X),I(lt),I(ct)}function Et(s){s.memoizedState!==null&&G(ht,s);var u=X.current,d=X_(u,s.type);u!==d&&(G(lt,s),G(X,d))}function Dt(s){lt.current===s&&(I(X),I(lt)),ht.current===s&&(I(ht),wp._currentValue=st)}var At,Wt;function Vt(s){if(At===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);At=u&&u[1]||"",Wt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+s+Wt}var nt=!1;function Yt(s,u){if(!s||nt)return"";nt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var Ut=function(){throw Error()};if(Object.defineProperty(Ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ut,[])}catch(Mt){var Nt=Mt}Reflect.construct(s,[],Ut)}else{try{Ut.call()}catch(Mt){Nt=Mt}s.call(Ut.prototype)}}else{try{throw Error()}catch(Mt){Nt=Mt}(Ut=s())&&typeof Ut.catch=="function"&&Ut.catch(function(){})}}catch(Mt){if(Mt&&Nt&&typeof Mt.stack=="string")return[Mt.stack,Nt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),M=E[0],Y=E[1];if(M&&Y){var ft=M.split(`
`),Ot=Y.split(`
`);for(A=m=0;m<ft.length&&!ft[m].includes("DetermineComponentFrameRoot");)m++;for(;A<Ot.length&&!Ot[A].includes("DetermineComponentFrameRoot");)A++;if(m===ft.length||A===Ot.length)for(m=ft.length-1,A=Ot.length-1;1<=m&&0<=A&&ft[m]!==Ot[A];)A--;for(;1<=m&&0<=A;m--,A--)if(ft[m]!==Ot[A]){if(m!==1||A!==1)do if(m--,A--,0>A||ft[m]!==Ot[A]){var jt=`
`+ft[m].replace(" at new "," at ");return s.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",s.displayName)),jt}while(1<=m&&0<=A);break}}}finally{nt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Vt(d):""}function Ne(s,u){switch(s.tag){case 26:case 27:case 5:return Vt(s.type);case 16:return Vt("Lazy");case 13:return s.child!==u&&u!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return Yt(s.type,!1);case 11:return Yt(s.type.render,!1);case 1:return Yt(s.type,!0);case 31:return Vt("Activity");default:return""}}function ge(s){try{var u="",d=null;do u+=Ne(s,d),d=s,s=s.return;while(s);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var $t=Object.prototype.hasOwnProperty,be=n.unstable_scheduleCallback,Qt=n.unstable_cancelCallback,_e=n.unstable_shouldYield,me=n.unstable_requestPaint,Be=n.unstable_now,Qe=n.unstable_getCurrentPriorityLevel,Ie=n.unstable_ImmediatePriority,Je=n.unstable_UserBlockingPriority,Ye=n.unstable_NormalPriority,oe=n.unstable_LowPriority,je=n.unstable_IdlePriority,fe=n.log,wr=n.unstable_setDisableYieldValue,Ze=null,Ee=null;function Le(s){if(typeof fe=="function"&&wr(s),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Ze,s)}catch{}}var tn=Math.clz32?Math.clz32:Oe,we=Math.log,jn=Math.LN2;function Oe(s){return s>>>=0,s===0?32:31-(we(s)/jn|0)|0}var Me=256,Pn=262144,$e=4194304;function de(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ln(s,u,d){var m=s.pendingLanes;if(m===0)return 0;var A=0,E=s.suspendedLanes,M=s.pingedLanes;s=s.warmLanes;var Y=m&134217727;return Y!==0?(m=Y&~E,m!==0?A=de(m):(M&=Y,M!==0?A=de(M):d||(d=Y&~s,d!==0&&(A=de(d))))):(Y=m&~E,Y!==0?A=de(Y):M!==0?A=de(M):d||(d=m&~s,d!==0&&(A=de(d)))),A===0?0:u!==0&&u!==A&&(u&E)===0&&(E=A&-A,d=u&-u,E>=d||E===32&&(d&4194048)!==0)?u:A}function ss(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function _i(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var s=$e;return $e<<=1,($e&62914560)===0&&($e=4194304),s}function Ma(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function ve(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fo(s,u,d,m,A,E){var M=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var Y=s.entanglements,ft=s.expirationTimes,Ot=s.hiddenUpdates;for(d=M&~d;0<d;){var jt=31-tn(d),Ut=1<<jt;Y[jt]=0,ft[jt]=-1;var Nt=Ot[jt];if(Nt!==null)for(Ot[jt]=null,jt=0;jt<Nt.length;jt++){var Mt=Nt[jt];Mt!==null&&(Mt.lane&=-536870913)}d&=~Ut}m!==0&&Ds(s,m,0),E!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=E&~(M&~u))}function Ds(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var m=31-tn(u);s.entangledLanes|=u,s.entanglements[m]=s.entanglements[m]|1073741824|d&261930}function pa(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var m=31-tn(d),A=1<<m;A&u|s[m]&u&&(s[m]|=u),d&=~A}}function ga(s,u){var d=u&-u;return d=(d&42)!==0?1:Qn(d),(d&(s.suspendedLanes|u))!==0?0:d}function Qn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Nr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qr(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:bE(s.type))}function tl(s,u){var d=J.p;try{return J.p=s,u()}finally{J.p=d}}var qi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+qi,er="__reactProps$"+qi,Ei="__reactContainer$"+qi,ma="__reactEvents$"+qi,Da="__reactListeners$"+qi,jl="__reactHandles$"+qi,os="__reactResources$"+qi,ls="__reactMarker$"+qi;function el(s){delete s[Nn],delete s[er],delete s[ma],delete s[Da],delete s[jl]}function us(s){var u=s[Nn];if(u)return u;for(var d=s.parentNode;d;){if(u=d[Ei]||d[Nn]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=rE(s);s!==null;){if(d=s[Nn])return d;s=rE(s)}return u}s=d,d=s.parentNode}return null}function cs(s){if(s=s[Nn]||s[Ei]){var u=s.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return s}return null}function Bl(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function Rs(s){var u=s[os];return u||(u=s[os]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ar(s){s[ls]=!0}var jc=new Set,va={};function hs(s,u){po(s,u),po(s+"Capture",u)}function po(s,u){for(va[s]=u,s=0;s<u.length;s++)jc.add(u[s])}var Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},zc={};function Zh(s){return $t.call(zc,s)?!0:$t.call(Fc,s)?!1:Bc.test(s)?zc[s]=!0:(Fc[s]=!0,!1)}function ya(s,u,d){if(Zh(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function go(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function fs(s,u,d,m){if(m===null)s.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+m)}}function vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Uc(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Is(s,u,d){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,u);if(!s.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var A=m.get,E=m.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return A.call(this)},set:function(M){d=""+M,E.call(this,M)}}),Object.defineProperty(s,u,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(M){d=""+M},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function nl(s){if(!s._valueTracker){var u=Uc(s)?"checked":"value";s._valueTracker=Is(s,u,""+s[u])}}function qc(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),m="";return s&&(m=Uc(s)?s.checked?"true":"false":s.value),s=m,s!==d?(u.setValue(s),!0):!1}function Hi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qr=/[\n"\\]/g;function kr(s){return s.replace(qr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function zu(s,u,d,m,A,E,M,Y){s.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.type=M:s.removeAttribute("type"),u!=null?M==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+vn(u)):s.value!==""+vn(u)&&(s.value=""+vn(u)):M!=="submit"&&M!=="reset"||s.removeAttribute("value"),u!=null?Hc(s,M,vn(u)):d!=null?Hc(s,M,vn(d)):m!=null&&s.removeAttribute("value"),A==null&&E!=null&&(s.defaultChecked=!!E),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+vn(Y):s.removeAttribute("name")}function Qh(s,u,d,m,A,E,M,Y){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),u!=null||d!=null){if(!(E!=="submit"&&E!=="reset"||u!=null)){nl(s);return}d=d!=null?""+vn(d):"",u=u!=null?""+vn(u):d,Y||u===s.value||(s.value=u),s.defaultValue=u}m=m??A,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=Y?s.checked:!!m,s.defaultChecked=!!m,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(s.name=M),nl(s)}function Hc(s,u,d){u==="number"&&Hi(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function $i(s,u,d,m){if(s=s.options,u){u={};for(var A=0;A<d.length;A++)u["$"+d[A]]=!0;for(d=0;d<s.length;d++)A=u.hasOwnProperty("$"+s[d].value),s[d].selected!==A&&(s[d].selected=A),A&&m&&(s[d].defaultSelected=!0)}else{for(d=""+vn(d),u=null,A=0;A<s.length;A++){if(s[A].value===d){s[A].selected=!0,m&&(s[A].defaultSelected=!0);return}u!==null||s[A].disabled||(u=s[A])}u!==null&&(u.selected=!0)}}function $c(s,u,d){if(u!=null&&(u=""+vn(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+vn(d):""}function Gc(s,u,d,m){if(u==null){if(m!=null){if(d!=null)throw Error(r(92));if(dt(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),u=d}d=vn(u),s.defaultValue=d,m=s.textContent,m===d&&m!==""&&m!==null&&(s.value=m),nl(s)}function ds(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var Fl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jh(s,u,d){var m=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":m?s.setProperty(u,d):typeof d!="number"||d===0||Fl.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function tf(s,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var A in u)m=u[A],u.hasOwnProperty(A)&&d[A]!==m&&Jh(s,A,m)}else for(var E in u)u.hasOwnProperty(E)&&Jh(s,E,u[E])}function Wc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(s){return ef.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ps(){}var mo=null;function zl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rl=null,Ce=null;function nf(s){var u=cs(s);if(u&&(s=u.stateNode)){var d=s[er]||null;t:switch(s=u.stateNode,u.type){case"input":if(zu(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+kr(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var m=d[u];if(m!==s&&m.form===s.form){var A=m[er]||null;if(!A)throw Error(r(90));zu(m,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<d.length;u++)m=d[u],m.form===s.form&&qc(m)}break t;case"textarea":$c(s,d.value,d.defaultValue);break t;case"select":u=d.value,u!=null&&$i(s,!!d.multiple,u,!1)}}}var Yc=!1;function rf(s,u,d){if(Yc)return s(u,d);Yc=!0;try{var m=s(u);return m}finally{if(Yc=!1,(rl!==null||Ce!==null)&&(wm(),rl&&(u=rl,s=Ce,Ce=rl=null,nf(u),s)))for(u=0;u<s.length;u++)nf(s[u])}}function ba(s,u){var d=s.stateNode;if(d===null)return null;var m=d[er]||null;if(m===null)return null;d=m[u];t:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break t;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=!1;if(ui)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Kc=!1}var wa=null,ql=null,js=null;function af(){if(js)return js;var s,u=ql,d=u.length,m,A="value"in wa?wa.value:wa.textContent,E=A.length;for(s=0;s<d&&u[s]===A[s];s++);var M=d-s;for(m=1;m<=M&&u[d-m]===A[E-m];m++);return js=A.slice(s,1<m?1-m:void 0)}function Ra(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function Uu(){return!0}function qu(){return!1}function Jr(s){function u(d,m,A,E,M){this._reactName=d,this._targetInst=A,this.type=m,this.nativeEvent=E,this.target=M,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(d=s[Y],this[Y]=d?d(E):E[Y]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Uu:qu,this.isPropagationStopped=qu,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),u}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Jr(Bs),vo=p({},Bs,{view:0,detail:0}),Hu=Jr(vo),Hl,yo,bo,$l=p({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ke,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==bo&&(bo&&s.type==="mousemove"?(Hl=s.screenX-bo.screenX,yo=s.screenY-bo.screenY):yo=Hl=0,bo=s),Hl)},movementY:function(s){return"movementY"in s?s.movementY:yo}}),Xc=Jr($l),wo=p({},$l,{dataTransfer:0}),Ao=Jr(wo),sf=p({},vo,{relatedTarget:0}),xo=Jr(sf),of=p({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),T=Jr(of),F=p({},Bs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ot=Jr(F),pt=p({},Bs,{data:0}),bt=Jr(pt),Bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function le(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=ne[s])?!!u[s]:!1}function ke(){return le}var Fe=p({},vo,{key:function(s){if(s.key){var u=Bt[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=Ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ht[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ke,charCode:function(s){return s.type==="keypress"?Ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),un=Jr(Fe),nr=p({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=Jr(nr),Bn=p({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ke}),Hr=Jr(Bn),Lr=p({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=Jr(Lr),So=p({},$l,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),gs=Jr(So),_o=p({},Bs,{newState:0,oldState:0}),Zc=Jr(_o),$u=[9,13,27,32],Fs=ui&&"CompositionEvent"in window,ms=null;ui&&"documentMode"in document&&(ms=document.documentMode);var Gl=ui&&"TextEvent"in window&&!ms,Eo=ui&&(!Fs||ms&&8<ms&&11>=ms),ti=" ",il=!1;function al(s,u){switch(s){case"keyup":return $u.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gu(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zs=!1;function Gi(s,u){switch(s){case"compositionend":return Gu(u);case"keypress":return u.which!==32?null:(il=!0,ti);case"textInput":return s=u.data,s===ti&&il?null:s;default:return null}}function Co(s,u){if(zs)return s==="compositionend"||!Fs&&al(s,u)?(s=af(),js=ql=wa=null,zs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Eo&&u.locale!=="ko"?null:u.data;default:return null}}var Wu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qc(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!Wu[s.type]:u==="textarea"}function Aa(s,u,d,m){rl?Ce?Ce.push(m):Ce=[m]:rl=m,u=Tm(u,"onChange"),0<u.length&&(d=new Ia("onChange","change",null,d,m),s.push({event:d,listeners:u}))}var vs=null,To=null;function Jc(s){H_(s,0)}function ys(s){var u=Bl(s);if(qc(u))return s}function sl(s,u){if(s==="change")return u}var ia=!1;if(ui){var Wi;if(ui){var Us="oninput"in document;if(!Us){var qs=document.createElement("div");qs.setAttribute("oninput","return;"),Us=typeof qs.oninput=="function"}Wi=Us}else Wi=!1;ia=Wi&&(!document.documentMode||9<document.documentMode)}function Oo(){vs&&(vs.detachEvent("onpropertychange",Vu),To=vs=null)}function Vu(s){if(s.propertyName==="value"&&ys(To)){var u=[];Aa(u,To,s,zl(s)),rf(Jc,u)}}function Yu(s,u,d){s==="focusin"?(Oo(),vs=u,To=d,vs.attachEvent("onpropertychange",Vu)):s==="focusout"&&Oo()}function Sr(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ys(To)}function lf(s,u){if(s==="click")return ys(u)}function Hs(s,u){if(s==="input"||s==="change")return ys(u)}function $s(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var hi=typeof Object.is=="function"?Object.is:$s;function Po(s,u){if(hi(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),m=Object.keys(u);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var A=d[m];if(!$t.call(u,A)||!hi(s[A],u[A]))return!1}return!0}function Ku(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xu(s,u){var d=Ku(s);s=0;for(var m;d;){if(d.nodeType===3){if(m=s+d.textContent.length,s<=u&&m>=u)return{node:d,offset:u-s};s=m}t:{for(;d;){if(d.nextSibling){d=d.nextSibling;break t}d=d.parentNode}d=void 0}d=Ku(d)}}function No(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?No(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function ko(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Hi(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Hi(s.document)}return u}function Gs(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var Wl=ui&&"documentMode"in document&&11>=document.documentMode,xa=null,Lo=null,Ci=null,ja=!1;function yn(s,u,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ja||xa==null||xa!==Hi(m)||(m=xa,"selectionStart"in m&&Gs(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ci&&Po(Ci,m)||(Ci=m,m=Tm(Lo,"onSelect"),0<m.length&&(u=new Ia("onSelect","select",null,u,d),s.push({event:u,listeners:m}),u.target=xa)))}function cn(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Fn={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},_r={},Ws={};ui&&(Ws=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function bs(s){if(_r[s])return _r[s];if(!Fn[s])return s;var u=Fn[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in Ws)return _r[s]=u[d];return s}var Vl=bs("animationend"),th=bs("animationiteration"),Hd=bs("animationstart"),Xg=bs("transitionrun"),Zg=bs("transitionstart"),Qg=bs("transitioncancel"),$d=bs("transitionend"),Gd=new Map,Yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yl.push("scrollEnd");function Ba(s,u){Gd.set(s,u),hs(u,[s])}var eh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Sa=[],Kl=0,uf=0;function nh(){for(var s=Kl,u=uf=Kl=0;u<s;){var d=Sa[u];Sa[u++]=null;var m=Sa[u];Sa[u++]=null;var A=Sa[u];Sa[u++]=null;var E=Sa[u];if(Sa[u++]=null,m!==null&&A!==null){var M=m.pending;M===null?A.next=A:(A.next=M.next,M.next=A),m.pending=A}E!==0&&ih(d,A,E)}}function rh(s,u,d,m){Sa[Kl++]=s,Sa[Kl++]=u,Sa[Kl++]=d,Sa[Kl++]=m,uf|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function cf(s,u,d,m){return rh(s,u,d,m),Ti(s)}function Mo(s,u){return rh(s,null,null,u),Ti(s)}function ih(s,u,d){s.lanes|=d;var m=s.alternate;m!==null&&(m.lanes|=d);for(var A=!1,E=s.return;E!==null;)E.childLanes|=d,m=E.alternate,m!==null&&(m.childLanes|=d),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(A=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,A&&u!==null&&(A=31-tn(d),s=E.hiddenUpdates,m=s[A],m===null?s[A]=[u]:m.push(u),u.lane=d|536870912),E):null}function Ti(s){if(50<dp)throw dp=0,Ay=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var fi={};function hf(s,u,d,m){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oi(s,u,d,m){return new hf(s,u,d,m)}function ff(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Fa(s,u){var d=s.alternate;return d===null?(d=Oi(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function ah(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function Zu(s,u,d,m,A,E){var M=0;if(m=s,typeof s=="function")ff(s)&&(M=1);else if(typeof s=="string")M=NR(s,d,X.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case q:return s=Oi(31,d,u,A),s.elementType=q,s.lanes=E,s;case y:return ol(d.children,A,E,u);case x:M=8,A|=24;break;case S:return s=Oi(12,d,u,A|2),s.elementType=S,s.lanes=E,s;case k:return s=Oi(13,d,u,A),s.elementType=k,s.lanes=E,s;case R:return s=Oi(19,d,u,A),s.elementType=R,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:M=10;break t;case O:M=9;break t;case N:M=11;break t;case B:M=14;break t;case H:M=16,m=null;break t}M=29,d=Error(r(130,s===null?"null":typeof s,"")),m=null}return u=Oi(M,d,u,A),u.elementType=s,u.type=m,u.lanes=E,u}function ol(s,u,d,m){return s=Oi(7,s,m,u),s.lanes=d,s}function sh(s,u,d){return s=Oi(6,s,null,u),s.lanes=d,s}function df(s){var u=Oi(18,null,null,0);return u.stateNode=s,u}function Qu(s,u,d){return u=Oi(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var pf=new WeakMap;function za(s,u){if(typeof s=="object"&&s!==null){var d=pf.get(s);return d!==void 0?d:(u={value:s,source:u,stack:ge(u)},pf.set(s,u),u)}return{value:s,source:u,stack:ge(u)}}var Ju=[],Xl=0,gf=null,oh=0,Ua=[],qa=0,ll=null,Ha=1,$a="";function _a(s,u){Ju[Xl++]=oh,Ju[Xl++]=gf,gf=s,oh=u}function Jg(s,u,d){Ua[qa++]=Ha,Ua[qa++]=$a,Ua[qa++]=ll,ll=s;var m=Ha;s=$a;var A=32-tn(m)-1;m&=~(1<<A),d+=1;var E=32-tn(u)+A;if(30<E){var M=A-A%5;E=(m&(1<<M)-1).toString(32),m>>=M,A-=M,Ha=1<<32-tn(u)+A|d<<A|m,$a=E+s}else Ha=1<<E|d<<A|m,$a=s}function Wd(s){s.return!==null&&(_a(s,1),Jg(s,1,0))}function mf(s){for(;s===gf;)gf=Ju[--Xl],Ju[Xl]=null,oh=Ju[--Xl],Ju[Xl]=null;for(;s===ll;)ll=Ua[--qa],Ua[qa]=null,$a=Ua[--qa],Ua[qa]=null,Ha=Ua[--qa],Ua[qa]=null}function tm(s,u){Ua[qa++]=Ha,Ua[qa++]=$a,Ua[qa++]=ll,Ha=u.id,$a=u.overflow,ll=s}var di=null,Wn=null,nn=!1,Vi=null,ur=!1,ws=Error(r(519));function ul(s){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tc(za(u,s)),ws}function Vd(s){var u=s.stateNode,d=s.type,m=s.memoizedProps;switch(u[Nn]=s,u[er]=m,d){case"dialog":an("cancel",u),an("close",u);break;case"iframe":case"object":case"embed":an("load",u);break;case"video":case"audio":for(d=0;d<gp.length;d++)an(gp[d],u);break;case"source":an("error",u);break;case"img":case"image":case"link":an("error",u),an("load",u);break;case"details":an("toggle",u);break;case"input":an("invalid",u),Qh(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":an("invalid",u);break;case"textarea":an("invalid",u),Gc(u,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||m.suppressHydrationWarning===!0||V_(u.textContent,d)?(m.popover!=null&&(an("beforetoggle",u),an("toggle",u)),m.onScroll!=null&&an("scroll",u),m.onScrollEnd!=null&&an("scrollend",u),m.onClick!=null&&(u.onclick=ps),u=!0):u=!1,u||ul(s,!0)}function Do(s){for(di=s.return;di;)switch(di.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:di=di.return}}function pi(s){if(s!==di)return!1;if(!nn)return Do(s),nn=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Iy(s.type,s.memoizedProps)),d=!d),d&&Wn&&ul(s),Do(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Wn=nE(s)}else if(u===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Wn=nE(s)}else u===27?(u=Wn,pc(s.type)?(s=Uy,Uy=null,Wn=s):Wn=u):Wn=di?Xs(s.stateNode.nextSibling):null;return!0}function Zl(){Wn=di=null,nn=!1}function Yd(){var s=Vi;return s!==null&&(Xa===null?Xa=s:Xa.push.apply(Xa,s),Vi=null),s}function tc(s){Vi===null?Vi=[s]:Vi.push(s)}var vf=Z(null),cl=null,Vs=null;function hl(s,u,d){G(vf,u._currentValue),u._currentValue=d}function Ga(s){s._currentValue=vf.current,I(vf)}function ec(s,u,d){for(;s!==null;){var m=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),s===d)break;s=s.return}}function Ql(s,u,d,m){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var E=A.dependencies;if(E!==null){var M=A.child;E=E.firstContext;t:for(;E!==null;){var Y=E;E=A;for(var ft=0;ft<u.length;ft++)if(Y.context===u[ft]){E.lanes|=d,Y=E.alternate,Y!==null&&(Y.lanes|=d),ec(E.return,d,s),m||(M=null);break t}E=Y.next}}else if(A.tag===18){if(M=A.return,M===null)throw Error(r(341));M.lanes|=d,E=M.alternate,E!==null&&(E.lanes|=d),ec(M,d,s),M=null}else M=A.child;if(M!==null)M.return=A;else for(M=A;M!==null;){if(M===s){M=null;break}if(A=M.sibling,A!==null){A.return=M.return,M=A;break}M=M.return}A=M}}function fl(s,u,d,m){s=null;for(var A=u,E=!1;A!==null;){if(!E){if((A.flags&524288)!==0)E=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var M=A.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var Y=A.type;hi(A.pendingProps.value,M.value)||(s!==null?s.push(Y):s=[Y])}}else if(A===ht.current){if(M=A.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(wp):s=[wp])}A=A.return}s!==null&&Ql(u,s,d,m),u.flags|=262144}function yf(s){for(s=s.firstContext;s!==null;){if(!hi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function dl(s){cl=s,Vs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function gi(s){return em(cl,s)}function bf(s,u){return cl===null&&dl(s),em(s,u)}function em(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Vs===null){if(s===null)throw Error(r(308));Vs=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else Vs=Vs.next=u;return d}var z1=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,m){s.push(m)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},U1=n.unstable_scheduleCallback,q1=n.unstable_NormalPriority,Er={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new z1,data:new Map,refCount:0}}function lh(s){s.refCount--,s.refCount===0&&U1(q1,function(){s.controller.abort()})}var uh=null,wf=0,b=0,_=null;function P(s,u){if(uh===null){var d=uh=[];wf=0,b=Ty(),_={status:"pending",value:void 0,then:function(m){d.push(m)}}}return wf++,u.then(L,L),u}function L(){if(--wf===0&&uh!==null){_!==null&&(_.status="fulfilled");var s=uh;uh=null,b=0,_=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function U(s,u){var d=[],m={status:"pending",value:null,reason:null,then:function(A){d.push(A)}};return s.then(function(){m.status="fulfilled",m.value=u;for(var A=0;A<d.length;A++)(0,d[A])(u)},function(A){for(m.status="rejected",m.reason=A,A=0;A<d.length;A++)(0,d[A])(void 0)}),m}var $=V.S;V.S=function(s,u){v_=Be(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&P(s,u),$!==null&&$(s,u)};var W=Z(null);function K(){var s=W.current;return s!==null?s:Yn.pooledCache}function Q(s,u){u===null?G(W,W.current):G(W,u.pool)}function at(){var s=K();return s===null?null:{parent:Er._currentValue,pool:s}}var mt=Error(r(460)),Ct=Error(r(474)),it=Error(r(542)),yt={then:function(){}};function xt(s){return s=s.status,s==="fulfilled"||s==="rejected"}function It(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(ps,ps),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,Gt(s),s;default:if(typeof u.status=="string")u.then(ps,ps);else{if(s=Yn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(m){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=m}},function(m){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,Gt(s),s}throw Rt=u,mt}}function St(s){try{var u=s._init;return u(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Rt=d,mt):d}}var Rt=null;function Ft(){if(Rt===null)throw Error(r(459));var s=Rt;return Rt=null,s}function Gt(s){if(s===mt||s===it)throw Error(r(483))}var qt=null,ae=0;function Xt(s){var u=ae;return ae+=1,qt===null&&(qt=[]),It(qt,s,u)}function De(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function Jt(s,u){throw u.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function en(s){function u(wt,vt){if(s){var Tt=wt.deletions;Tt===null?(wt.deletions=[vt],wt.flags|=16):Tt.push(vt)}}function d(wt,vt){if(!s)return null;for(;vt!==null;)u(wt,vt),vt=vt.sibling;return null}function m(wt){for(var vt=new Map;wt!==null;)wt.key!==null?vt.set(wt.key,wt):vt.set(wt.index,wt),wt=wt.sibling;return vt}function A(wt,vt){return wt=Fa(wt,vt),wt.index=0,wt.sibling=null,wt}function E(wt,vt,Tt){return wt.index=Tt,s?(Tt=wt.alternate,Tt!==null?(Tt=Tt.index,Tt<vt?(wt.flags|=67108866,vt):Tt):(wt.flags|=67108866,vt)):(wt.flags|=1048576,vt)}function M(wt){return s&&wt.alternate===null&&(wt.flags|=67108866),wt}function Y(wt,vt,Tt,zt){return vt===null||vt.tag!==6?(vt=sh(Tt,wt.mode,zt),vt.return=wt,vt):(vt=A(vt,Tt),vt.return=wt,vt)}function ft(wt,vt,Tt,zt){var xe=Tt.type;return xe===y?jt(wt,vt,Tt.props.children,zt,Tt.key):vt!==null&&(vt.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===H&&St(xe)===vt.type)?(vt=A(vt,Tt.props),De(vt,Tt),vt.return=wt,vt):(vt=Zu(Tt.type,Tt.key,Tt.props,null,wt.mode,zt),De(vt,Tt),vt.return=wt,vt)}function Ot(wt,vt,Tt,zt){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Tt.containerInfo||vt.stateNode.implementation!==Tt.implementation?(vt=Qu(Tt,wt.mode,zt),vt.return=wt,vt):(vt=A(vt,Tt.children||[]),vt.return=wt,vt)}function jt(wt,vt,Tt,zt,xe){return vt===null||vt.tag!==7?(vt=ol(Tt,wt.mode,zt,xe),vt.return=wt,vt):(vt=A(vt,Tt),vt.return=wt,vt)}function Ut(wt,vt,Tt){if(typeof vt=="string"&&vt!==""||typeof vt=="number"||typeof vt=="bigint")return vt=sh(""+vt,wt.mode,Tt),vt.return=wt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case g:return Tt=Zu(vt.type,vt.key,vt.props,null,wt.mode,Tt),De(Tt,vt),Tt.return=wt,Tt;case w:return vt=Qu(vt,wt.mode,Tt),vt.return=wt,vt;case H:return vt=St(vt),Ut(wt,vt,Tt)}if(dt(vt)||z(vt))return vt=ol(vt,wt.mode,Tt,null),vt.return=wt,vt;if(typeof vt.then=="function")return Ut(wt,Xt(vt),Tt);if(vt.$$typeof===C)return Ut(wt,bf(wt,vt),Tt);Jt(wt,vt)}return null}function Nt(wt,vt,Tt,zt){var xe=vt!==null?vt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return xe!==null?null:Y(wt,vt,""+Tt,zt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case g:return Tt.key===xe?ft(wt,vt,Tt,zt):null;case w:return Tt.key===xe?Ot(wt,vt,Tt,zt):null;case H:return Tt=St(Tt),Nt(wt,vt,Tt,zt)}if(dt(Tt)||z(Tt))return xe!==null?null:jt(wt,vt,Tt,zt,null);if(typeof Tt.then=="function")return Nt(wt,vt,Xt(Tt),zt);if(Tt.$$typeof===C)return Nt(wt,vt,bf(wt,Tt),zt);Jt(wt,Tt)}return null}function Mt(wt,vt,Tt,zt,xe){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return wt=wt.get(Tt)||null,Y(vt,wt,""+zt,xe);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case g:return wt=wt.get(zt.key===null?Tt:zt.key)||null,ft(vt,wt,zt,xe);case w:return wt=wt.get(zt.key===null?Tt:zt.key)||null,Ot(vt,wt,zt,xe);case H:return zt=St(zt),Mt(wt,vt,Tt,zt,xe)}if(dt(zt)||z(zt))return wt=wt.get(Tt)||null,jt(vt,wt,zt,xe,null);if(typeof zt.then=="function")return Mt(wt,vt,Tt,Xt(zt),xe);if(zt.$$typeof===C)return Mt(wt,vt,Tt,bf(vt,zt),xe);Jt(vt,zt)}return null}function re(wt,vt,Tt,zt){for(var xe=null,wn=null,ue=vt,Ke=vt=0,on=null;ue!==null&&Ke<Tt.length;Ke++){ue.index>Ke?(on=ue,ue=null):on=ue.sibling;var An=Nt(wt,ue,Tt[Ke],zt);if(An===null){ue===null&&(ue=on);break}s&&ue&&An.alternate===null&&u(wt,ue),vt=E(An,vt,Ke),wn===null?xe=An:wn.sibling=An,wn=An,ue=on}if(Ke===Tt.length)return d(wt,ue),nn&&_a(wt,Ke),xe;if(ue===null){for(;Ke<Tt.length;Ke++)ue=Ut(wt,Tt[Ke],zt),ue!==null&&(vt=E(ue,vt,Ke),wn===null?xe=ue:wn.sibling=ue,wn=ue);return nn&&_a(wt,Ke),xe}for(ue=m(ue);Ke<Tt.length;Ke++)on=Mt(ue,wt,Ke,Tt[Ke],zt),on!==null&&(s&&on.alternate!==null&&ue.delete(on.key===null?Ke:on.key),vt=E(on,vt,Ke),wn===null?xe=on:wn.sibling=on,wn=on);return s&&ue.forEach(function(bc){return u(wt,bc)}),nn&&_a(wt,Ke),xe}function Pe(wt,vt,Tt,zt){if(Tt==null)throw Error(r(151));for(var xe=null,wn=null,ue=vt,Ke=vt=0,on=null,An=Tt.next();ue!==null&&!An.done;Ke++,An=Tt.next()){ue.index>Ke?(on=ue,ue=null):on=ue.sibling;var bc=Nt(wt,ue,An.value,zt);if(bc===null){ue===null&&(ue=on);break}s&&ue&&bc.alternate===null&&u(wt,ue),vt=E(bc,vt,Ke),wn===null?xe=bc:wn.sibling=bc,wn=bc,ue=on}if(An.done)return d(wt,ue),nn&&_a(wt,Ke),xe;if(ue===null){for(;!An.done;Ke++,An=Tt.next())An=Ut(wt,An.value,zt),An!==null&&(vt=E(An,vt,Ke),wn===null?xe=An:wn.sibling=An,wn=An);return nn&&_a(wt,Ke),xe}for(ue=m(ue);!An.done;Ke++,An=Tt.next())An=Mt(ue,wt,Ke,An.value,zt),An!==null&&(s&&An.alternate!==null&&ue.delete(An.key===null?Ke:An.key),vt=E(An,vt,Ke),wn===null?xe=An:wn.sibling=An,wn=An);return s&&ue.forEach(function(UR){return u(wt,UR)}),nn&&_a(wt,Ke),xe}function Hn(wt,vt,Tt,zt){if(typeof Tt=="object"&&Tt!==null&&Tt.type===y&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case g:t:{for(var xe=Tt.key;vt!==null;){if(vt.key===xe){if(xe=Tt.type,xe===y){if(vt.tag===7){d(wt,vt.sibling),zt=A(vt,Tt.props.children),zt.return=wt,wt=zt;break t}}else if(vt.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===H&&St(xe)===vt.type){d(wt,vt.sibling),zt=A(vt,Tt.props),De(zt,Tt),zt.return=wt,wt=zt;break t}d(wt,vt);break}else u(wt,vt);vt=vt.sibling}Tt.type===y?(zt=ol(Tt.props.children,wt.mode,zt,Tt.key),zt.return=wt,wt=zt):(zt=Zu(Tt.type,Tt.key,Tt.props,null,wt.mode,zt),De(zt,Tt),zt.return=wt,wt=zt)}return M(wt);case w:t:{for(xe=Tt.key;vt!==null;){if(vt.key===xe)if(vt.tag===4&&vt.stateNode.containerInfo===Tt.containerInfo&&vt.stateNode.implementation===Tt.implementation){d(wt,vt.sibling),zt=A(vt,Tt.children||[]),zt.return=wt,wt=zt;break t}else{d(wt,vt);break}else u(wt,vt);vt=vt.sibling}zt=Qu(Tt,wt.mode,zt),zt.return=wt,wt=zt}return M(wt);case H:return Tt=St(Tt),Hn(wt,vt,Tt,zt)}if(dt(Tt))return re(wt,vt,Tt,zt);if(z(Tt)){if(xe=z(Tt),typeof xe!="function")throw Error(r(150));return Tt=xe.call(Tt),Pe(wt,vt,Tt,zt)}if(typeof Tt.then=="function")return Hn(wt,vt,Xt(Tt),zt);if(Tt.$$typeof===C)return Hn(wt,vt,bf(wt,Tt),zt);Jt(wt,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint"?(Tt=""+Tt,vt!==null&&vt.tag===6?(d(wt,vt.sibling),zt=A(vt,Tt),zt.return=wt,wt=zt):(d(wt,vt),zt=sh(Tt,wt.mode,zt),zt.return=wt,wt=zt),M(wt)):d(wt,vt)}return function(wt,vt,Tt,zt){try{ae=0;var xe=Hn(wt,vt,Tt,zt);return qt=null,xe}catch(ue){if(ue===mt||ue===it)throw ue;var wn=Oi(29,ue,null,wt.mode);return wn.lanes=zt,wn.return=wt,wn}finally{}}}var Vn=en(!0),ze=en(!1),Zt=!1;function Kt(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rr(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Te(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ge(s,u,d){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Cn&2)!==0){var A=m.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),m.pending=u,u=Ti(s),ih(s,null,d),u}return rh(s,m,u,d),Ti(s)}function _n(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var m=u.lanes;m&=s.pendingLanes,d|=m,u.lanes=d,pa(s,d)}}function $r(s,u){var d=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var A=null,E=null;if(d=d.firstBaseUpdate,d!==null){do{var M={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};E===null?A=E=M:E=E.next=M,d=d.next}while(d!==null);E===null?A=E=u:E=E.next=u}else A=E=u;d={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var mi=!1;function zn(){if(mi){var s=_;if(s!==null)throw s}}function Mr(s,u,d,m){mi=!1;var A=s.updateQueue;Zt=!1;var E=A.firstBaseUpdate,M=A.lastBaseUpdate,Y=A.shared.pending;if(Y!==null){A.shared.pending=null;var ft=Y,Ot=ft.next;ft.next=null,M===null?E=Ot:M.next=Ot,M=ft;var jt=s.alternate;jt!==null&&(jt=jt.updateQueue,Y=jt.lastBaseUpdate,Y!==M&&(Y===null?jt.firstBaseUpdate=Ot:Y.next=Ot,jt.lastBaseUpdate=ft))}if(E!==null){var Ut=A.baseState;M=0,jt=Ot=ft=null,Y=E;do{var Nt=Y.lane&-536870913,Mt=Nt!==Y.lane;if(Mt?(sn&Nt)===Nt:(m&Nt)===Nt){Nt!==0&&Nt===b&&(mi=!0),jt!==null&&(jt=jt.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});t:{var re=s,Pe=Y;Nt=u;var Hn=d;switch(Pe.tag){case 1:if(re=Pe.payload,typeof re=="function"){Ut=re.call(Hn,Ut,Nt);break t}Ut=re;break t;case 3:re.flags=re.flags&-65537|128;case 0:if(re=Pe.payload,Nt=typeof re=="function"?re.call(Hn,Ut,Nt):re,Nt==null)break t;Ut=p({},Ut,Nt);break t;case 2:Zt=!0}}Nt=Y.callback,Nt!==null&&(s.flags|=64,Mt&&(s.flags|=8192),Mt=A.callbacks,Mt===null?A.callbacks=[Nt]:Mt.push(Nt))}else Mt={lane:Nt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},jt===null?(Ot=jt=Mt,ft=Ut):jt=jt.next=Mt,M|=Nt;if(Y=Y.next,Y===null){if(Y=A.shared.pending,Y===null)break;Mt=Y,Y=Mt.next,Mt.next=null,A.lastBaseUpdate=Mt,A.shared.pending=null}}while(!0);jt===null&&(ft=Ut),A.baseState=ft,A.firstBaseUpdate=Ot,A.lastBaseUpdate=jt,E===null&&(A.shared.lanes=0),uc|=M,s.lanes=M,s.memoizedState=Ut}}function Pi(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function Dr(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)Pi(d[s],u)}var Xe=Z(null),pn=Z(0);function ir(s,u){s=lu,G(pn,s),G(Xe,u),lu=s|u.baseLanes}function bn(){G(pn,lu),G(Xe,Xe.current)}function Gr(){lu=pn.current,I(Xe),I(pn)}var ar=Z(null),gn=null;function Cr(s){var u=s.alternate;G(hn,hn.current&1),G(ar,s),gn===null&&(u===null||Xe.current!==null||u.memoizedState!==null)&&(gn=s)}function En(s){G(hn,hn.current),G(ar,s),gn===null&&(gn=s)}function Rr(s){s.tag===22?(G(hn,hn.current),G(ar,s),gn===null&&(gn=s)):Ir()}function Ir(){G(hn,hn.current),G(ar,ar.current)}function kn(s){I(ar),gn===s&&(gn=null),I(hn)}var hn=Z(0);function Ni(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Fy(d)||zy(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var cr=0,ye=null,Ae=null,mn=null,aa=!1,Wa=!1,Yi=!1,jr=0,pl=0,gl=null,Af=0;function Un(){throw Error(r(321))}function Kd(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!hi(s[d],u[d]))return!1;return!0}function Xd(s,u,d,m,A,E){return cr=E,ye=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,V.H=s===null||s.memoizedState===null?OS:X1,Yi=!1,E=d(m,A),Yi=!1,Wa&&(E=Ro(u,d,m,A)),xf(s),E}function xf(s){V.H=ip;var u=Ae!==null&&Ae.next!==null;if(cr=0,mn=Ae=ye=null,aa=!1,pl=0,gl=null,u)throw Error(r(300));s===null||ni||(s=s.dependencies,s!==null&&yf(s)&&(ni=!0))}function Ro(s,u,d,m){ye=s;var A=0;do{if(Wa&&(gl=null),pl=0,Wa=!1,25<=A)throw Error(r(301));if(A+=1,mn=Ae=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}V.H=PS,E=u(d,m)}while(Wa);return E}function H1(){var s=V.H,u=s.useState()[0];return u=typeof u.then=="function"?ml(u):u,s=s.useState()[0],(Ae!==null?Ae.memoizedState:null)!==s&&(ye.flags|=1024),u}function Zd(){var s=jr!==0;return jr=0,s}function Qd(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function Sf(s){if(aa){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}aa=!1}cr=0,mn=Ae=ye=null,Wa=!1,pl=jr=0,gl=null}function ei(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?ye.memoizedState=mn=s:mn=mn.next=s,mn}function hr(){if(Ae===null){var s=ye.alternate;s=s!==null?s.memoizedState:null}else s=Ae.next;var u=mn===null?ye.memoizedState:mn.next;if(u!==null)mn=u,Ae=s;else{if(s===null)throw ye.alternate===null?Error(r(467)):Error(r(310));Ae=s,s={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},mn===null?ye.memoizedState=mn=s:mn=mn.next=s}return mn}function ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(s){var u=pl;return pl+=1,gl===null&&(gl=[]),s=It(gl,s,u),u=ye,(mn===null?u.memoizedState:mn.next)===null&&(u=u.alternate,V.H=u===null||u.memoizedState===null?OS:X1),s}function rc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ml(s);if(s.$$typeof===C)return gi(s)}throw Error(r(438,String(s)))}function Jl(s){var u=null,d=ye.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var m=ye.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=ch(),ye.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),m=0;m<s;m++)d[m]=rt;return u.index++,d}function Ys(s,u){return typeof u=="function"?u(s):u}function _f(s){var u=hr();return ic(u,Ae,s)}function ic(s,u,d){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var A=s.baseQueue,E=m.pending;if(E!==null){if(A!==null){var M=A.next;A.next=E.next,E.next=M}u.baseQueue=A=E,m.pending=null}if(E=s.baseState,A===null)s.memoizedState=E;else{u=A.next;var Y=M=null,ft=null,Ot=u,jt=!1;do{var Ut=Ot.lane&-536870913;if(Ut!==Ot.lane?(sn&Ut)===Ut:(cr&Ut)===Ut){var Nt=Ot.revertLane;if(Nt===0)ft!==null&&(ft=ft.next={lane:0,revertLane:0,gesture:null,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null}),Ut===b&&(jt=!0);else if((cr&Nt)===Nt){Ot=Ot.next,Nt===b&&(jt=!0);continue}else Ut={lane:0,revertLane:Ot.revertLane,gesture:null,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},ft===null?(Y=ft=Ut,M=E):ft=ft.next=Ut,ye.lanes|=Nt,uc|=Nt;Ut=Ot.action,Yi&&d(E,Ut),E=Ot.hasEagerState?Ot.eagerState:d(E,Ut)}else Nt={lane:Ut,revertLane:Ot.revertLane,gesture:Ot.gesture,action:Ot.action,hasEagerState:Ot.hasEagerState,eagerState:Ot.eagerState,next:null},ft===null?(Y=ft=Nt,M=E):ft=ft.next=Nt,ye.lanes|=Ut,uc|=Ut;Ot=Ot.next}while(Ot!==null&&Ot!==u);if(ft===null?M=E:ft.next=Y,!hi(E,s.memoizedState)&&(ni=!0,jt&&(d=_,d!==null)))throw d;s.memoizedState=E,s.baseState=M,s.baseQueue=ft,m.lastRenderedState=E}return A===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Ef(s){var u=hr(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var m=d.dispatch,A=d.pending,E=u.memoizedState;if(A!==null){d.pending=null;var M=A=A.next;do E=s(E,M.action),M=M.next;while(M!==A);hi(E,u.memoizedState)||(ni=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),d.lastRenderedState=E}return[E,m]}function Cf(s,u,d){var m=ye,A=hr(),E=nn;if(E){if(d===void 0)throw Error(r(407));d=d()}else d=u();var M=!hi((Ae||A).memoizedState,d);if(M&&(A.memoizedState=d,ni=!0),A=A.queue,$1(tp.bind(null,m,A,s),[s]),A.getSnapshot!==u||M||mn!==null&&mn.memoizedState.tag&1){if(m.flags|=2048,eu(9,{destroy:void 0},Jd.bind(null,m,A,d,u),null),Yn===null)throw Error(r(349));E||(cr&127)!==0||Io(m,u,d)}return d}function Io(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=ye.updateQueue,u===null?(u=ch(),ye.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function Jd(s,u,d,m){u.value=d,u.getSnapshot=m,nm(u)&&ep(s)}function tp(s,u,d){return d(function(){nm(u)&&ep(s)})}function nm(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!hi(s,d)}catch{return!0}}function ep(s){var u=Mo(s,2);u!==null&&Za(u,s,2)}function vl(s){var u=ei();if(typeof s=="function"){var d=s;if(s=d(),Yi){Le(!0);try{d()}finally{Le(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:s},u}function rm(s,u,d,m){return s.baseState=d,ic(s,Ae,typeof m=="function"?m:Ys)}function im(s,u,d,m,A){if(lm(s))throw Error(r(485));if(s=u.action,s!==null){var E={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){E.listeners.push(M)}};V.T!==null?d(!0):E.isTransition=!1,m(E),d=u.pending,d===null?(E.next=u.pending=E,am(u,E)):(E.next=d.next,u.pending=d.next=E)}}function am(s,u){var d=u.action,m=u.payload,A=s.state;if(u.isTransition){var E=V.T,M={};V.T=M;try{var Y=d(A,m),ft=V.S;ft!==null&&ft(M,Y),np(s,u,Y)}catch(Ot){tu(s,u,Ot)}finally{E!==null&&M.types!==null&&(E.types=M.types),V.T=E}}else try{E=d(A,m),np(s,u,E)}catch(Ot){tu(s,u,Ot)}}function np(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){sm(s,u,m)},function(m){return tu(s,u,m)}):sm(s,u,d)}function sm(s,u,d){u.status="fulfilled",u.value=d,Tf(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,am(s,d)))}function tu(s,u,d){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=d,Tf(u),u=u.next;while(u!==m)}s.action=null}function Tf(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function hh(s,u){return u}function Ks(s,u){if(nn){var d=Yn.formState;if(d!==null){t:{var m=ye;if(nn){if(Wn){e:{for(var A=Wn,E=ur;A.nodeType!==8;){if(!E){A=null;break e}if(A=Xs(A.nextSibling),A===null){A=null;break e}}E=A.data,A=E==="F!"||E==="F"?A:null}if(A){Wn=Xs(A.nextSibling),m=A.data==="F!";break t}}ul(m)}m=!1}m&&(u=d[0])}}return d=ei(),d.memoizedState=d.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hh,lastRenderedState:u},d.queue=m,d=ES.bind(null,ye,m),m.dispatch=d,m=vl(!1),E=K1.bind(null,ye,!1,m.queue),m=ei(),A={state:u,dispatch:null,action:s,pending:null},m.queue=A,d=im.bind(null,ye,A,E,d),A.dispatch=d,m.memoizedState=s,[u,d,!1]}function jo(s){var u=hr();return Bo(u,Ae,s)}function Bo(s,u,d){if(u=ic(s,u,hh)[0],s=_f(Ys)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=ml(u)}catch(M){throw M===mt?it:M}else m=u;u=hr();var A=u.queue,E=A.dispatch;return d!==u.memoizedState&&(ye.flags|=2048,eu(9,{destroy:void 0},Of.bind(null,A,d),null)),[m,E,s]}function Of(s,u){s.action=u}function Pf(s){var u=hr(),d=Ae;if(d!==null)return Bo(u,d,s);hr(),u=u.memoizedState,d=hr();var m=d.queue.dispatch;return d.memoizedState=s,[u,m,!1]}function eu(s,u,d,m){return s={tag:s,create:d,deps:m,inst:u,next:null},u=ye.updateQueue,u===null&&(u=ch(),ye.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(m=d.next,d.next=s,s.next=m,u.lastEffect=s),s}function om(){return hr().memoizedState}function ac(s,u,d,m){var A=ei();ye.flags|=s,A.memoizedState=eu(1|u,{destroy:void 0},d,m===void 0?null:m)}function sc(s,u,d,m){var A=hr();m=m===void 0?null:m;var E=A.memoizedState.inst;Ae!==null&&m!==null&&Kd(m,Ae.memoizedState.deps)?A.memoizedState=eu(u,E,d,m):(ye.flags|=s,A.memoizedState=eu(1|u,E,d,m))}function hS(s,u){ac(8390656,8,s,u)}function $1(s,u){sc(2048,8,s,u)}function R8(s){ye.flags|=4;var u=ye.updateQueue;if(u===null)u=ch(),ye.updateQueue=u,u.events=[s];else{var d=u.events;d===null?u.events=[s]:d.push(s)}}function fS(s){var u=hr().memoizedState;return R8({ref:u,nextImpl:s}),function(){if((Cn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function dS(s,u){return sc(4,2,s,u)}function pS(s,u){return sc(4,4,s,u)}function gS(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function mS(s,u,d){d=d!=null?d.concat([s]):null,sc(4,4,gS.bind(null,u,s),d)}function G1(){}function vS(s,u){var d=hr();u=u===void 0?null:u;var m=d.memoizedState;return u!==null&&Kd(u,m[1])?m[0]:(d.memoizedState=[s,u],s)}function yS(s,u){var d=hr();u=u===void 0?null:u;var m=d.memoizedState;if(u!==null&&Kd(u,m[1]))return m[0];if(m=s(),Yi){Le(!0);try{s()}finally{Le(!1)}}return d.memoizedState=[m,u],m}function W1(s,u,d){return d===void 0||(cr&1073741824)!==0&&(sn&261930)===0?s.memoizedState=u:(s.memoizedState=d,s=b_(),ye.lanes|=s,uc|=s,d)}function bS(s,u,d,m){return hi(d,u)?d:Xe.current!==null?(s=W1(s,d,m),hi(s,u)||(ni=!0),s):(cr&42)===0||(cr&1073741824)!==0&&(sn&261930)===0?(ni=!0,s.memoizedState=d):(s=b_(),ye.lanes|=s,uc|=s,u)}function wS(s,u,d,m,A){var E=J.p;J.p=E!==0&&8>E?E:8;var M=V.T,Y={};V.T=Y,K1(s,!1,u,d);try{var ft=A(),Ot=V.S;if(Ot!==null&&Ot(Y,ft),ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var jt=U(ft,m);rp(s,u,jt,Ss(s))}else rp(s,u,m,Ss(s))}catch(Ut){rp(s,u,{then:function(){},status:"rejected",reason:Ut},Ss())}finally{J.p=E,M!==null&&Y.types!==null&&(M.types=Y.types),V.T=M}}function I8(){}function V1(s,u,d,m){if(s.tag!==5)throw Error(r(476));var A=AS(s).queue;wS(s,A,u,st,d===null?I8:function(){return xS(s),d(m)})}function AS(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:st},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function xS(s){var u=AS(s);u.next===null&&(u=s.alternate.memoizedState),rp(s,u.next.queue,{},Ss())}function Y1(){return gi(wp)}function SS(){return hr().memoizedState}function _S(){return hr().memoizedState}function j8(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=Ss();s=Te(d);var m=Ge(u,s,d);m!==null&&(Za(m,u,d),_n(m,u,d)),u={cache:nc()},s.payload=u;return}u=u.return}}function B8(s,u,d){var m=Ss();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},lm(s)?CS(u,d):(d=cf(s,u,d,m),d!==null&&(Za(d,s,m),TS(d,u,m)))}function ES(s,u,d){var m=Ss();rp(s,u,d,m)}function rp(s,u,d,m){var A={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(lm(s))CS(u,A);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var M=u.lastRenderedState,Y=E(M,d);if(A.hasEagerState=!0,A.eagerState=Y,hi(Y,M))return rh(s,u,A,0),Yn===null&&nh(),!1}catch{}finally{}if(d=cf(s,u,A,m),d!==null)return Za(d,s,m),TS(d,u,m),!0}return!1}function K1(s,u,d,m){if(m={lane:2,revertLane:Ty(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},lm(s)){if(u)throw Error(r(479))}else u=cf(s,d,m,2),u!==null&&Za(u,s,2)}function lm(s){var u=s.alternate;return s===ye||u!==null&&u===ye}function CS(s,u){Wa=aa=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function TS(s,u,d){if((d&4194048)!==0){var m=u.lanes;m&=s.pendingLanes,d|=m,u.lanes=d,pa(s,d)}}var ip={readContext:gi,use:rc,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};ip.useEffectEvent=Un;var OS={readContext:gi,use:rc,useCallback:function(s,u){return ei().memoizedState=[s,u===void 0?null:u],s},useContext:gi,useEffect:hS,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,ac(4194308,4,gS.bind(null,u,s),d)},useLayoutEffect:function(s,u){return ac(4194308,4,s,u)},useInsertionEffect:function(s,u){ac(4,2,s,u)},useMemo:function(s,u){var d=ei();u=u===void 0?null:u;var m=s();if(Yi){Le(!0);try{s()}finally{Le(!1)}}return d.memoizedState=[m,u],m},useReducer:function(s,u,d){var m=ei();if(d!==void 0){var A=d(u);if(Yi){Le(!0);try{d(u)}finally{Le(!1)}}}else A=u;return m.memoizedState=m.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},m.queue=s,s=s.dispatch=B8.bind(null,ye,s),[m.memoizedState,s]},useRef:function(s){var u=ei();return s={current:s},u.memoizedState=s},useState:function(s){s=vl(s);var u=s.queue,d=ES.bind(null,ye,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:G1,useDeferredValue:function(s,u){var d=ei();return W1(d,s,u)},useTransition:function(){var s=vl(!1);return s=wS.bind(null,ye,s.queue,!0,!1),ei().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var m=ye,A=ei();if(nn){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Yn===null)throw Error(r(349));(sn&127)!==0||Io(m,u,d)}A.memoizedState=d;var E={value:d,getSnapshot:u};return A.queue=E,hS(tp.bind(null,m,E,s),[s]),m.flags|=2048,eu(9,{destroy:void 0},Jd.bind(null,m,E,d,u),null),d},useId:function(){var s=ei(),u=Yn.identifierPrefix;if(nn){var d=$a,m=Ha;d=(m&~(1<<32-tn(m)-1)).toString(32)+d,u="_"+u+"R_"+d,d=jr++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=Af++,u="_"+u+"r_"+d.toString(32)+"_";return s.memoizedState=u},useHostTransitionStatus:Y1,useFormState:Ks,useActionState:Ks,useOptimistic:function(s){var u=ei();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=K1.bind(null,ye,!0,d),d.dispatch=u,[s,u]},useMemoCache:Jl,useCacheRefresh:function(){return ei().memoizedState=j8.bind(null,ye)},useEffectEvent:function(s){var u=ei(),d={impl:s};return u.memoizedState=d,function(){if((Cn&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},X1={readContext:gi,use:rc,useCallback:vS,useContext:gi,useEffect:$1,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:yS,useReducer:_f,useRef:om,useState:function(){return _f(Ys)},useDebugValue:G1,useDeferredValue:function(s,u){var d=hr();return bS(d,Ae.memoizedState,s,u)},useTransition:function(){var s=_f(Ys)[0],u=hr().memoizedState;return[typeof s=="boolean"?s:ml(s),u]},useSyncExternalStore:Cf,useId:SS,useHostTransitionStatus:Y1,useFormState:jo,useActionState:jo,useOptimistic:function(s,u){var d=hr();return rm(d,Ae,s,u)},useMemoCache:Jl,useCacheRefresh:_S};X1.useEffectEvent=fS;var PS={readContext:gi,use:rc,useCallback:vS,useContext:gi,useEffect:$1,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:pS,useMemo:yS,useReducer:Ef,useRef:om,useState:function(){return Ef(Ys)},useDebugValue:G1,useDeferredValue:function(s,u){var d=hr();return Ae===null?W1(d,s,u):bS(d,Ae.memoizedState,s,u)},useTransition:function(){var s=Ef(Ys)[0],u=hr().memoizedState;return[typeof s=="boolean"?s:ml(s),u]},useSyncExternalStore:Cf,useId:SS,useHostTransitionStatus:Y1,useFormState:Pf,useActionState:Pf,useOptimistic:function(s,u){var d=hr();return Ae!==null?rm(d,Ae,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Jl,useCacheRefresh:_S};PS.useEffectEvent=fS;function Z1(s,u,d,m){u=s.memoizedState,d=d(m,u),d=d==null?u:p({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Q1={enqueueSetState:function(s,u,d){s=s._reactInternals;var m=Ss(),A=Te(m);A.payload=u,d!=null&&(A.callback=d),u=Ge(s,A,m),u!==null&&(Za(u,s,m),_n(u,s,m))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var m=Ss(),A=Te(m);A.tag=1,A.payload=u,d!=null&&(A.callback=d),u=Ge(s,A,m),u!==null&&(Za(u,s,m),_n(u,s,m))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Ss(),m=Te(d);m.tag=2,u!=null&&(m.callback=u),u=Ge(s,m,d),u!==null&&(Za(u,s,d),_n(u,s,d))}};function NS(s,u,d,m,A,E,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,E,M):u.prototype&&u.prototype.isPureReactComponent?!Po(d,m)||!Po(A,E):!0}function kS(s,u,d,m){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,m),u.state!==s&&Q1.enqueueReplaceState(u,u.state,null)}function fh(s,u){var d=u;if("ref"in u){d={};for(var m in u)m!=="ref"&&(d[m]=u[m])}if(s=s.defaultProps){d===u&&(d=p({},d));for(var A in s)d[A]===void 0&&(d[A]=s[A])}return d}function LS(s){eh(s)}function MS(s){console.error(s)}function DS(s){eh(s)}function um(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function RS(s,u,d){try{var m=s.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function J1(s,u,d){return d=Te(d),d.tag=3,d.payload={element:null},d.callback=function(){um(s,u)},d}function IS(s){return s=Te(s),s.tag=3,s}function jS(s,u,d,m){var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var E=m.value;s.payload=function(){return A(E)},s.callback=function(){RS(u,d,m)}}var M=d.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(s.callback=function(){RS(u,d,m),typeof A!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var Y=m.stack;this.componentDidCatch(m.value,{componentStack:Y!==null?Y:""})})}function F8(s,u,d,m,A){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=d.alternate,u!==null&&fl(u,d,A,!0),d=ar.current,d!==null){switch(d.tag){case 31:case 13:return gn===null?Am():d.alternate===null&&Br===0&&(Br=3),d.flags&=-257,d.flags|=65536,d.lanes=A,m===yt?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([m]):u.add(m),_y(s,m,A)),!1;case 22:return d.flags|=65536,m===yt?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([m]):d.add(m)),_y(s,m,A)),!1}throw Error(r(435,d.tag))}return _y(s,m,A),Am(),!1}if(nn)return u=ar.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,m!==ws&&(s=Error(r(422),{cause:m}),tc(za(s,d)))):(m!==ws&&(u=Error(r(423),{cause:m}),tc(za(u,d))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,m=za(m,d),A=J1(s.stateNode,m,A),$r(s,A),Br!==4&&(Br=2)),!1;var E=Error(r(520),{cause:m});if(E=za(E,d),fp===null?fp=[E]:fp.push(E),Br!==4&&(Br=2),u===null)return!0;m=za(m,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=A&-A,d.lanes|=s,s=J1(d.stateNode,m,s),$r(d,s),!1;case 1:if(u=d.type,E=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(cc===null||!cc.has(E))))return d.flags|=65536,A&=-A,d.lanes|=A,A=IS(A),jS(A,s,d,m),$r(d,A),!1}d=d.return}while(d!==null);return!1}var ty=Error(r(461)),ni=!1;function Ki(s,u,d,m){u.child=s===null?ze(u,null,d,m):Vn(u,s.child,d,m)}function BS(s,u,d,m,A){d=d.render;var E=u.ref;if("ref"in m){var M={};for(var Y in m)Y!=="ref"&&(M[Y]=m[Y])}else M=m;return dl(u),m=Xd(s,u,d,M,E,A),Y=Zd(),s!==null&&!ni?(Qd(s,u,A),nu(s,u,A)):(nn&&Y&&Wd(u),u.flags|=1,Ki(s,u,m,A),u.child)}function FS(s,u,d,m,A){if(s===null){var E=d.type;return typeof E=="function"&&!ff(E)&&E.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=E,zS(s,u,E,m,A)):(s=Zu(d.type,null,m,u,u.mode,A),s.ref=u.ref,s.return=u,u.child=s)}if(E=s.child,!ly(s,A)){var M=E.memoizedProps;if(d=d.compare,d=d!==null?d:Po,d(M,m)&&s.ref===u.ref)return nu(s,u,A)}return u.flags|=1,s=Fa(E,m),s.ref=u.ref,s.return=u,u.child=s}function zS(s,u,d,m,A){if(s!==null){var E=s.memoizedProps;if(Po(E,m)&&s.ref===u.ref)if(ni=!1,u.pendingProps=m=E,ly(s,A))(s.flags&131072)!==0&&(ni=!0);else return u.lanes=s.lanes,nu(s,u,A)}return ey(s,u,d,m,A)}function US(s,u,d,m){var A=m.children,E=s!==null?s.memoizedState:null;if(s===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(E=E!==null?E.baseLanes|d:d,s!==null){for(m=u.child=s.child,A=0;m!==null;)A=A|m.lanes|m.childLanes,m=m.sibling;m=A&~E}else m=0,u.child=null;return qS(s,u,E,d,m)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&Q(u,E!==null?E.cachePool:null),E!==null?ir(u,E):bn(),Rr(u);else return m=u.lanes=536870912,qS(s,u,E!==null?E.baseLanes|d:d,d,m)}else E!==null?(Q(u,E.cachePool),ir(u,E),Ir(),u.memoizedState=null):(s!==null&&Q(u,null),bn(),Ir());return Ki(s,u,A,d),u.child}function ap(s,u){return s!==null&&s.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function qS(s,u,d,m,A){var E=K();return E=E===null?null:{parent:Er._currentValue,pool:E},u.memoizedState={baseLanes:d,cachePool:E},s!==null&&Q(u,null),bn(),Rr(u),s!==null&&fl(s,u,m,!0),u.childLanes=A,null}function cm(s,u){return u=fm({mode:u.mode,children:u.children},s.mode),u.ref=s.ref,s.child=u,u.return=s,u}function HS(s,u,d){return Vn(u,s.child,null,d),s=cm(u,u.pendingProps),s.flags|=2,kn(u),u.memoizedState=null,s}function z8(s,u,d){var m=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,s===null){if(nn){if(m.mode==="hidden")return s=cm(u,m),u.lanes=536870912,ap(null,s);if(En(u),(s=Wn)?(s=eE(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:ll!==null?{id:Ha,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},d=df(s),d.return=u,u.child=d,di=u,Wn=null)):s=null,s===null)throw ul(u);return u.lanes=536870912,null}return cm(u,m)}var E=s.memoizedState;if(E!==null){var M=E.dehydrated;if(En(u),A)if(u.flags&256)u.flags&=-257,u=HS(s,u,d);else if(u.memoizedState!==null)u.child=s.child,u.flags|=128,u=null;else throw Error(r(558));else if(ni||fl(s,u,d,!1),A=(d&s.childLanes)!==0,ni||A){if(m=Yn,m!==null&&(M=ga(m,d),M!==0&&M!==E.retryLane))throw E.retryLane=M,Mo(s,M),Za(m,s,M),ty;Am(),u=HS(s,u,d)}else s=E.treeContext,Wn=Xs(M.nextSibling),di=u,nn=!0,Vi=null,ur=!1,s!==null&&tm(u,s),u=cm(u,m),u.flags|=4096;return u}return s=Fa(s.child,{mode:m.mode,children:m.children}),s.ref=u.ref,u.child=s,s.return=u,s}function hm(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function ey(s,u,d,m,A){return dl(u),d=Xd(s,u,d,m,void 0,A),m=Zd(),s!==null&&!ni?(Qd(s,u,A),nu(s,u,A)):(nn&&m&&Wd(u),u.flags|=1,Ki(s,u,d,A),u.child)}function $S(s,u,d,m,A,E){return dl(u),u.updateQueue=null,d=Ro(u,m,d,A),xf(s),m=Zd(),s!==null&&!ni?(Qd(s,u,E),nu(s,u,E)):(nn&&m&&Wd(u),u.flags|=1,Ki(s,u,d,E),u.child)}function GS(s,u,d,m,A){if(dl(u),u.stateNode===null){var E=fi,M=d.contextType;typeof M=="object"&&M!==null&&(E=gi(M)),E=new d(m,E),u.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Q1,u.stateNode=E,E._reactInternals=u,E=u.stateNode,E.props=m,E.state=u.memoizedState,E.refs={},Kt(u),M=d.contextType,E.context=typeof M=="object"&&M!==null?gi(M):fi,E.state=u.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(Z1(u,d,M,m),E.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(M=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),M!==E.state&&Q1.enqueueReplaceState(E,E.state,null),Mr(u,m,E,A),zn(),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(s===null){E=u.stateNode;var Y=u.memoizedProps,ft=fh(d,Y);E.props=ft;var Ot=E.context,jt=d.contextType;M=fi,typeof jt=="object"&&jt!==null&&(M=gi(jt));var Ut=d.getDerivedStateFromProps;jt=typeof Ut=="function"||typeof E.getSnapshotBeforeUpdate=="function",Y=u.pendingProps!==Y,jt||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(Y||Ot!==M)&&kS(u,E,m,M),Zt=!1;var Nt=u.memoizedState;E.state=Nt,Mr(u,m,E,A),zn(),Ot=u.memoizedState,Y||Nt!==Ot||Zt?(typeof Ut=="function"&&(Z1(u,d,Ut,m),Ot=u.memoizedState),(ft=Zt||NS(u,d,ft,m,Nt,Ot,M))?(jt||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(u.flags|=4194308)):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=Ot),E.props=m,E.state=Ot,E.context=M,m=ft):(typeof E.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{E=u.stateNode,rr(s,u),M=u.memoizedProps,jt=fh(d,M),E.props=jt,Ut=u.pendingProps,Nt=E.context,Ot=d.contextType,ft=fi,typeof Ot=="object"&&Ot!==null&&(ft=gi(Ot)),Y=d.getDerivedStateFromProps,(Ot=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==Ut||Nt!==ft)&&kS(u,E,m,ft),Zt=!1,Nt=u.memoizedState,E.state=Nt,Mr(u,m,E,A),zn();var Mt=u.memoizedState;M!==Ut||Nt!==Mt||Zt||s!==null&&s.dependencies!==null&&yf(s.dependencies)?(typeof Y=="function"&&(Z1(u,d,Y,m),Mt=u.memoizedState),(jt=Zt||NS(u,d,jt,m,Nt,Mt,ft)||s!==null&&s.dependencies!==null&&yf(s.dependencies))?(Ot||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(m,Mt,ft),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(m,Mt,ft)),typeof E.componentDidUpdate=="function"&&(u.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof E.componentDidUpdate!="function"||M===s.memoizedProps&&Nt===s.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&Nt===s.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Mt),E.props=m,E.state=Mt,E.context=ft,m=jt):(typeof E.componentDidUpdate!="function"||M===s.memoizedProps&&Nt===s.memoizedState||(u.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&Nt===s.memoizedState||(u.flags|=1024),m=!1)}return E=m,hm(s,u),m=(u.flags&128)!==0,E||m?(E=u.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:E.render(),u.flags|=1,s!==null&&m?(u.child=Vn(u,s.child,null,A),u.child=Vn(u,null,d,A)):Ki(s,u,d,A),u.memoizedState=E.state,s=u.child):s=nu(s,u,A),s}function WS(s,u,d,m){return Zl(),u.flags|=256,Ki(s,u,d,m),u.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ry(s){return{baseLanes:s,cachePool:at()}}function iy(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=xs),s}function VS(s,u,d){var m=u.pendingProps,A=!1,E=(u.flags&128)!==0,M;if((M=E)||(M=s!==null&&s.memoizedState===null?!1:(hn.current&2)!==0),M&&(A=!0,u.flags&=-129),M=(u.flags&32)!==0,u.flags&=-33,s===null){if(nn){if(A?Cr(u):Ir(),(s=Wn)?(s=eE(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(u.memoizedState={dehydrated:s,treeContext:ll!==null?{id:Ha,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},d=df(s),d.return=u,u.child=d,di=u,Wn=null)):s=null,s===null)throw ul(u);return zy(s)?u.lanes=32:u.lanes=536870912,null}var Y=m.children;return m=m.fallback,A?(Ir(),A=u.mode,Y=fm({mode:"hidden",children:Y},A),m=ol(m,A,d,null),Y.return=u,m.return=u,Y.sibling=m,u.child=Y,m=u.child,m.memoizedState=ry(d),m.childLanes=iy(s,M,d),u.memoizedState=ny,ap(null,m)):(Cr(u),ay(u,Y))}var ft=s.memoizedState;if(ft!==null&&(Y=ft.dehydrated,Y!==null)){if(E)u.flags&256?(Cr(u),u.flags&=-257,u=sy(s,u,d)):u.memoizedState!==null?(Ir(),u.child=s.child,u.flags|=128,u=null):(Ir(),Y=m.fallback,A=u.mode,m=fm({mode:"visible",children:m.children},A),Y=ol(Y,A,d,null),Y.flags|=2,m.return=u,Y.return=u,m.sibling=Y,u.child=m,Vn(u,s.child,null,d),m=u.child,m.memoizedState=ry(d),m.childLanes=iy(s,M,d),u.memoizedState=ny,u=ap(null,m));else if(Cr(u),zy(Y)){if(M=Y.nextSibling&&Y.nextSibling.dataset,M)var Ot=M.dgst;M=Ot,m=Error(r(419)),m.stack="",m.digest=M,tc({value:m,source:null,stack:null}),u=sy(s,u,d)}else if(ni||fl(s,u,d,!1),M=(d&s.childLanes)!==0,ni||M){if(M=Yn,M!==null&&(m=ga(M,d),m!==0&&m!==ft.retryLane))throw ft.retryLane=m,Mo(s,m),Za(M,s,m),ty;Fy(Y)||Am(),u=sy(s,u,d)}else Fy(Y)?(u.flags|=192,u.child=s.child,u=null):(s=ft.treeContext,Wn=Xs(Y.nextSibling),di=u,nn=!0,Vi=null,ur=!1,s!==null&&tm(u,s),u=ay(u,m.children),u.flags|=4096);return u}return A?(Ir(),Y=m.fallback,A=u.mode,ft=s.child,Ot=ft.sibling,m=Fa(ft,{mode:"hidden",children:m.children}),m.subtreeFlags=ft.subtreeFlags&65011712,Ot!==null?Y=Fa(Ot,Y):(Y=ol(Y,A,d,null),Y.flags|=2),Y.return=u,m.return=u,m.sibling=Y,u.child=m,ap(null,m),m=u.child,Y=s.child.memoizedState,Y===null?Y=ry(d):(A=Y.cachePool,A!==null?(ft=Er._currentValue,A=A.parent!==ft?{parent:ft,pool:ft}:A):A=at(),Y={baseLanes:Y.baseLanes|d,cachePool:A}),m.memoizedState=Y,m.childLanes=iy(s,M,d),u.memoizedState=ny,ap(s.child,m)):(Cr(u),d=s.child,s=d.sibling,d=Fa(d,{mode:"visible",children:m.children}),d.return=u,d.sibling=null,s!==null&&(M=u.deletions,M===null?(u.deletions=[s],u.flags|=16):M.push(s)),u.child=d,u.memoizedState=null,d)}function ay(s,u){return u=fm({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function fm(s,u){return s=Oi(22,s,null,u),s.lanes=0,s}function sy(s,u,d){return Vn(u,s.child,null,d),s=ay(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function YS(s,u,d){s.lanes|=u;var m=s.alternate;m!==null&&(m.lanes|=u),ec(s.return,u,d)}function oy(s,u,d,m,A,E){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:A,treeForkCount:E}:(M.isBackwards=u,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=d,M.tailMode=A,M.treeForkCount=E)}function KS(s,u,d){var m=u.pendingProps,A=m.revealOrder,E=m.tail;m=m.children;var M=hn.current,Y=(M&2)!==0;if(Y?(M=M&1|2,u.flags|=128):M&=1,G(hn,M),Ki(s,u,m,d),m=nn?oh:0,!Y&&s!==null&&(s.flags&128)!==0)t:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&YS(s,d,u);else if(s.tag===19)YS(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break t;for(;s.sibling===null;){if(s.return===null||s.return===u)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(d=u.child,A=null;d!==null;)s=d.alternate,s!==null&&Ni(s)===null&&(A=d),d=d.sibling;d=A,d===null?(A=u.child,u.child=null):(A=d.sibling,d.sibling=null),oy(u,!1,A,d,E,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,A=u.child,u.child=null;A!==null;){if(s=A.alternate,s!==null&&Ni(s)===null){u.child=A;break}s=A.sibling,A.sibling=d,d=A,A=s}oy(u,!0,d,null,E,m);break;case"together":oy(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function nu(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),uc|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(fl(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,d=Fa(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=Fa(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function ly(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&yf(s)))}function U8(s,u,d){switch(u.tag){case 3:_t(u,u.stateNode.containerInfo),hl(u,Er,s.memoizedState.cache),Zl();break;case 27:case 5:Et(u);break;case 4:_t(u,u.stateNode.containerInfo);break;case 10:hl(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,En(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Cr(u),u.flags|=128,null):(d&u.child.childLanes)!==0?VS(s,u,d):(Cr(u),s=nu(s,u,d),s!==null?s.sibling:null);Cr(u);break;case 19:var A=(s.flags&128)!==0;if(m=(d&u.childLanes)!==0,m||(fl(s,u,d,!1),m=(d&u.childLanes)!==0),A){if(m)return KS(s,u,d);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),G(hn,hn.current),m)break;return null;case 22:return u.lanes=0,US(s,u,d,u.pendingProps);case 24:hl(u,Er,s.memoizedState.cache)}return nu(s,u,d)}function XS(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)ni=!0;else{if(!ly(s,d)&&(u.flags&128)===0)return ni=!1,U8(s,u,d);ni=(s.flags&131072)!==0}else ni=!1,nn&&(u.flags&1048576)!==0&&Jg(u,oh,u.index);switch(u.lanes=0,u.tag){case 16:t:{var m=u.pendingProps;if(s=St(u.elementType),u.type=s,typeof s=="function")ff(s)?(m=fh(s,m),u.tag=1,u=GS(null,u,s,m,d)):(u.tag=0,u=ey(null,u,s,m,d));else{if(s!=null){var A=s.$$typeof;if(A===N){u.tag=11,u=BS(null,u,s,m,d);break t}else if(A===B){u.tag=14,u=FS(null,u,s,m,d);break t}}throw u=tt(s)||s,Error(r(306,u,""))}}return u;case 0:return ey(s,u,u.type,u.pendingProps,d);case 1:return m=u.type,A=fh(m,u.pendingProps),GS(s,u,m,A,d);case 3:t:{if(_t(u,u.stateNode.containerInfo),s===null)throw Error(r(387));m=u.pendingProps;var E=u.memoizedState;A=E.element,rr(s,u),Mr(u,m,null,d);var M=u.memoizedState;if(m=M.cache,hl(u,Er,m),m!==E.cache&&Ql(u,[Er],d,!0),zn(),m=M.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:M.cache},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){u=WS(s,u,m,d);break t}else if(m!==A){A=za(Error(r(424)),u),tc(A),u=WS(s,u,m,d);break t}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wn=Xs(s.firstChild),di=u,nn=!0,Vi=null,ur=!0,d=ze(u,null,m,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Zl(),m===A){u=nu(s,u,d);break t}Ki(s,u,m,d)}u=u.child}return u;case 26:return hm(s,u),s===null?(d=oE(u.type,null,u.pendingProps,null))?u.memoizedState=d:nn||(d=u.type,s=u.pendingProps,m=Om(ct.current).createElement(d),m[Nn]=u,m[er]=s,Xi(m,d,s),Ar(m),u.stateNode=m):u.memoizedState=oE(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Et(u),s===null&&nn&&(m=u.stateNode=iE(u.type,u.pendingProps,ct.current),di=u,ur=!0,A=Wn,pc(u.type)?(Uy=A,Wn=Xs(m.firstChild)):Wn=A),Ki(s,u,u.pendingProps.children,d),hm(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&nn&&((A=m=Wn)&&(m=vR(m,u.type,u.pendingProps,ur),m!==null?(u.stateNode=m,di=u,Wn=Xs(m.firstChild),ur=!1,A=!0):A=!1),A||ul(u)),Et(u),A=u.type,E=u.pendingProps,M=s!==null?s.memoizedProps:null,m=E.children,Iy(A,E)?m=null:M!==null&&Iy(A,M)&&(u.flags|=32),u.memoizedState!==null&&(A=Xd(s,u,H1,null,null,d),wp._currentValue=A),hm(s,u),Ki(s,u,m,d),u.child;case 6:return s===null&&nn&&((s=d=Wn)&&(d=yR(d,u.pendingProps,ur),d!==null?(u.stateNode=d,di=u,Wn=null,s=!0):s=!1),s||ul(u)),null;case 13:return VS(s,u,d);case 4:return _t(u,u.stateNode.containerInfo),m=u.pendingProps,s===null?u.child=Vn(u,null,m,d):Ki(s,u,m,d),u.child;case 11:return BS(s,u,u.type,u.pendingProps,d);case 7:return Ki(s,u,u.pendingProps,d),u.child;case 8:return Ki(s,u,u.pendingProps.children,d),u.child;case 12:return Ki(s,u,u.pendingProps.children,d),u.child;case 10:return m=u.pendingProps,hl(u,u.type,m.value),Ki(s,u,m.children,d),u.child;case 9:return A=u.type._context,m=u.pendingProps.children,dl(u),A=gi(A),m=m(A),u.flags|=1,Ki(s,u,m,d),u.child;case 14:return FS(s,u,u.type,u.pendingProps,d);case 15:return zS(s,u,u.type,u.pendingProps,d);case 19:return KS(s,u,d);case 31:return z8(s,u,d);case 22:return US(s,u,d,u.pendingProps);case 24:return dl(u),m=gi(Er),s===null?(A=K(),A===null&&(A=Yn,E=nc(),A.pooledCache=E,E.refCount++,E!==null&&(A.pooledCacheLanes|=d),A=E),u.memoizedState={parent:m,cache:A},Kt(u),hl(u,Er,A)):((s.lanes&d)!==0&&(rr(s,u),Mr(u,null,null,d),zn()),A=s.memoizedState,E=u.memoizedState,A.parent!==m?(A={parent:m,cache:m},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),hl(u,Er,m)):(m=E.cache,hl(u,Er,m),m!==A.cache&&Ql(u,[Er],d,!0))),Ki(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ru(s){s.flags|=4}function uy(s,u,d,m,A){if((u=(s.mode&32)!==0)&&(u=!1),u){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(S_())s.flags|=8192;else throw Rt=yt,Ct}else s.flags&=-16777217}function ZS(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!fE(u))if(S_())s.flags|=8192;else throw Rt=yt,Ct}function dm(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?Ms():536870912,s.lanes|=u,Mf|=u)}function sp(s,u){if(!nn)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function sr(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,m=0;if(u)for(var A=s.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags&65011712,m|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=m,s.childLanes=d,u}function q8(s,u,d){var m=u.pendingProps;switch(mf(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(u),null;case 1:return sr(u),null;case 3:return d=u.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Ga(Er),ut(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(pi(u)?ru(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Yd())),sr(u),null;case 26:var A=u.type,E=u.memoizedState;return s===null?(ru(u),E!==null?(sr(u),ZS(u,E)):(sr(u),uy(u,A,null,m,d))):E?E!==s.memoizedState?(ru(u),sr(u),ZS(u,E)):(sr(u),u.flags&=-16777217):(s=s.memoizedProps,s!==m&&ru(u),sr(u),uy(u,A,s,m,d)),null;case 27:if(Dt(u),d=ct.current,A=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==m&&ru(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return sr(u),null}s=X.current,pi(u)?Vd(u):(s=iE(A,m,d),u.stateNode=s,ru(u))}return sr(u),null;case 5:if(Dt(u),A=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==m&&ru(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return sr(u),null}if(E=X.current,pi(u))Vd(u);else{var M=Om(ct.current);switch(E){case 1:E=M.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:E=M.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":E=M.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":E=M.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":E=M.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?M.createElement("select",{is:m.is}):M.createElement("select"),m.multiple?E.multiple=!0:m.size&&(E.size=m.size);break;default:E=typeof m.is=="string"?M.createElement(A,{is:m.is}):M.createElement(A)}}E[Nn]=u,E[er]=m;t:for(M=u.child;M!==null;){if(M.tag===5||M.tag===6)E.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===u)break t;for(;M.sibling===null;){if(M.return===null||M.return===u)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}u.stateNode=E;t:switch(Xi(E,A,m),A){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&&ru(u)}}return sr(u),uy(u,u.type,s===null?null:s.memoizedProps,u.pendingProps,d),null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==m&&ru(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(s=ct.current,pi(u)){if(s=u.stateNode,d=u.memoizedProps,m=null,A=di,A!==null)switch(A.tag){case 27:case 5:m=A.memoizedProps}s[Nn]=u,s=!!(s.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||V_(s.nodeValue,d)),s||ul(u,!0)}else s=Om(s).createTextNode(m),s[Nn]=u,u.stateNode=s}return sr(u),null;case 31:if(d=u.memoizedState,s===null||s.memoizedState!==null){if(m=pi(u),d!==null){if(s===null){if(!m)throw Error(r(318));if(s=u.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Nn]=u}else Zl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;sr(u),s=!1}else d=Yd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return u.flags&256?(kn(u),u):(kn(u),null);if((u.flags&128)!==0)throw Error(r(558))}return sr(u),null;case 13:if(m=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=pi(u),m!==null&&m.dehydrated!==null){if(s===null){if(!A)throw Error(r(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Nn]=u}else Zl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;sr(u),A=!1}else A=Yd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(kn(u),u):(kn(u),null)}return kn(u),(u.flags&128)!==0?(u.lanes=d,u):(d=m!==null,s=s!==null&&s.memoizedState!==null,d&&(m=u.child,A=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(A=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==A&&(m.flags|=2048)),d!==s&&d&&(u.child.flags|=8192),dm(u,u.updateQueue),sr(u),null);case 4:return ut(),s===null&&ky(u.stateNode.containerInfo),sr(u),null;case 10:return Ga(u.type),sr(u),null;case 19:if(I(hn),m=u.memoizedState,m===null)return sr(u),null;if(A=(u.flags&128)!==0,E=m.rendering,E===null)if(A)sp(m,!1);else{if(Br!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(E=Ni(s),E!==null){for(u.flags|=128,sp(m,!1),s=E.updateQueue,u.updateQueue=s,dm(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)ah(d,s),d=d.sibling;return G(hn,hn.current&1|2),nn&&_a(u,m.treeForkCount),u.child}s=s.sibling}m.tail!==null&&Be()>ym&&(u.flags|=128,A=!0,sp(m,!1),u.lanes=4194304)}else{if(!A)if(s=Ni(E),s!==null){if(u.flags|=128,A=!0,s=s.updateQueue,u.updateQueue=s,dm(u,s),sp(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!nn)return sr(u),null}else 2*Be()-m.renderingStartTime>ym&&d!==536870912&&(u.flags|=128,A=!0,sp(m,!1),u.lanes=4194304);m.isBackwards?(E.sibling=u.child,u.child=E):(s=m.last,s!==null?s.sibling=E:u.child=E,m.last=E)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Be(),s.sibling=null,d=hn.current,G(hn,A?d&1|2:d&1),nn&&_a(u,m.treeForkCount),s):(sr(u),null);case 22:case 23:return kn(u),Gr(),m=u.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(d&536870912)!==0&&(u.flags&128)===0&&(sr(u),u.subtreeFlags&6&&(u.flags|=8192)):sr(u),d=u.updateQueue,d!==null&&dm(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048),s!==null&&I(W),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),Ga(Er),sr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function H8(s,u){switch(mf(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Ga(Er),ut(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return Dt(u),null;case 31:if(u.memoizedState!==null){if(kn(u),u.alternate===null)throw Error(r(340));Zl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 13:if(kn(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Zl()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return I(hn),null;case 4:return ut(),null;case 10:return Ga(u.type),null;case 22:case 23:return kn(u),Gr(),s!==null&&I(W),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return Ga(Er),null;case 25:return null;default:return null}}function QS(s,u){switch(mf(u),u.tag){case 3:Ga(Er),ut();break;case 26:case 27:case 5:Dt(u);break;case 4:ut();break;case 31:u.memoizedState!==null&&kn(u);break;case 13:kn(u);break;case 19:I(hn);break;case 10:Ga(u.type);break;case 22:case 23:kn(u),Gr(),s!==null&&I(W);break;case 24:Ga(Er)}}function op(s,u){try{var d=u.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var A=m.next;d=A;do{if((d.tag&s)===s){m=void 0;var E=d.create,M=d.inst;m=E(),M.destroy=m}d=d.next}while(d!==A)}}catch(Y){Mn(u,u.return,Y)}}function oc(s,u,d){try{var m=u.updateQueue,A=m!==null?m.lastEffect:null;if(A!==null){var E=A.next;m=E;do{if((m.tag&s)===s){var M=m.inst,Y=M.destroy;if(Y!==void 0){M.destroy=void 0,A=u;var ft=d,Ot=Y;try{Ot()}catch(jt){Mn(A,ft,jt)}}}m=m.next}while(m!==E)}}catch(jt){Mn(u,u.return,jt)}}function JS(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{Dr(u,d)}catch(m){Mn(s,s.return,m)}}}function t_(s,u,d){d.props=fh(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(m){Mn(s,u,m)}}function lp(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof d=="function"?s.refCleanup=d(m):d.current=m}}catch(A){Mn(s,u,A)}}function yl(s,u){var d=s.ref,m=s.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(A){Mn(s,u,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(A){Mn(s,u,A)}else d.current=null}function e_(s){var u=s.type,d=s.memoizedProps,m=s.stateNode;try{t:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break t;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(A){Mn(s,s.return,A)}}function cy(s,u,d){try{var m=s.stateNode;hR(m,s.type,d,u),m[er]=u}catch(A){Mn(s,s.return,A)}}function n_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pc(s.type)||s.tag===4}function hy(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||n_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pc(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function fy(s,u,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=ps));else if(m!==4&&(m===27&&pc(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for(fy(s,u,d),s=s.sibling;s!==null;)fy(s,u,d),s=s.sibling}function pm(s,u,d){var m=s.tag;if(m===5||m===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(m!==4&&(m===27&&pc(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(pm(s,u,d),s=s.sibling;s!==null;)pm(s,u,d),s=s.sibling}function r_(s){var u=s.stateNode,d=s.memoizedProps;try{for(var m=s.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);Xi(u,m,d),u[Nn]=s,u[er]=d}catch(E){Mn(s,s.return,E)}}var iu=!1,ri=!1,dy=!1,i_=typeof WeakSet=="function"?WeakSet:Set,ki=null;function $8(s,u){if(s=s.containerInfo,Dy=Rm,s=ko(s),Gs(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else t:{d=(d=s.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var A=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{d.nodeType,E.nodeType}catch{d=null;break t}var M=0,Y=-1,ft=-1,Ot=0,jt=0,Ut=s,Nt=null;e:for(;;){for(var Mt;Ut!==d||A!==0&&Ut.nodeType!==3||(Y=M+A),Ut!==E||m!==0&&Ut.nodeType!==3||(ft=M+m),Ut.nodeType===3&&(M+=Ut.nodeValue.length),(Mt=Ut.firstChild)!==null;)Nt=Ut,Ut=Mt;for(;;){if(Ut===s)break e;if(Nt===d&&++Ot===A&&(Y=M),Nt===E&&++jt===m&&(ft=M),(Mt=Ut.nextSibling)!==null)break;Ut=Nt,Nt=Ut.parentNode}Ut=Mt}d=Y===-1||ft===-1?null:{start:Y,end:ft}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ry={focusedElem:s,selectionRange:d},Rm=!1,ki=u;ki!==null;)if(u=ki,s=u.child,(u.subtreeFlags&1028)!==0&&s!==null)s.return=u,ki=s;else for(;ki!==null;){switch(u=ki,E=u.alternate,s=u.flags,u.tag){case 0:if((s&4)!==0&&(s=u.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)A=s[d],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,d=u,A=E.memoizedProps,E=E.memoizedState,m=d.stateNode;try{var re=fh(d.type,A);s=m.getSnapshotBeforeUpdate(re,E),m.__reactInternalSnapshotBeforeUpdate=s}catch(Pe){Mn(d,d.return,Pe)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)By(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":By(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,ki=s;break}ki=u.return}}function a_(s,u,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:su(s,d),m&4&&op(5,d);break;case 1:if(su(s,d),m&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(M){Mn(d,d.return,M)}else{var A=fh(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(A,u,s.__reactInternalSnapshotBeforeUpdate)}catch(M){Mn(d,d.return,M)}}m&64&&JS(d),m&512&&lp(d,d.return);break;case 3:if(su(s,d),m&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Dr(s,u)}catch(M){Mn(d,d.return,M)}}break;case 27:u===null&&m&4&&r_(d);case 26:case 5:su(s,d),u===null&&m&4&&e_(d),m&512&&lp(d,d.return);break;case 12:su(s,d);break;case 31:su(s,d),m&4&&l_(s,d);break;case 13:su(s,d),m&4&&u_(s,d),m&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=J8.bind(null,d),bR(s,d))));break;case 22:if(m=d.memoizedState!==null||iu,!m){u=u!==null&&u.memoizedState!==null||ri,A=iu;var E=ri;iu=m,(ri=u)&&!E?ou(s,d,(d.subtreeFlags&8772)!==0):su(s,d),iu=A,ri=E}break;case 30:break;default:su(s,d)}}function s_(s){var u=s.alternate;u!==null&&(s.alternate=null,s_(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&el(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fr=null,Va=!1;function au(s,u,d){for(d=d.child;d!==null;)o_(s,u,d),d=d.sibling}function o_(s,u,d){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Ze,d)}catch{}switch(d.tag){case 26:ri||yl(d,u),au(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:ri||yl(d,u);var m=fr,A=Va;pc(d.type)&&(fr=d.stateNode,Va=!1),au(s,u,d),vp(d.stateNode),fr=m,Va=A;break;case 5:ri||yl(d,u);case 6:if(m=fr,A=Va,fr=null,au(s,u,d),fr=m,Va=A,fr!==null)if(Va)try{(fr.nodeType===9?fr.body:fr.nodeName==="HTML"?fr.ownerDocument.body:fr).removeChild(d.stateNode)}catch(E){Mn(d,u,E)}else try{fr.removeChild(d.stateNode)}catch(E){Mn(d,u,E)}break;case 18:fr!==null&&(Va?(s=fr,J_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Uf(s)):J_(fr,d.stateNode));break;case 4:m=fr,A=Va,fr=d.stateNode.containerInfo,Va=!0,au(s,u,d),fr=m,Va=A;break;case 0:case 11:case 14:case 15:oc(2,d,u),ri||oc(4,d,u),au(s,u,d);break;case 1:ri||(yl(d,u),m=d.stateNode,typeof m.componentWillUnmount=="function"&&t_(d,u,m)),au(s,u,d);break;case 21:au(s,u,d);break;case 22:ri=(m=ri)||d.memoizedState!==null,au(s,u,d),ri=m;break;default:au(s,u,d)}}function l_(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Uf(s)}catch(d){Mn(u,u.return,d)}}}function u_(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Uf(s)}catch(d){Mn(u,u.return,d)}}function G8(s){switch(s.tag){case 31:case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new i_),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new i_),u;default:throw Error(r(435,s.tag))}}function gm(s,u){var d=G8(s);u.forEach(function(m){if(!d.has(m)){d.add(m);var A=tR.bind(null,s,m);m.then(A,A)}})}function Ya(s,u){var d=u.deletions;if(d!==null)for(var m=0;m<d.length;m++){var A=d[m],E=s,M=u,Y=M;t:for(;Y!==null;){switch(Y.tag){case 27:if(pc(Y.type)){fr=Y.stateNode,Va=!1;break t}break;case 5:fr=Y.stateNode,Va=!1;break t;case 3:case 4:fr=Y.stateNode.containerInfo,Va=!0;break t}Y=Y.return}if(fr===null)throw Error(r(160));o_(E,M,A),fr=null,Va=!1,E=A.alternate,E!==null&&(E.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)c_(u,s),u=u.sibling}var Fo=null;function c_(s,u){var d=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ya(u,s),Ka(s),m&4&&(oc(3,s,s.return),op(3,s),oc(5,s,s.return));break;case 1:Ya(u,s),Ka(s),m&512&&(ri||d===null||yl(d,d.return)),m&64&&iu&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var A=Fo;if(Ya(u,s),Ka(s),m&512&&(ri||d===null||yl(d,d.return)),m&4){var E=d!==null?d.memoizedState:null;if(m=s.memoizedState,d===null)if(m===null)if(s.stateNode===null){t:{m=s.type,d=s.memoizedProps,A=A.ownerDocument||A;e:switch(m){case"title":E=A.getElementsByTagName("title")[0],(!E||E[ls]||E[Nn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=A.createElement(m),A.head.insertBefore(E,A.querySelector("head > title"))),Xi(E,m,d),E[Nn]=s,Ar(E),m=E;break t;case"link":var M=cE("link","href",A).get(m+(d.href||""));if(M){for(var Y=0;Y<M.length;Y++)if(E=M[Y],E.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&E.getAttribute("rel")===(d.rel==null?null:d.rel)&&E.getAttribute("title")===(d.title==null?null:d.title)&&E.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){M.splice(Y,1);break e}}E=A.createElement(m),Xi(E,m,d),A.head.appendChild(E);break;case"meta":if(M=cE("meta","content",A).get(m+(d.content||""))){for(Y=0;Y<M.length;Y++)if(E=M[Y],E.getAttribute("content")===(d.content==null?null:""+d.content)&&E.getAttribute("name")===(d.name==null?null:d.name)&&E.getAttribute("property")===(d.property==null?null:d.property)&&E.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&E.getAttribute("charset")===(d.charSet==null?null:d.charSet)){M.splice(Y,1);break e}}E=A.createElement(m),Xi(E,m,d),A.head.appendChild(E);break;default:throw Error(r(468,m))}E[Nn]=s,Ar(E),m=E}s.stateNode=m}else hE(A,s.type,s.stateNode);else s.stateNode=uE(A,m,s.memoizedProps);else E!==m?(E===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):E.count--,m===null?hE(A,s.type,s.stateNode):uE(A,m,s.memoizedProps)):m===null&&s.stateNode!==null&&cy(s,s.memoizedProps,d.memoizedProps)}break;case 27:Ya(u,s),Ka(s),m&512&&(ri||d===null||yl(d,d.return)),d!==null&&m&4&&cy(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Ya(u,s),Ka(s),m&512&&(ri||d===null||yl(d,d.return)),s.flags&32){A=s.stateNode;try{ds(A,"")}catch(re){Mn(s,s.return,re)}}m&4&&s.stateNode!=null&&(A=s.memoizedProps,cy(s,A,d!==null?d.memoizedProps:A)),m&1024&&(dy=!0);break;case 6:if(Ya(u,s),Ka(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,d=s.stateNode;try{d.nodeValue=m}catch(re){Mn(s,s.return,re)}}break;case 3:if(km=null,A=Fo,Fo=Pm(u.containerInfo),Ya(u,s),Fo=A,Ka(s),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Uf(u.containerInfo)}catch(re){Mn(s,s.return,re)}dy&&(dy=!1,h_(s));break;case 4:m=Fo,Fo=Pm(s.stateNode.containerInfo),Ya(u,s),Ka(s),Fo=m;break;case 12:Ya(u,s),Ka(s);break;case 31:Ya(u,s),Ka(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,gm(s,m)));break;case 13:Ya(u,s),Ka(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(vm=Be()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,gm(s,m)));break;case 22:A=s.memoizedState!==null;var ft=d!==null&&d.memoizedState!==null,Ot=iu,jt=ri;if(iu=Ot||A,ri=jt||ft,Ya(u,s),ri=jt,iu=Ot,Ka(s),m&8192)t:for(u=s.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(d===null||ft||iu||ri||dh(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){ft=d=u;try{if(E=ft.stateNode,A)M=E.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{Y=ft.stateNode;var Ut=ft.memoizedProps.style,Nt=Ut!=null&&Ut.hasOwnProperty("display")?Ut.display:null;Y.style.display=Nt==null||typeof Nt=="boolean"?"":(""+Nt).trim()}}catch(re){Mn(ft,ft.return,re)}}}else if(u.tag===6){if(d===null){ft=u;try{ft.stateNode.nodeValue=A?"":ft.memoizedProps}catch(re){Mn(ft,ft.return,re)}}}else if(u.tag===18){if(d===null){ft=u;try{var Mt=ft.stateNode;A?tE(Mt,!0):tE(ft.stateNode,!1)}catch(re){Mn(ft,ft.return,re)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break t;for(;u.sibling===null;){if(u.return===null||u.return===s)break t;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=s.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,gm(s,d))));break;case 19:Ya(u,s),Ka(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,gm(s,m)));break;case 30:break;case 21:break;default:Ya(u,s),Ka(s)}}function Ka(s){var u=s.flags;if(u&2){try{for(var d,m=s.return;m!==null;){if(n_(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var A=d.stateNode,E=hy(s);pm(s,E,A);break;case 5:var M=d.stateNode;d.flags&32&&(ds(M,""),d.flags&=-33);var Y=hy(s);pm(s,Y,M);break;case 3:case 4:var ft=d.stateNode.containerInfo,Ot=hy(s);fy(s,Ot,ft);break;default:throw Error(r(161))}}catch(jt){Mn(s,s.return,jt)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function h_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;h_(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function su(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)a_(s,u.alternate,u),u=u.sibling}function dh(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:oc(4,u,u.return),dh(u);break;case 1:yl(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&t_(u,u.return,d),dh(u);break;case 27:vp(u.stateNode);case 26:case 5:yl(u,u.return),dh(u);break;case 22:u.memoizedState===null&&dh(u);break;case 30:dh(u);break;default:dh(u)}s=s.sibling}}function ou(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,A=s,E=u,M=E.flags;switch(E.tag){case 0:case 11:case 15:ou(A,E,d),op(4,E);break;case 1:if(ou(A,E,d),m=E,A=m.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ot){Mn(m,m.return,Ot)}if(m=E,A=m.updateQueue,A!==null){var Y=m.stateNode;try{var ft=A.shared.hiddenCallbacks;if(ft!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ft.length;A++)Pi(ft[A],Y)}catch(Ot){Mn(m,m.return,Ot)}}d&&M&64&&JS(E),lp(E,E.return);break;case 27:r_(E);case 26:case 5:ou(A,E,d),d&&m===null&&M&4&&e_(E),lp(E,E.return);break;case 12:ou(A,E,d);break;case 31:ou(A,E,d),d&&M&4&&l_(A,E);break;case 13:ou(A,E,d),d&&M&4&&u_(A,E);break;case 22:E.memoizedState===null&&ou(A,E,d),lp(E,E.return);break;case 30:break;default:ou(A,E,d)}u=u.sibling}}function py(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&lh(d))}function gy(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&lh(s))}function zo(s,u,d,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)f_(s,u,d,m),u=u.sibling}function f_(s,u,d,m){var A=u.flags;switch(u.tag){case 0:case 11:case 15:zo(s,u,d,m),A&2048&&op(9,u);break;case 1:zo(s,u,d,m);break;case 3:zo(s,u,d,m),A&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&lh(s)));break;case 12:if(A&2048){zo(s,u,d,m),s=u.stateNode;try{var E=u.memoizedProps,M=E.id,Y=E.onPostCommit;typeof Y=="function"&&Y(M,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ft){Mn(u,u.return,ft)}}else zo(s,u,d,m);break;case 31:zo(s,u,d,m);break;case 13:zo(s,u,d,m);break;case 23:break;case 22:E=u.stateNode,M=u.alternate,u.memoizedState!==null?E._visibility&2?zo(s,u,d,m):up(s,u):E._visibility&2?zo(s,u,d,m):(E._visibility|=2,Nf(s,u,d,m,(u.subtreeFlags&10256)!==0||!1)),A&2048&&py(M,u);break;case 24:zo(s,u,d,m),A&2048&&gy(u.alternate,u);break;default:zo(s,u,d,m)}}function Nf(s,u,d,m,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var E=s,M=u,Y=d,ft=m,Ot=M.flags;switch(M.tag){case 0:case 11:case 15:Nf(E,M,Y,ft,A),op(8,M);break;case 23:break;case 22:var jt=M.stateNode;M.memoizedState!==null?jt._visibility&2?Nf(E,M,Y,ft,A):up(E,M):(jt._visibility|=2,Nf(E,M,Y,ft,A)),A&&Ot&2048&&py(M.alternate,M);break;case 24:Nf(E,M,Y,ft,A),A&&Ot&2048&&gy(M.alternate,M);break;default:Nf(E,M,Y,ft,A)}u=u.sibling}}function up(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,m=u,A=m.flags;switch(m.tag){case 22:up(d,m),A&2048&&py(m.alternate,m);break;case 24:up(d,m),A&2048&&gy(m.alternate,m);break;default:up(d,m)}u=u.sibling}}var cp=8192;function kf(s,u,d){if(s.subtreeFlags&cp)for(s=s.child;s!==null;)d_(s,u,d),s=s.sibling}function d_(s,u,d){switch(s.tag){case 26:kf(s,u,d),s.flags&cp&&s.memoizedState!==null&&kR(d,Fo,s.memoizedState,s.memoizedProps);break;case 5:kf(s,u,d);break;case 3:case 4:var m=Fo;Fo=Pm(s.stateNode.containerInfo),kf(s,u,d),Fo=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=cp,cp=16777216,kf(s,u,d),cp=m):kf(s,u,d));break;default:kf(s,u,d)}}function p_(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function hp(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];ki=m,m_(m,s)}p_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g_(s),s=s.sibling}function g_(s){switch(s.tag){case 0:case 11:case 15:hp(s),s.flags&2048&&oc(9,s,s.return);break;case 3:hp(s);break;case 12:hp(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,mm(s)):hp(s);break;default:hp(s)}}function mm(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];ki=m,m_(m,s)}p_(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:oc(8,u,u.return),mm(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,mm(u));break;default:mm(u)}s=s.sibling}}function m_(s,u){for(;ki!==null;){var d=ki;switch(d.tag){case 0:case 11:case 15:oc(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:lh(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,ki=m;else t:for(d=s;ki!==null;){m=ki;var A=m.sibling,E=m.return;if(s_(m),m===d){ki=null;break t}if(A!==null){A.return=E,ki=A;break t}ki=E}}}var W8={getCacheForType:function(s){var u=gi(Er),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d},cacheSignal:function(){return gi(Er).controller.signal}},V8=typeof WeakMap=="function"?WeakMap:Map,Cn=0,Yn=null,rn=null,sn=0,Ln=0,As=null,lc=!1,Lf=!1,my=!1,lu=0,Br=0,uc=0,ph=0,vy=0,xs=0,Mf=0,fp=null,Xa=null,yy=!1,vm=0,v_=0,ym=1/0,bm=null,cc=null,vi=0,hc=null,Df=null,uu=0,by=0,wy=null,y_=null,dp=0,Ay=null;function Ss(){return(Cn&2)!==0&&sn!==0?sn&-sn:V.T!==null?Ty():Qr()}function b_(){if(xs===0)if((sn&536870912)===0||nn){var s=Pn;Pn<<=1,(Pn&3932160)===0&&(Pn=262144),xs=s}else xs=536870912;return s=ar.current,s!==null&&(s.flags|=32),xs}function Za(s,u,d){(s===Yn&&(Ln===2||Ln===9)||s.cancelPendingCommit!==null)&&(Rf(s,0),fc(s,sn,xs,!1)),ve(s,d),((Cn&2)===0||s!==Yn)&&(s===Yn&&((Cn&2)===0&&(ph|=d),Br===4&&fc(s,sn,xs,!1)),bl(s))}function w_(s,u,d){if((Cn&6)!==0)throw Error(r(327));var m=!d&&(u&127)===0&&(u&s.expiredLanes)===0||ss(s,u),A=m?X8(s,u):Sy(s,u,!0),E=m;do{if(A===0){Lf&&!m&&fc(s,u,0,!1);break}else{if(d=s.current.alternate,E&&!Y8(d)){A=Sy(s,u,!1),E=!1;continue}if(A===2){if(E=u,s.errorRecoveryDisabledLanes&E)var M=0;else M=s.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){u=M;t:{var Y=s;A=fp;var ft=Y.current.memoizedState.isDehydrated;if(ft&&(Rf(Y,M).flags|=256),M=Sy(Y,M,!1),M!==2){if(my&&!ft){Y.errorRecoveryDisabledLanes|=E,ph|=E,A=4;break t}E=Xa,Xa=A,E!==null&&(Xa===null?Xa=E:Xa.push.apply(Xa,E))}A=M}if(E=!1,A!==2)continue}}if(A===1){Rf(s,0),fc(s,u,0,!0);break}t:{switch(m=s,E=A,E){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:fc(m,u,xs,!lc);break t;case 2:Xa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(A=vm+300-Be(),10<A)){if(fc(m,u,xs,!lc),ln(m,0,!0)!==0)break t;uu=u,m.timeoutHandle=Z_(A_.bind(null,m,d,Xa,bm,yy,u,xs,ph,Mf,lc,E,"Throttled",-0,0),A);break t}A_(m,d,Xa,bm,yy,u,xs,ph,Mf,lc,E,null,-0,0)}}break}while(!0);bl(s)}function A_(s,u,d,m,A,E,M,Y,ft,Ot,jt,Ut,Nt,Mt){if(s.timeoutHandle=-1,Ut=u.subtreeFlags,Ut&8192||(Ut&16785408)===16785408){Ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},d_(u,E,Ut);var re=(E&62914560)===E?vm-Be():(E&4194048)===E?v_-Be():0;if(re=LR(Ut,re),re!==null){uu=E,s.cancelPendingCommit=re(P_.bind(null,s,u,E,d,m,A,M,Y,ft,jt,Ut,null,Nt,Mt)),fc(s,E,M,!Ot);return}}P_(s,u,E,d,m,A,M,Y,ft)}function Y8(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var A=d[m],E=A.getSnapshot;A=A.value;try{if(!hi(E(),A))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function fc(s,u,d,m){u&=~vy,u&=~ph,s.suspendedLanes|=u,s.pingedLanes&=~u,m&&(s.warmLanes|=u),m=s.expirationTimes;for(var A=u;0<A;){var E=31-tn(A),M=1<<E;m[E]=-1,A&=~M}d!==0&&Ds(s,d,u)}function wm(){return(Cn&6)===0?(pp(0),!1):!0}function xy(){if(rn!==null){if(Ln===0)var s=rn.return;else s=rn,Vs=cl=null,Sf(s),qt=null,ae=0,s=rn;for(;s!==null;)QS(s.alternate,s),s=s.return;rn=null}}function Rf(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,pR(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),uu=0,xy(),Yn=s,rn=d=Fa(s.current,null),sn=u,Ln=0,As=null,lc=!1,Lf=ss(s,u),my=!1,Mf=xs=vy=ph=uc=Br=0,Xa=fp=null,yy=!1,(u&8)!==0&&(u|=u&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=u;0<m;){var A=31-tn(m),E=1<<A;u|=s[A],m&=~E}return lu=u,nh(),d}function x_(s,u){ye=null,V.H=ip,u===mt||u===it?(u=Ft(),Ln=3):u===Ct?(u=Ft(),Ln=4):Ln=u===ty?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,As=u,rn===null&&(Br=1,um(s,za(u,s.current)))}function S_(){var s=ar.current;return s===null?!0:(sn&4194048)===sn?gn===null:(sn&62914560)===sn||(sn&536870912)!==0?s===gn:!1}function __(){var s=V.H;return V.H=ip,s===null?ip:s}function E_(){var s=V.A;return V.A=W8,s}function Am(){Br=4,lc||(sn&4194048)!==sn&&ar.current!==null||(Lf=!0),(uc&134217727)===0&&(ph&134217727)===0||Yn===null||fc(Yn,sn,xs,!1)}function Sy(s,u,d){var m=Cn;Cn|=2;var A=__(),E=E_();(Yn!==s||sn!==u)&&(bm=null,Rf(s,u)),u=!1;var M=Br;t:do try{if(Ln!==0&&rn!==null){var Y=rn,ft=As;switch(Ln){case 8:xy(),M=6;break t;case 3:case 2:case 9:case 6:ar.current===null&&(u=!0);var Ot=Ln;if(Ln=0,As=null,If(s,Y,ft,Ot),d&&Lf){M=0;break t}break;default:Ot=Ln,Ln=0,As=null,If(s,Y,ft,Ot)}}K8(),M=Br;break}catch(jt){x_(s,jt)}while(!0);return u&&s.shellSuspendCounter++,Vs=cl=null,Cn=m,V.H=A,V.A=E,rn===null&&(Yn=null,sn=0,nh()),M}function K8(){for(;rn!==null;)C_(rn)}function X8(s,u){var d=Cn;Cn|=2;var m=__(),A=E_();Yn!==s||sn!==u?(bm=null,ym=Be()+500,Rf(s,u)):Lf=ss(s,u);t:do try{if(Ln!==0&&rn!==null){u=rn;var E=As;e:switch(Ln){case 1:Ln=0,As=null,If(s,u,E,1);break;case 2:case 9:if(xt(E)){Ln=0,As=null,T_(u);break}u=function(){Ln!==2&&Ln!==9||Yn!==s||(Ln=7),bl(s)},E.then(u,u);break t;case 3:Ln=7;break t;case 4:Ln=5;break t;case 7:xt(E)?(Ln=0,As=null,T_(u)):(Ln=0,As=null,If(s,u,E,7));break;case 5:var M=null;switch(rn.tag){case 26:M=rn.memoizedState;case 5:case 27:var Y=rn;if(M?fE(M):Y.stateNode.complete){Ln=0,As=null;var ft=Y.sibling;if(ft!==null)rn=ft;else{var Ot=Y.return;Ot!==null?(rn=Ot,xm(Ot)):rn=null}break e}}Ln=0,As=null,If(s,u,E,5);break;case 6:Ln=0,As=null,If(s,u,E,6);break;case 8:xy(),Br=6;break t;default:throw Error(r(462))}}Z8();break}catch(jt){x_(s,jt)}while(!0);return Vs=cl=null,V.H=m,V.A=A,Cn=d,rn!==null?0:(Yn=null,sn=0,nh(),Br)}function Z8(){for(;rn!==null&&!_e();)C_(rn)}function C_(s){var u=XS(s.alternate,s,lu);s.memoizedProps=s.pendingProps,u===null?xm(s):rn=u}function T_(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=$S(d,u,u.pendingProps,u.type,void 0,sn);break;case 11:u=$S(d,u,u.pendingProps,u.type.render,u.ref,sn);break;case 5:Sf(u);default:QS(d,u),u=rn=ah(u,lu),u=XS(d,u,lu)}s.memoizedProps=s.pendingProps,u===null?xm(s):rn=u}function If(s,u,d,m){Vs=cl=null,Sf(u),qt=null,ae=0;var A=u.return;try{if(F8(s,A,u,d,sn)){Br=1,um(s,za(d,s.current)),rn=null;return}}catch(E){if(A!==null)throw rn=A,E;Br=1,um(s,za(d,s.current)),rn=null;return}u.flags&32768?(nn||m===1?s=!0:Lf||(sn&536870912)!==0?s=!1:(lc=s=!0,(m===2||m===9||m===3||m===6)&&(m=ar.current,m!==null&&m.tag===13&&(m.flags|=16384))),O_(u,s)):xm(u)}function xm(s){var u=s;do{if((u.flags&32768)!==0){O_(u,lc);return}s=u.return;var d=q8(u.alternate,u,lu);if(d!==null){rn=d;return}if(u=u.sibling,u!==null){rn=u;return}rn=u=s}while(u!==null);Br===0&&(Br=5)}function O_(s,u){do{var d=H8(s.alternate,s);if(d!==null){d.flags&=32767,rn=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){rn=s;return}rn=s=d}while(s!==null);Br=6,rn=null}function P_(s,u,d,m,A,E,M,Y,ft){s.cancelPendingCommit=null;do Sm();while(vi!==0);if((Cn&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(E=u.lanes|u.childLanes,E|=uf,fo(s,d,E,M,Y,ft),s===Yn&&(rn=Yn=null,sn=0),Df=u,hc=s,uu=d,by=E,wy=A,y_=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,eR(Ye,function(){return D_(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=V.T,V.T=null,A=J.p,J.p=2,M=Cn,Cn|=4;try{$8(s,u,d)}finally{Cn=M,J.p=A,V.T=m}}vi=1,N_(),k_(),L_()}}function N_(){if(vi===1){vi=0;var s=hc,u=Df,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=V.T,V.T=null;var m=J.p;J.p=2;var A=Cn;Cn|=4;try{c_(u,s);var E=Ry,M=ko(s.containerInfo),Y=E.focusedElem,ft=E.selectionRange;if(M!==Y&&Y&&Y.ownerDocument&&No(Y.ownerDocument.documentElement,Y)){if(ft!==null&&Gs(Y)){var Ot=ft.start,jt=ft.end;if(jt===void 0&&(jt=Ot),"selectionStart"in Y)Y.selectionStart=Ot,Y.selectionEnd=Math.min(jt,Y.value.length);else{var Ut=Y.ownerDocument||document,Nt=Ut&&Ut.defaultView||window;if(Nt.getSelection){var Mt=Nt.getSelection(),re=Y.textContent.length,Pe=Math.min(ft.start,re),Hn=ft.end===void 0?Pe:Math.min(ft.end,re);!Mt.extend&&Pe>Hn&&(M=Hn,Hn=Pe,Pe=M);var wt=Xu(Y,Pe),vt=Xu(Y,Hn);if(wt&&vt&&(Mt.rangeCount!==1||Mt.anchorNode!==wt.node||Mt.anchorOffset!==wt.offset||Mt.focusNode!==vt.node||Mt.focusOffset!==vt.offset)){var Tt=Ut.createRange();Tt.setStart(wt.node,wt.offset),Mt.removeAllRanges(),Pe>Hn?(Mt.addRange(Tt),Mt.extend(vt.node,vt.offset)):(Tt.setEnd(vt.node,vt.offset),Mt.addRange(Tt))}}}}for(Ut=[],Mt=Y;Mt=Mt.parentNode;)Mt.nodeType===1&&Ut.push({element:Mt,left:Mt.scrollLeft,top:Mt.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Ut.length;Y++){var zt=Ut[Y];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}Rm=!!Dy,Ry=Dy=null}finally{Cn=A,J.p=m,V.T=d}}s.current=u,vi=2}}function k_(){if(vi===2){vi=0;var s=hc,u=Df,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=V.T,V.T=null;var m=J.p;J.p=2;var A=Cn;Cn|=4;try{a_(s,u.alternate,u)}finally{Cn=A,J.p=m,V.T=d}}vi=3}}function L_(){if(vi===4||vi===3){vi=0,me();var s=hc,u=Df,d=uu,m=y_;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?vi=5:(vi=0,Df=hc=null,M_(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(cc=null),Nr(d),u=u.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Ze,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=V.T,A=J.p,J.p=2,V.T=null;try{for(var E=s.onRecoverableError,M=0;M<m.length;M++){var Y=m[M];E(Y.value,{componentStack:Y.stack})}}finally{V.T=u,J.p=A}}(uu&3)!==0&&Sm(),bl(s),A=s.pendingLanes,(d&261930)!==0&&(A&42)!==0?s===Ay?dp++:(dp=0,Ay=s):dp=0,pp(0)}}function M_(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,lh(u)))}function Sm(){return N_(),k_(),L_(),D_()}function D_(){if(vi!==5)return!1;var s=hc,u=by;by=0;var d=Nr(uu),m=V.T,A=J.p;try{J.p=32>d?32:d,V.T=null,d=wy,wy=null;var E=hc,M=uu;if(vi=0,Df=hc=null,uu=0,(Cn&6)!==0)throw Error(r(331));var Y=Cn;if(Cn|=4,g_(E.current),f_(E,E.current,M,d),Cn=Y,pp(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Ze,E)}catch{}return!0}finally{J.p=A,V.T=m,M_(s,u)}}function R_(s,u,d){u=za(d,u),u=J1(s.stateNode,u,2),s=Ge(s,u,2),s!==null&&(ve(s,2),bl(s))}function Mn(s,u,d){if(s.tag===3)R_(s,s,d);else for(;u!==null;){if(u.tag===3){R_(u,s,d);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(cc===null||!cc.has(m))){s=za(d,s),d=IS(2),m=Ge(u,d,2),m!==null&&(jS(d,m,u,s),ve(m,2),bl(m));break}}u=u.return}}function _y(s,u,d){var m=s.pingCache;if(m===null){m=s.pingCache=new V8;var A=new Set;m.set(u,A)}else A=m.get(u),A===void 0&&(A=new Set,m.set(u,A));A.has(d)||(my=!0,A.add(d),s=Q8.bind(null,s,u,d),u.then(s,s))}function Q8(s,u,d){var m=s.pingCache;m!==null&&m.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Yn===s&&(sn&d)===d&&(Br===4||Br===3&&(sn&62914560)===sn&&300>Be()-vm?(Cn&2)===0&&Rf(s,0):vy|=d,Mf===sn&&(Mf=0)),bl(s)}function I_(s,u){u===0&&(u=Ms()),s=Mo(s,u),s!==null&&(ve(s,u),bl(s))}function J8(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),I_(s,d)}function tR(s,u){var d=0;switch(s.tag){case 31:case 13:var m=s.stateNode,A=s.memoizedState;A!==null&&(d=A.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),I_(s,d)}function eR(s,u){return be(s,u)}var _m=null,jf=null,Ey=!1,Em=!1,Cy=!1,dc=0;function bl(s){s!==jf&&s.next===null&&(jf===null?_m=jf=s:jf=jf.next=s),Em=!0,Ey||(Ey=!0,rR())}function pp(s,u){if(!Cy&&Em){Cy=!0;do for(var d=!1,m=_m;m!==null;){if(s!==0){var A=m.pendingLanes;if(A===0)var E=0;else{var M=m.suspendedLanes,Y=m.pingedLanes;E=(1<<31-tn(42|s)+1)-1,E&=A&~(M&~Y),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(d=!0,z_(m,E))}else E=sn,E=ln(m,m===Yn?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&3)===0||ss(m,E)||(d=!0,z_(m,E));m=m.next}while(d);Cy=!1}}function nR(){j_()}function j_(){Em=Ey=!1;var s=0;dc!==0&&dR()&&(s=dc);for(var u=Be(),d=null,m=_m;m!==null;){var A=m.next,E=B_(m,u);E===0?(m.next=null,d===null?_m=A:d.next=A,A===null&&(jf=d)):(d=m,(s!==0||(E&3)!==0)&&(Em=!0)),m=A}vi!==0&&vi!==5||pp(s),dc!==0&&(dc=0)}function B_(s,u){for(var d=s.suspendedLanes,m=s.pingedLanes,A=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var M=31-tn(E),Y=1<<M,ft=A[M];ft===-1?((Y&d)===0||(Y&m)!==0)&&(A[M]=_i(Y,u)):ft<=u&&(s.expiredLanes|=Y),E&=~Y}if(u=Yn,d=sn,d=ln(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,d===0||s===u&&(Ln===2||Ln===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Qt(m),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||ss(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(m!==null&&Qt(m),Nr(d)){case 2:case 8:d=Je;break;case 32:d=Ye;break;case 268435456:d=je;break;default:d=Ye}return m=F_.bind(null,s),d=be(d,m),s.callbackPriority=u,s.callbackNode=d,u}return m!==null&&m!==null&&Qt(m),s.callbackPriority=2,s.callbackNode=null,2}function F_(s,u){if(vi!==0&&vi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Sm()&&s.callbackNode!==d)return null;var m=sn;return m=ln(s,s===Yn?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(w_(s,m,u),B_(s,Be()),s.callbackNode!=null&&s.callbackNode===d?F_.bind(null,s):null)}function z_(s,u){if(Sm())return null;w_(s,u,!0)}function rR(){gR(function(){(Cn&6)!==0?be(Ie,nR):j_()})}function Ty(){if(dc===0){var s=b;s===0&&(s=Me,Me<<=1,(Me&261888)===0&&(Me=256)),dc=s}return dc}function U_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ra(""+s)}function q_(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function iR(s,u,d,m,A){if(u==="submit"&&d&&d.stateNode===A){var E=U_((A[er]||null).action),M=m.submitter;M&&(u=(u=M[er]||null)?U_(u.formAction):M.getAttribute("formAction"),u!==null&&(E=u,M=null));var Y=new Ia("action","action",null,m,A);s.push({event:Y,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(dc!==0){var ft=M?q_(A,M):new FormData(A);V1(d,{pending:!0,data:ft,method:A.method,action:E},null,ft)}}else typeof E=="function"&&(Y.preventDefault(),ft=M?q_(A,M):new FormData(A),V1(d,{pending:!0,data:ft,method:A.method,action:E},E,ft))},currentTarget:A}]})}}for(var Oy=0;Oy<Yl.length;Oy++){var Py=Yl[Oy],aR=Py.toLowerCase(),sR=Py[0].toUpperCase()+Py.slice(1);Ba(aR,"on"+sR)}Ba(Vl,"onAnimationEnd"),Ba(th,"onAnimationIteration"),Ba(Hd,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(Xg,"onTransitionRun"),Ba(Zg,"onTransitionStart"),Ba(Qg,"onTransitionCancel"),Ba($d,"onTransitionEnd"),po("onMouseEnter",["mouseout","mouseover"]),po("onMouseLeave",["mouseout","mouseover"]),po("onPointerEnter",["pointerout","pointerover"]),po("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gp));function H_(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var m=s[d],A=m.event;m=m.listeners;t:{var E=void 0;if(u)for(var M=m.length-1;0<=M;M--){var Y=m[M],ft=Y.instance,Ot=Y.currentTarget;if(Y=Y.listener,ft!==E&&A.isPropagationStopped())break t;E=Y,A.currentTarget=Ot;try{E(A)}catch(jt){eh(jt)}A.currentTarget=null,E=ft}else for(M=0;M<m.length;M++){if(Y=m[M],ft=Y.instance,Ot=Y.currentTarget,Y=Y.listener,ft!==E&&A.isPropagationStopped())break t;E=Y,A.currentTarget=Ot;try{E(A)}catch(jt){eh(jt)}A.currentTarget=null,E=ft}}}}function an(s,u){var d=u[ma];d===void 0&&(d=u[ma]=new Set);var m=s+"__bubble";d.has(m)||($_(u,s,2,!1),d.add(m))}function Ny(s,u,d){var m=0;u&&(m|=4),$_(d,s,m,u)}var Cm="_reactListening"+Math.random().toString(36).slice(2);function ky(s){if(!s[Cm]){s[Cm]=!0,jc.forEach(function(d){d!=="selectionchange"&&(oR.has(d)||Ny(d,!1,s),Ny(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[Cm]||(u[Cm]=!0,Ny("selectionchange",!1,u))}}function $_(s,u,d,m){switch(bE(u)){case 2:var A=RR;break;case 8:A=IR;break;default:A=Wy}d=A.bind(null,u,d,s),A=void 0,!Kc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),m?A!==void 0?s.addEventListener(u,d,{capture:!0,passive:A}):s.addEventListener(u,d,!0):A!==void 0?s.addEventListener(u,d,{passive:A}):s.addEventListener(u,d,!1)}function Ly(s,u,d,m,A){var E=m;if((u&1)===0&&(u&2)===0&&m!==null)t:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var Y=m.stateNode.containerInfo;if(Y===A)break;if(M===4)for(M=m.return;M!==null;){var ft=M.tag;if((ft===3||ft===4)&&M.stateNode.containerInfo===A)return;M=M.return}for(;Y!==null;){if(M=us(Y),M===null)return;if(ft=M.tag,ft===5||ft===6||ft===26||ft===27){m=E=M;continue t}Y=Y.parentNode}}m=m.return}rf(function(){var Ot=E,jt=zl(d),Ut=[];t:{var Nt=Gd.get(s);if(Nt!==void 0){var Mt=Ia,re=s;switch(s){case"keypress":if(Ra(d)===0)break t;case"keydown":case"keyup":Mt=un;break;case"focusin":re="focus",Mt=xo;break;case"focusout":re="blur",Mt=xo;break;case"beforeblur":case"afterblur":Mt=xo;break;case"click":if(d.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Mt=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Mt=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Mt=Hr;break;case Vl:case th:case Hd:Mt=T;break;case $d:Mt=ci;break;case"scroll":case"scrollend":Mt=Hu;break;case"wheel":Mt=gs;break;case"copy":case"cut":case"paste":Mt=ot;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Mt=xr;break;case"toggle":case"beforetoggle":Mt=Zc}var Pe=(u&4)!==0,Hn=!Pe&&(s==="scroll"||s==="scrollend"),wt=Pe?Nt!==null?Nt+"Capture":null:Nt;Pe=[];for(var vt=Ot,Tt;vt!==null;){var zt=vt;if(Tt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Tt===null||wt===null||(zt=ba(vt,wt),zt!=null&&Pe.push(mp(vt,zt,Tt))),Hn)break;vt=vt.return}0<Pe.length&&(Nt=new Mt(Nt,re,null,d,jt),Ut.push({event:Nt,listeners:Pe}))}}if((u&7)===0){t:{if(Nt=s==="mouseover"||s==="pointerover",Mt=s==="mouseout"||s==="pointerout",Nt&&d!==mo&&(re=d.relatedTarget||d.fromElement)&&(us(re)||re[Ei]))break t;if((Mt||Nt)&&(Nt=jt.window===jt?jt:(Nt=jt.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,Mt?(re=d.relatedTarget||d.toElement,Mt=Ot,re=re?us(re):null,re!==null&&(Hn=a(re),Pe=re.tag,re!==Hn||Pe!==5&&Pe!==27&&Pe!==6)&&(re=null)):(Mt=null,re=Ot),Mt!==re)){if(Pe=Xc,zt="onMouseLeave",wt="onMouseEnter",vt="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=xr,zt="onPointerLeave",wt="onPointerEnter",vt="pointer"),Hn=Mt==null?Nt:Bl(Mt),Tt=re==null?Nt:Bl(re),Nt=new Pe(zt,vt+"leave",Mt,d,jt),Nt.target=Hn,Nt.relatedTarget=Tt,zt=null,us(jt)===Ot&&(Pe=new Pe(wt,vt+"enter",re,d,jt),Pe.target=Tt,Pe.relatedTarget=Hn,zt=Pe),Hn=zt,Mt&&re)e:{for(Pe=lR,wt=Mt,vt=re,Tt=0,zt=wt;zt;zt=Pe(zt))Tt++;zt=0;for(var xe=vt;xe;xe=Pe(xe))zt++;for(;0<Tt-zt;)wt=Pe(wt),Tt--;for(;0<zt-Tt;)vt=Pe(vt),zt--;for(;Tt--;){if(wt===vt||vt!==null&&wt===vt.alternate){Pe=wt;break e}wt=Pe(wt),vt=Pe(vt)}Pe=null}else Pe=null;Mt!==null&&G_(Ut,Nt,Mt,Pe,!1),re!==null&&Hn!==null&&G_(Ut,Hn,re,Pe,!0)}}t:{if(Nt=Ot?Bl(Ot):window,Mt=Nt.nodeName&&Nt.nodeName.toLowerCase(),Mt==="select"||Mt==="input"&&Nt.type==="file")var wn=sl;else if(Qc(Nt))if(ia)wn=Hs;else{wn=Sr;var ue=Yu}else Mt=Nt.nodeName,!Mt||Mt.toLowerCase()!=="input"||Nt.type!=="checkbox"&&Nt.type!=="radio"?Ot&&Wc(Ot.elementType)&&(wn=sl):wn=lf;if(wn&&(wn=wn(s,Ot))){Aa(Ut,wn,d,jt);break t}ue&&ue(s,Nt,Ot),s==="focusout"&&Ot&&Nt.type==="number"&&Ot.memoizedProps.value!=null&&Hc(Nt,"number",Nt.value)}switch(ue=Ot?Bl(Ot):window,s){case"focusin":(Qc(ue)||ue.contentEditable==="true")&&(xa=ue,Lo=Ot,Ci=null);break;case"focusout":Ci=Lo=xa=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,yn(Ut,d,jt);break;case"selectionchange":if(Wl)break;case"keydown":case"keyup":yn(Ut,d,jt)}var Ke;if(Fs)t:{switch(s){case"compositionstart":var on="onCompositionStart";break t;case"compositionend":on="onCompositionEnd";break t;case"compositionupdate":on="onCompositionUpdate";break t}on=void 0}else zs?al(s,d)&&(on="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(on="onCompositionStart");on&&(Eo&&d.locale!=="ko"&&(zs||on!=="onCompositionStart"?on==="onCompositionEnd"&&zs&&(Ke=af()):(wa=jt,ql="value"in wa?wa.value:wa.textContent,zs=!0)),ue=Tm(Ot,on),0<ue.length&&(on=new bt(on,s,null,d,jt),Ut.push({event:on,listeners:ue}),Ke?on.data=Ke:(Ke=Gu(d),Ke!==null&&(on.data=Ke)))),(Ke=Gl?Gi(s,d):Co(s,d))&&(on=Tm(Ot,"onBeforeInput"),0<on.length&&(ue=new bt("onBeforeInput","beforeinput",null,d,jt),Ut.push({event:ue,listeners:on}),ue.data=Ke)),iR(Ut,s,Ot,d,jt)}H_(Ut,u)})}function mp(s,u,d){return{instance:s,listener:u,currentTarget:d}}function Tm(s,u){for(var d=u+"Capture",m=[];s!==null;){var A=s,E=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||E===null||(A=ba(s,d),A!=null&&m.unshift(mp(s,A,E)),A=ba(s,u),A!=null&&m.push(mp(s,A,E))),s.tag===3)return m;s=s.return}return[]}function lR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function G_(s,u,d,m,A){for(var E=u._reactName,M=[];d!==null&&d!==m;){var Y=d,ft=Y.alternate,Ot=Y.stateNode;if(Y=Y.tag,ft!==null&&ft===m)break;Y!==5&&Y!==26&&Y!==27||Ot===null||(ft=Ot,A?(Ot=ba(d,E),Ot!=null&&M.unshift(mp(d,Ot,ft))):A||(Ot=ba(d,E),Ot!=null&&M.push(mp(d,Ot,ft)))),d=d.return}M.length!==0&&s.push({event:u,listeners:M})}var uR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function W_(s){return(typeof s=="string"?s:""+s).replace(uR,`
`).replace(cR,"")}function V_(s,u){return u=W_(u),W_(s)===u}function qn(s,u,d,m,A,E){switch(d){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||ds(s,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&ds(s,""+m);break;case"className":go(s,"class",m);break;case"tabIndex":go(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":go(s,d,m);break;case"style":tf(s,m,E);break;case"data":if(u!=="object"){go(s,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=ra(""+m),s.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(d==="formAction"?(u!=="input"&&qn(s,u,"name",A.name,A,null),qn(s,u,"formEncType",A.formEncType,A,null),qn(s,u,"formMethod",A.formMethod,A,null),qn(s,u,"formTarget",A.formTarget,A,null)):(qn(s,u,"encType",A.encType,A,null),qn(s,u,"method",A.method,A,null),qn(s,u,"target",A.target,A,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(d);break}m=ra(""+m),s.setAttribute(d,m);break;case"onClick":m!=null&&(s.onclick=ps);break;case"onScroll":m!=null&&an("scroll",s);break;case"onScrollEnd":m!=null&&an("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}d=ra(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""+m):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":m===!0?s.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(d,m):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(d,m):s.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(d):s.setAttribute(d,m);break;case"popover":an("beforetoggle",s),an("toggle",s),ya(s,"popover",m);break;case"xlinkActuate":fs(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":fs(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":fs(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":fs(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":fs(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":fs(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":fs(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":fs(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":fs(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ya(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Vc.get(d)||d,ya(s,d,m))}}function My(s,u,d,m,A,E){switch(d){case"style":tf(s,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(A.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof m=="string"?ds(s,m):(typeof m=="number"||typeof m=="bigint")&&ds(s,""+m);break;case"onScroll":m!=null&&an("scroll",s);break;case"onScrollEnd":m!=null&&an("scrollend",s);break;case"onClick":m!=null&&(s.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(d))t:{if(d[0]==="o"&&d[1]==="n"&&(A=d.endsWith("Capture"),u=d.slice(2,A?d.length-7:void 0),E=s[er]||null,E=E!=null?E[d]:null,typeof E=="function"&&s.removeEventListener(u,E,A),typeof m=="function")){typeof E!="function"&&E!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,m,A);break t}d in s?s[d]=m:m===!0?s.setAttribute(d,""):ya(s,d,m)}}}function Xi(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":an("error",s),an("load",s);var m=!1,A=!1,E;for(E in d)if(d.hasOwnProperty(E)){var M=d[E];if(M!=null)switch(E){case"src":m=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qn(s,u,E,M,d,null)}}A&&qn(s,u,"srcSet",d.srcSet,d,null),m&&qn(s,u,"src",d.src,d,null);return;case"input":an("invalid",s);var Y=E=M=A=null,ft=null,Ot=null;for(m in d)if(d.hasOwnProperty(m)){var jt=d[m];if(jt!=null)switch(m){case"name":A=jt;break;case"type":M=jt;break;case"checked":ft=jt;break;case"defaultChecked":Ot=jt;break;case"value":E=jt;break;case"defaultValue":Y=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(r(137,u));break;default:qn(s,u,m,jt,d,null)}}Qh(s,E,Y,ft,Ot,M,A,!1);return;case"select":an("invalid",s),m=M=E=null;for(A in d)if(d.hasOwnProperty(A)&&(Y=d[A],Y!=null))switch(A){case"value":E=Y;break;case"defaultValue":M=Y;break;case"multiple":m=Y;default:qn(s,u,A,Y,d,null)}u=E,d=M,s.multiple=!!m,u!=null?$i(s,!!m,u,!1):d!=null&&$i(s,!!m,d,!0);return;case"textarea":an("invalid",s),E=A=m=null;for(M in d)if(d.hasOwnProperty(M)&&(Y=d[M],Y!=null))switch(M){case"value":m=Y;break;case"defaultValue":A=Y;break;case"children":E=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:qn(s,u,M,Y,d,null)}Gc(s,m,A,E);return;case"option":for(ft in d)if(d.hasOwnProperty(ft)&&(m=d[ft],m!=null))switch(ft){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:qn(s,u,ft,m,d,null)}return;case"dialog":an("beforetoggle",s),an("toggle",s),an("cancel",s),an("close",s);break;case"iframe":case"object":an("load",s);break;case"video":case"audio":for(m=0;m<gp.length;m++)an(gp[m],s);break;case"image":an("error",s),an("load",s);break;case"details":an("toggle",s);break;case"embed":case"source":case"link":an("error",s),an("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ot in d)if(d.hasOwnProperty(Ot)&&(m=d[Ot],m!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qn(s,u,Ot,m,d,null)}return;default:if(Wc(u)){for(jt in d)d.hasOwnProperty(jt)&&(m=d[jt],m!==void 0&&My(s,u,jt,m,d,void 0));return}}for(Y in d)d.hasOwnProperty(Y)&&(m=d[Y],m!=null&&qn(s,u,Y,m,d,null))}function hR(s,u,d,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,E=null,M=null,Y=null,ft=null,Ot=null,jt=null;for(Mt in d){var Ut=d[Mt];if(d.hasOwnProperty(Mt)&&Ut!=null)switch(Mt){case"checked":break;case"value":break;case"defaultValue":ft=Ut;default:m.hasOwnProperty(Mt)||qn(s,u,Mt,null,m,Ut)}}for(var Nt in m){var Mt=m[Nt];if(Ut=d[Nt],m.hasOwnProperty(Nt)&&(Mt!=null||Ut!=null))switch(Nt){case"type":E=Mt;break;case"name":A=Mt;break;case"checked":Ot=Mt;break;case"defaultChecked":jt=Mt;break;case"value":M=Mt;break;case"defaultValue":Y=Mt;break;case"children":case"dangerouslySetInnerHTML":if(Mt!=null)throw Error(r(137,u));break;default:Mt!==Ut&&qn(s,u,Nt,Mt,m,Ut)}}zu(s,M,Y,ft,Ot,jt,E,A);return;case"select":Mt=M=Y=Nt=null;for(E in d)if(ft=d[E],d.hasOwnProperty(E)&&ft!=null)switch(E){case"value":break;case"multiple":Mt=ft;default:m.hasOwnProperty(E)||qn(s,u,E,null,m,ft)}for(A in m)if(E=m[A],ft=d[A],m.hasOwnProperty(A)&&(E!=null||ft!=null))switch(A){case"value":Nt=E;break;case"defaultValue":Y=E;break;case"multiple":M=E;default:E!==ft&&qn(s,u,A,E,m,ft)}u=Y,d=M,m=Mt,Nt!=null?$i(s,!!d,Nt,!1):!!m!=!!d&&(u!=null?$i(s,!!d,u,!0):$i(s,!!d,d?[]:"",!1));return;case"textarea":Mt=Nt=null;for(Y in d)if(A=d[Y],d.hasOwnProperty(Y)&&A!=null&&!m.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:qn(s,u,Y,null,m,A)}for(M in m)if(A=m[M],E=d[M],m.hasOwnProperty(M)&&(A!=null||E!=null))switch(M){case"value":Nt=A;break;case"defaultValue":Mt=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==E&&qn(s,u,M,A,m,E)}$c(s,Nt,Mt);return;case"option":for(var re in d)if(Nt=d[re],d.hasOwnProperty(re)&&Nt!=null&&!m.hasOwnProperty(re))switch(re){case"selected":s.selected=!1;break;default:qn(s,u,re,null,m,Nt)}for(ft in m)if(Nt=m[ft],Mt=d[ft],m.hasOwnProperty(ft)&&Nt!==Mt&&(Nt!=null||Mt!=null))switch(ft){case"selected":s.selected=Nt&&typeof Nt!="function"&&typeof Nt!="symbol";break;default:qn(s,u,ft,Nt,m,Mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in d)Nt=d[Pe],d.hasOwnProperty(Pe)&&Nt!=null&&!m.hasOwnProperty(Pe)&&qn(s,u,Pe,null,m,Nt);for(Ot in m)if(Nt=m[Ot],Mt=d[Ot],m.hasOwnProperty(Ot)&&Nt!==Mt&&(Nt!=null||Mt!=null))switch(Ot){case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(r(137,u));break;default:qn(s,u,Ot,Nt,m,Mt)}return;default:if(Wc(u)){for(var Hn in d)Nt=d[Hn],d.hasOwnProperty(Hn)&&Nt!==void 0&&!m.hasOwnProperty(Hn)&&My(s,u,Hn,void 0,m,Nt);for(jt in m)Nt=m[jt],Mt=d[jt],!m.hasOwnProperty(jt)||Nt===Mt||Nt===void 0&&Mt===void 0||My(s,u,jt,Nt,m,Mt);return}}for(var wt in d)Nt=d[wt],d.hasOwnProperty(wt)&&Nt!=null&&!m.hasOwnProperty(wt)&&qn(s,u,wt,null,m,Nt);for(Ut in m)Nt=m[Ut],Mt=d[Ut],!m.hasOwnProperty(Ut)||Nt===Mt||Nt==null&&Mt==null||qn(s,u,Ut,Nt,m,Mt)}function Y_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,u=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var A=d[m],E=A.transferSize,M=A.initiatorType,Y=A.duration;if(E&&Y&&Y_(M)){for(M=0,Y=A.responseEnd,m+=1;m<d.length;m++){var ft=d[m],Ot=ft.startTime;if(Ot>Y)break;var jt=ft.transferSize,Ut=ft.initiatorType;jt&&Y_(Ut)&&(ft=ft.responseEnd,M+=jt*(ft<Y?1:(Y-Ot)/(ft-Ot)))}if(--m,u+=8*(E+M)/(A.duration/1e3),s++,10<s)break}}if(0<s)return u/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Dy=null,Ry=null;function Om(s){return s.nodeType===9?s:s.ownerDocument}function K_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function Iy(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var jy=null;function dR(){var s=window.event;return s&&s.type==="popstate"?s===jy?!1:(jy=s,!0):(jy=null,!1)}var Z_=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,gR=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(s){return Q_.resolve(null).then(s).catch(mR)}:Z_;function mR(s){setTimeout(function(){throw s})}function pc(s){return s==="head"}function J_(s,u){var d=u,m=0;do{var A=d.nextSibling;if(s.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"||d==="/&"){if(m===0){s.removeChild(A),Uf(u);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")vp(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,vp(d);for(var E=d.firstChild;E;){var M=E.nextSibling,Y=E.nodeName;E[ls]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&E.rel.toLowerCase()==="stylesheet"||d.removeChild(E),E=M}}else d==="body"&&vp(s.ownerDocument.body);d=A}while(d);Uf(u)}function tE(s,u){var d=s;s=0;do{var m=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=m}while(d)}function By(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":By(d),el(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function vR(s,u,d,m){for(;s.nodeType===1;){var A=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ls])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var E=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Xs(s.nextSibling),s===null)break}return null}function yR(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Xs(s.nextSibling),s===null))return null;return s}function eE(s,u){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Xs(s.nextSibling),s===null))return null;return s}function Fy(s){return s.data==="$?"||s.data==="$~"}function zy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function bR(s,u){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=u;else if(s.data!=="$?"||d.readyState!=="loading")u();else{var m=function(){u(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Xs(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return s}var Uy=null;function nE(s){s=s.nextSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(u===0)return Xs(s.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}s=s.nextSibling}return null}function rE(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return s;u--}else d!=="/$"&&d!=="/&"||u++}s=s.previousSibling}return null}function iE(s,u,d){switch(u=Om(d),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function vp(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);el(s)}var Zs=new Map,aE=new Set;function Pm(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var cu=J.d;J.d={f:wR,r:AR,D:xR,C:SR,L:_R,m:ER,X:TR,S:CR,M:OR};function wR(){var s=cu.f(),u=wm();return s||u}function AR(s){var u=cs(s);u!==null&&u.tag===5&&u.type==="form"?xS(u):cu.r(s)}var Bf=typeof document>"u"?null:document;function sE(s,u,d){var m=Bf;if(m&&typeof u=="string"&&u){var A=kr(u);A='link[rel="'+s+'"][href="'+A+'"]',typeof d=="string"&&(A+='[crossorigin="'+d+'"]'),aE.has(A)||(aE.add(A),s={rel:s,crossOrigin:d,href:u},m.querySelector(A)===null&&(u=m.createElement("link"),Xi(u,"link",s),Ar(u),m.head.appendChild(u)))}}function xR(s){cu.D(s),sE("dns-prefetch",s,null)}function SR(s,u){cu.C(s,u),sE("preconnect",s,u)}function _R(s,u,d){cu.L(s,u,d);var m=Bf;if(m&&s&&u){var A='link[rel="preload"][as="'+kr(u)+'"]';u==="image"&&d&&d.imageSrcSet?(A+='[imagesrcset="'+kr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(A+='[imagesizes="'+kr(d.imageSizes)+'"]')):A+='[href="'+kr(s)+'"]';var E=A;switch(u){case"style":E=Ff(s);break;case"script":E=zf(s)}Zs.has(E)||(s=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),Zs.set(E,s),m.querySelector(A)!==null||u==="style"&&m.querySelector(yp(E))||u==="script"&&m.querySelector(bp(E))||(u=m.createElement("link"),Xi(u,"link",s),Ar(u),m.head.appendChild(u)))}}function ER(s,u){cu.m(s,u);var d=Bf;if(d&&s){var m=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+kr(m)+'"][href="'+kr(s)+'"]',E=A;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=zf(s)}if(!Zs.has(E)&&(s=p({rel:"modulepreload",href:s},u),Zs.set(E,s),d.querySelector(A)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(bp(E)))return}m=d.createElement("link"),Xi(m,"link",s),Ar(m),d.head.appendChild(m)}}}function CR(s,u,d){cu.S(s,u,d);var m=Bf;if(m&&s){var A=Rs(m).hoistableStyles,E=Ff(s);u=u||"default";var M=A.get(E);if(!M){var Y={loading:0,preload:null};if(M=m.querySelector(yp(E)))Y.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":u},d),(d=Zs.get(E))&&qy(s,d);var ft=M=m.createElement("link");Ar(ft),Xi(ft,"link",s),ft._p=new Promise(function(Ot,jt){ft.onload=Ot,ft.onerror=jt}),ft.addEventListener("load",function(){Y.loading|=1}),ft.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Nm(M,u,m)}M={type:"stylesheet",instance:M,count:1,state:Y},A.set(E,M)}}}function TR(s,u){cu.X(s,u);var d=Bf;if(d&&s){var m=Rs(d).hoistableScripts,A=zf(s),E=m.get(A);E||(E=d.querySelector(bp(A)),E||(s=p({src:s,async:!0},u),(u=Zs.get(A))&&Hy(s,u),E=d.createElement("script"),Ar(E),Xi(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(A,E))}}function OR(s,u){cu.M(s,u);var d=Bf;if(d&&s){var m=Rs(d).hoistableScripts,A=zf(s),E=m.get(A);E||(E=d.querySelector(bp(A)),E||(s=p({src:s,async:!0,type:"module"},u),(u=Zs.get(A))&&Hy(s,u),E=d.createElement("script"),Ar(E),Xi(E,"link",s),d.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(A,E))}}function oE(s,u,d,m){var A=(A=ct.current)?Pm(A):null;if(!A)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Ff(d.href),d=Rs(A).hoistableStyles,m=d.get(u),m||(m={type:"style",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Ff(d.href);var E=Rs(A).hoistableStyles,M=E.get(s);if(M||(A=A.ownerDocument||A,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,M),(E=A.querySelector(yp(s)))&&!E._p&&(M.instance=E,M.state.loading=5),Zs.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Zs.set(s,d),E||PR(A,s,d,M.state))),u&&m===null)throw Error(r(528,""));return M}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=zf(d),d=Rs(A).hoistableScripts,m=d.get(u),m||(m={type:"script",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Ff(s){return'href="'+kr(s)+'"'}function yp(s){return'link[rel="stylesheet"]['+s+"]"}function lE(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function PR(s,u,d,m){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=s.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),Xi(u,"link",d),Ar(u),s.head.appendChild(u))}function zf(s){return'[src="'+kr(s)+'"]'}function bp(s){return"script[async]"+s}function uE(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var m=s.querySelector('style[data-href~="'+kr(d.href)+'"]');if(m)return u.instance=m,Ar(m),m;var A=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),Ar(m),Xi(m,"style",A),Nm(m,d.precedence,s),u.instance=m;case"stylesheet":A=Ff(d.href);var E=s.querySelector(yp(A));if(E)return u.state.loading|=4,u.instance=E,Ar(E),E;m=lE(d),(A=Zs.get(A))&&qy(m,A),E=(s.ownerDocument||s).createElement("link"),Ar(E);var M=E;return M._p=new Promise(function(Y,ft){M.onload=Y,M.onerror=ft}),Xi(E,"link",m),u.state.loading|=4,Nm(E,d.precedence,s),u.instance=E;case"script":return E=zf(d.src),(A=s.querySelector(bp(E)))?(u.instance=A,Ar(A),A):(m=d,(A=Zs.get(E))&&(m=p({},d),Hy(m,A)),s=s.ownerDocument||s,A=s.createElement("script"),Ar(A),Xi(A,"link",m),s.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Nm(m,d.precedence,s));return u.instance}function Nm(s,u,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=m.length?m[m.length-1]:null,E=A,M=0;M<m.length;M++){var Y=m[M];if(Y.dataset.precedence===u)E=Y;else if(E!==A)break}E?E.parentNode.insertBefore(s,E.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function qy(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function Hy(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var km=null;function cE(s,u,d){if(km===null){var m=new Map,A=km=new Map;A.set(d,m)}else A=km,m=A.get(d),m||(m=new Map,A.set(d,m));if(m.has(s))return m;for(m.set(s,null),d=d.getElementsByTagName(s),A=0;A<d.length;A++){var E=d[A];if(!(E[ls]||E[Nn]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var M=E.getAttribute(u)||"";M=s+M;var Y=m.get(M);Y?Y.push(E):m.set(M,[E])}}return m}function hE(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function NR(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function fE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function kR(s,u,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var A=Ff(m.href),E=u.querySelector(yp(A));if(E){u=E._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(s.count++,s=Lm.bind(s),u.then(s,s)),d.state.loading|=4,d.instance=E,Ar(E);return}E=u.ownerDocument||u,m=lE(m),(A=Zs.get(A))&&qy(m,A),E=E.createElement("link"),Ar(E);var M=E;M._p=new Promise(function(Y,ft){M.onload=Y,M.onerror=ft}),Xi(E,"link",m),d.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=Lm.bind(s),u.addEventListener("load",d),u.addEventListener("error",d))}}var $y=0;function LR(s,u){return s.stylesheets&&s.count===0&&Dm(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var m=setTimeout(function(){if(s.stylesheets&&Dm(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+u);0<s.imgBytes&&$y===0&&($y=62500*fR());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Dm(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>$y?50:800)+u);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(A)}}:null}function Lm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Mm=null;function Dm(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Mm=new Map,u.forEach(MR,s),Mm=null,Lm.call(s))}function MR(s,u){if(!(u.state.loading&4)){var d=Mm.get(s);if(d)var m=d.get(null);else{d=new Map,Mm.set(s,d);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<A.length;E++){var M=A[E];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(d.set(M.dataset.precedence,M),m=M)}m&&d.set(null,m)}A=u.instance,M=A.getAttribute("data-precedence"),E=d.get(M)||m,E===m&&d.set(null,A),d.set(M,A),this.count++,m=Lm.bind(this),A.addEventListener("load",m),A.addEventListener("error",m),E?E.parentNode.insertBefore(A,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),u.state.loading|=4}}var wp={$$typeof:C,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function DR(s,u,d,m,A,E,M,Y,ft){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=m,this.onUncaughtError=A,this.onCaughtError=E,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ft,this.incompleteTransitions=new Map}function dE(s,u,d,m,A,E,M,Y,ft,Ot,jt,Ut){return s=new DR(s,u,d,M,ft,Ot,jt,Ut,Y),u=1,E===!0&&(u|=24),E=Oi(3,null,null,u),s.current=E,E.stateNode=s,u=nc(),u.refCount++,s.pooledCache=u,u.refCount++,E.memoizedState={element:m,isDehydrated:d,cache:u},Kt(E),s}function pE(s){return s?(s=fi,s):fi}function gE(s,u,d,m,A,E){A=pE(A),m.context===null?m.context=A:m.pendingContext=A,m=Te(u),m.payload={element:d},E=E===void 0?null:E,E!==null&&(m.callback=E),d=Ge(s,m,u),d!==null&&(Za(d,s,u),_n(d,s,u))}function mE(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function Gy(s,u){mE(s,u),(s=s.alternate)&&mE(s,u)}function vE(s){if(s.tag===13||s.tag===31){var u=Mo(s,67108864);u!==null&&Za(u,s,67108864),Gy(s,67108864)}}function yE(s){if(s.tag===13||s.tag===31){var u=Ss();u=Qn(u);var d=Mo(s,u);d!==null&&Za(d,s,u),Gy(s,u)}}var Rm=!0;function RR(s,u,d,m){var A=V.T;V.T=null;var E=J.p;try{J.p=2,Wy(s,u,d,m)}finally{J.p=E,V.T=A}}function IR(s,u,d,m){var A=V.T;V.T=null;var E=J.p;try{J.p=8,Wy(s,u,d,m)}finally{J.p=E,V.T=A}}function Wy(s,u,d,m){if(Rm){var A=Vy(m);if(A===null)Ly(s,u,m,Im,d),wE(s,m);else if(BR(A,s,u,d,m))m.stopPropagation();else if(wE(s,m),u&4&&-1<jR.indexOf(s)){for(;A!==null;){var E=cs(A);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var M=de(E.pendingLanes);if(M!==0){var Y=E;for(Y.pendingLanes|=2,Y.entangledLanes|=2;M;){var ft=1<<31-tn(M);Y.entanglements[1]|=ft,M&=~ft}bl(E),(Cn&6)===0&&(ym=Be()+500,pp(0))}}break;case 31:case 13:Y=Mo(E,2),Y!==null&&Za(Y,E,2),wm(),Gy(E,2)}if(E=Vy(m),E===null&&Ly(s,u,m,Im,d),E===A)break;A=E}A!==null&&m.stopPropagation()}else Ly(s,u,m,null,d)}}function Vy(s){return s=zl(s),Yy(s)}var Im=null;function Yy(s){if(Im=null,s=us(s),s!==null){var u=a(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=o(u),s!==null)return s;s=null}else if(d===31){if(s=l(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return Im=s,null}function bE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Ie:return 2;case Je:return 8;case Ye:case oe:return 32;case je:return 268435456;default:return 32}default:return 32}}var Ky=!1,gc=null,mc=null,vc=null,Ap=new Map,xp=new Map,yc=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wE(s,u){switch(s){case"focusin":case"focusout":gc=null;break;case"dragenter":case"dragleave":mc=null;break;case"mouseover":case"mouseout":vc=null;break;case"pointerover":case"pointerout":Ap.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":xp.delete(u.pointerId)}}function Sp(s,u,d,m,A,E){return s===null||s.nativeEvent!==E?(s={blockedOn:u,domEventName:d,eventSystemFlags:m,nativeEvent:E,targetContainers:[A]},u!==null&&(u=cs(u),u!==null&&vE(u)),s):(s.eventSystemFlags|=m,u=s.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),s)}function BR(s,u,d,m,A){switch(u){case"focusin":return gc=Sp(gc,s,u,d,m,A),!0;case"dragenter":return mc=Sp(mc,s,u,d,m,A),!0;case"mouseover":return vc=Sp(vc,s,u,d,m,A),!0;case"pointerover":var E=A.pointerId;return Ap.set(E,Sp(Ap.get(E)||null,s,u,d,m,A)),!0;case"gotpointercapture":return E=A.pointerId,xp.set(E,Sp(xp.get(E)||null,s,u,d,m,A)),!0}return!1}function AE(s){var u=us(s.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){s.blockedOn=u,tl(s.priority,function(){yE(d)});return}}else if(u===31){if(u=l(d),u!==null){s.blockedOn=u,tl(s.priority,function(){yE(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jm(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=Vy(s.nativeEvent);if(d===null){d=s.nativeEvent;var m=new d.constructor(d.type,d);mo=m,d.target.dispatchEvent(m),mo=null}else return u=cs(d),u!==null&&vE(u),s.blockedOn=d,!1;u.shift()}return!0}function xE(s,u,d){jm(s)&&d.delete(u)}function FR(){Ky=!1,gc!==null&&jm(gc)&&(gc=null),mc!==null&&jm(mc)&&(mc=null),vc!==null&&jm(vc)&&(vc=null),Ap.forEach(xE),xp.forEach(xE)}function Bm(s,u){s.blockedOn===u&&(s.blockedOn=null,Ky||(Ky=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,FR)))}var Fm=null;function SE(s){Fm!==s&&(Fm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fm===s&&(Fm=null);for(var u=0;u<s.length;u+=3){var d=s[u],m=s[u+1],A=s[u+2];if(typeof m!="function"){if(Yy(m||d)===null)continue;break}var E=cs(d);E!==null&&(s.splice(u,3),u-=3,V1(E,{pending:!0,data:A,method:d.method,action:m},m,A))}}))}function Uf(s){function u(ft){return Bm(ft,s)}gc!==null&&Bm(gc,s),mc!==null&&Bm(mc,s),vc!==null&&Bm(vc,s),Ap.forEach(u),xp.forEach(u);for(var d=0;d<yc.length;d++){var m=yc[d];m.blockedOn===s&&(m.blockedOn=null)}for(;0<yc.length&&(d=yc[0],d.blockedOn===null);)AE(d),d.blockedOn===null&&yc.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var A=d[m],E=d[m+1],M=A[er]||null;if(typeof E=="function")M||SE(d);else if(M){var Y=null;if(E&&E.hasAttribute("formAction")){if(A=E,M=E[er]||null)Y=M.formAction;else if(Yy(A)!==null)continue}else Y=M.action;typeof Y=="function"?d[m+1]=Y:(d.splice(m,3),m-=3),SE(d)}}}function _E(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(M){return A=M})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function Xy(s){this._internalRoot=s}zm.prototype.render=Xy.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,m=Ss();gE(d,m,s,u,null,null)},zm.prototype.unmount=Xy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;gE(s.current,2,null,s,null,null),wm(),u[Ei]=null}};function zm(s){this._internalRoot=s}zm.prototype.unstable_scheduleHydration=function(s){if(s){var u=Qr();s={blockedOn:null,target:s,priority:u};for(var d=0;d<yc.length&&u!==0&&u<yc[d].priority;d++);yc.splice(d,0,s),d===0&&AE(s)}};var EE=t.version;if(EE!=="19.2.0")throw Error(r(527,EE,"19.2.0"));J.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(u),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var zR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Um=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Um.isDisabled&&Um.supportsFiber)try{Ze=Um.inject(zR),Ee=Um}catch{}}return Ep.createRoot=function(s,u){if(!i(s))throw Error(r(299));var d=!1,m="",A=LS,E=MS,M=DS;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError)),u=dE(s,1,!1,null,null,d,m,null,A,E,M,_E),s[Ei]=u.current,ky(s),new Xy(u)},Ep.hydrateRoot=function(s,u,d){if(!i(s))throw Error(r(299));var m=!1,A="",E=LS,M=MS,Y=DS,ft=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(A=d.identifierPrefix),d.onUncaughtError!==void 0&&(E=d.onUncaughtError),d.onCaughtError!==void 0&&(M=d.onCaughtError),d.onRecoverableError!==void 0&&(Y=d.onRecoverableError),d.formState!==void 0&&(ft=d.formState)),u=dE(s,1,!0,u,d??null,m,A,ft,E,M,Y,_E),u.context=pE(null),d=u.current,m=Ss(),m=Qn(m),A=Te(m),A.callback=null,Ge(d,A,m),d=m,u.current.lanes=d,ve(u,d),bl(u),s[Ei]=u.current,ky(s),new zm(u)},Ep.version="19.2.0",Ep}var jE;function ZR(){if(jE)return tb.exports;jE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),tb.exports=XR(),tb.exports}var QR=ZR();const JR=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tI=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,r)=>r?r.toUpperCase():e.toLowerCase()),BE=n=>{const t=tI(n);return t.charAt(0).toUpperCase()+t.slice(1)},eN=(...n)=>n.filter((t,e,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===e).join(" ").trim(),eI=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var nI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rI=j.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...nI,width:t,height:t,stroke:n,strokeWidth:r?Number(e)*24/Number(t):e,className:eN("lucide",i),...!a&&!eI(l)&&{"aria-hidden":"true"},...l},[...o.map(([h,f])=>j.createElement(h,f)),...Array.isArray(a)?a:[a]]));const Ld=(n,t)=>{const e=j.forwardRef(({className:r,...i},a)=>j.createElement(rI,{ref:a,iconNode:t,className:eN(`lucide-${JR(BE(n))}`,`lucide-${n}`,r),...i}));return e.displayName=BE(n),e};const iI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],aI=Ld("download",iI);const sI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oI=Ld("file-text",sI);const lI=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uI=Ld("menu",lI);const cI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hI=Ld("search",cI);const fI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dI=Ld("trash-2",fI);const pI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],nN=Ld("upload",pI),gI=({onUpload:n,salary:t,setSalary:e,baseHours:r,setBaseHours:i,onExportPdf:a,onDownloadCsv:o,onClearData:l,lang:c,i18n:h,isOpen:f,filter:p,setFilter:v,search:g,setSearch:w})=>{const y=h[c],[x,S]=JP.useState(!1),O=k=>{k.preventDefault(),S(!0)},C=k=>{k.preventDefault(),S(!1)},N=k=>{k.preventDefault(),S(!1);const R=k.dataTransfer.files;R&&R.length>0&&n({target:{files:R}})};return Lt.jsxs("aside",{className:`fixed lg:static inset-y-0 left-0 z-30 w-72 bg-white border-r flex-shrink-0 p-4 flex flex-col transform transition-transform duration-300 ease-in-out ${f?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[Lt.jsxs("div",{className:"flex-grow space-y-6 overflow-y-auto",children:[Lt.jsx("div",{className:"flex items-center space-x-2",children:Lt.jsxs("svg",{className:"h-8 w-auto text-blue-600",viewBox:"0 0 300 100",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Lt.jsxs("g",{children:[Lt.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"currentColor",strokeWidth:"5"}),Lt.jsx("line",{x1:"50",y1:"50",x2:"50",y2:"15",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round",transform:"rotate(45 50 50)"}),Lt.jsx("line",{x1:"50",y1:"50",x2:"80",y2:"50",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round"}),Lt.jsx("circle",{cx:"50",cy:"50",r:"5",fill:"currentColor"})]}),Lt.jsx("text",{x:"110",y:"45",fontFamily:"Segoe UI, Tahoma, sans-serif",fontSize:"40",fontWeight:"bold",children:"FORTH"}),Lt.jsx("text",{x:"112",y:"70",fontFamily:"Segoe UI, Tahoma, sans-serif",fontSize:"22",children:"WorkTime"}),Lt.jsx("text",{x:"112",y:"92",fontFamily:"Segoe UI, Tahoma, sans-serif",fontSize:"22",children:"Analyzer"})]})}),Lt.jsxs("div",{className:"space-y-4",children:[Lt.jsx("h3",{className:"font-bold text-sm uppercase text-gray-500",children:y.settings}),Lt.jsxs("div",{children:[Lt.jsxs("label",{htmlFor:"pdf-upload",className:`w-full text-sm border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer transition-colors ${x?"border-blue-500 bg-blue-50":"hover:border-blue-500 hover:bg-blue-50"}`,onDragOver:O,onDragLeave:C,onDrop:N,children:[Lt.jsx(nN,{className:`w-8 h-8 ${x?"text-blue-500":"text-gray-400"}`}),Lt.jsx("span",{className:"mt-2 text-center text-xs",children:y.select_pdf})]}),Lt.jsx("input",{id:"pdf-upload",type:"file",accept:".pdf",className:"hidden",onChange:n})]}),Lt.jsxs("div",{children:[Lt.jsx("label",{className:"text-sm font-semibold text-gray-700",children:y.salary}),Lt.jsx("input",{type:"number",className:"w-full border rounded-md p-2 mt-1",placeholder:"30000",value:t,onChange:k=>e(k.target.value)})]}),Lt.jsxs("div",{children:[Lt.jsx("label",{className:"text-sm font-semibold text-gray-700",children:y.base_hours}),Lt.jsxs("div",{className:"flex gap-2 mt-1",children:[Lt.jsxs("select",{className:"w-full border rounded-md p-2 text-sm",value:r===173||r===208?r:"custom",onChange:k=>{const R=k.target.value;R!=="custom"&&i(Number(R))},children:[Lt.jsx("option",{value:"173",children:y.days_5}),Lt.jsx("option",{value:"208",children:y.days_6}),Lt.jsx("option",{value:"custom",children:y.custom})]}),r!==173&&r!==208&&Lt.jsx("input",{type:"number",className:"w-28 border rounded-md p-2 text-sm",placeholder:"240",value:r,onChange:k=>i(Number(k.target.value))})]})]})]}),Lt.jsxs("div",{className:"space-y-3",children:[Lt.jsx("h3",{className:"font-bold text-sm uppercase text-gray-500",children:y.filters}),Lt.jsxs("div",{className:"relative",children:[Lt.jsx(hI,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),Lt.jsx("input",{type:"text",className:"w-full border rounded-md pl-8 p-2 text-sm",placeholder:"Search...",value:g,onChange:k=>w(k.target.value)})]}),Lt.jsx("div",{className:"flex flex-wrap gap-1.5",children:["all","workday","weekend","holiday","late","absent"].map(k=>Lt.jsx("button",{onClick:()=>v(k),className:`px-2.5 py-1 text-xs border rounded-md capitalize ${p===k?"bg-blue-100 text-blue-800":"bg-white hover:bg-gray-100"}`,children:k},k))})]}),Lt.jsxs("div",{className:"space-y-2",children:[Lt.jsx("h3",{className:"font-bold text-sm uppercase text-gray-500",children:y.tools}),Lt.jsxs("button",{onClick:a,className:"w-full flex items-center gap-2 px-3 py-2 text-sm border rounded-md bg-white hover:bg-gray-100",children:[Lt.jsx(oI,{className:"w-4 h-4"})," ",y.export_pdf]}),Lt.jsxs("button",{onClick:o,className:"w-full flex items-center gap-2 px-3 py-2 text-sm border rounded-md bg-white hover:bg-gray-100",children:[Lt.jsx(aI,{className:"w-4 h-4"})," ",y.download_csv]}),Lt.jsxs("button",{onClick:l,className:"w-full flex items-center gap-2 px-3 py-2 text-sm border rounded-md bg-white hover:bg-red-50 text-red-600",children:[Lt.jsx(dI,{className:"w-4 h-4"})," ",y.clear_data]})]})]}),Lt.jsx("footer",{className:"mt-auto text-center text-xs text-gray-500 pt-4",children:Lt.jsxs("p",{children:[" 2025 FORTH TEAM System.",Lt.jsx("br",{}),"All rights reserved."]})})]})},mI=({netHours:n,otTotal:t,perDiemTotal:e,grandTotal:r,lang:i,i18n:a})=>{const o=a[i];return Lt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Lt.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:[Lt.jsx("h4",{className:"text-sm font-semibold text-gray-500",children:o.net_hours}),Lt.jsx("p",{className:"text-2xl font-bold",children:n})]}),Lt.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:[Lt.jsx("h4",{className:"text-sm font-semibold text-gray-500",children:o.ot_pay}),Lt.jsx("p",{className:"text-2xl font-bold",children:t})]}),Lt.jsxs("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:[Lt.jsx("h4",{className:"text-sm font-semibold text-gray-500",children:o.per_diem}),Lt.jsx("p",{className:"text-2xl font-bold",children:e})]}),Lt.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200 shadow-sm",children:[Lt.jsx("h4",{className:"text-sm font-semibold text-green-700",children:o.grand_total_label}),Lt.jsx("p",{className:"text-2xl font-bold text-green-600",children:r})]})]})};function rN(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(t=0;t<i;t++)n[t]&&(e=rN(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function In(){for(var n,t,e=0,r="",i=arguments.length;e<i;e++)(n=arguments[e])&&(t=rN(n))&&(r&&(r+=" "),r+=t);return r}var vI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function V5(n){if(typeof n!="string")return!1;var t=vI;return t.includes(n)}var yI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bI=new Set(yI);function iN(n){return typeof n!="string"?!1:bI.has(n)}function aN(n){return typeof n=="string"&&n.startsWith("data-")}function Vo(n){if(typeof n!="object"||n===null)return{};var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(iN(e)||aN(e))&&(t[e]=n[e]);return t}function Zp(n){if(n==null)return null;if(j.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var t=n.props;return Vo(t)}return typeof n=="object"&&!Array.isArray(n)?Vo(n):null}function so(n){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(iN(e)||aN(e)||V5(e))&&(t[e]=n[e]);return t}var wI=["children","width","height","viewBox","className","style","title","desc"];function vw(){return vw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},vw.apply(null,arguments)}function AI(n,t){if(n==null)return{};var e,r,i=xI(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function xI(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var Y5=j.forwardRef((n,t)=>{var{children:e,width:r,height:i,viewBox:a,className:o,style:l,title:c,desc:h}=n,f=AI(n,wI),p=a||{width:r,height:i,x:0,y:0},v=In("recharts-surface",o);return j.createElement("svg",vw({},so(f),{className:v,width:r,height:i,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),j.createElement("title",null,c),j.createElement("desc",null,h),e)}),SI=["children","className"];function yw(){return yw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},yw.apply(null,arguments)}function _I(n,t){if(n==null)return{};var e,r,i=EI(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function EI(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var ka=j.forwardRef((n,t)=>{var{children:e,className:r}=n,i=_I(n,SI),a=In("recharts-layer",r);return j.createElement("g",yw({className:a},so(i),{ref:t}),e)}),K5=tN(),sN=j.createContext(null),CI=()=>j.useContext(sN);function Jn(n){return function(){return n}}const oN=Math.cos,j0=Math.sin,Xo=Math.sqrt,B0=Math.PI,Fv=2*B0,bw=Math.PI,ww=2*bw,gh=1e-6,TI=ww-gh;function lN(n){this._+=n[0];for(let t=1,e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function OI(n){let t=Math.floor(n);if(!(t>=0))throw new Error(`invalid digits: ${n}`);if(t>15)return lN;const e=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class PI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lN:OI(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,r,i){this._append`Q${+t},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,e,r,i,a,o){this._append`C${+t},${+e},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,e,r,i,a){if(t=+t,e=+e,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,h=i-e,f=o-t,p=l-e,v=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=e}`;else if(v>gh)if(!(Math.abs(p*c-h*f)>gh)||!a)this._append`L${this._x1=t},${this._y1=e}`;else{let g=r-o,w=i-l,y=c*c+h*h,x=g*g+w*w,S=Math.sqrt(y),O=Math.sqrt(v),C=a*Math.tan((bw-Math.acos((y+v-x)/(2*S*O)))/2),N=C/O,k=C/S;Math.abs(N-1)>gh&&this._append`L${t+N*f},${e+N*p}`,this._append`A${a},${a},0,0,${+(p*g>f*w)},${this._x1=t+k*c},${this._y1=e+k*h}`}}arc(t,e,r,i,a,o){if(t=+t,e=+e,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),h=t+l,f=e+c,p=1^o,v=o?i-a:a-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>gh||Math.abs(this._y1-f)>gh)&&this._append`L${h},${f}`,r&&(v<0&&(v=v%ww+ww),v>TI?this._append`A${r},${r},0,1,${p},${t-l},${e-c}A${r},${r},0,1,${p},${this._x1=h},${this._y1=f}`:v>gh&&this._append`A${r},${r},0,${+(v>=bw)},${p},${this._x1=t+r*Math.cos(a)},${this._y1=e+r*Math.sin(a)}`)}rect(t,e,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function X5(n){let t=3;return n.digits=function(e){if(!arguments.length)return t;if(e==null)t=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);t=r}return n},()=>new PI(t)}function Z5(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function uN(n){this._context=n}uN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function zv(n){return new uN(n)}function cN(n){return n[0]}function hN(n){return n[1]}function fN(n,t){var e=Jn(!0),r=null,i=zv,a=null,o=X5(l);n=typeof n=="function"?n:n===void 0?cN:Jn(n),t=typeof t=="function"?t:t===void 0?hN:Jn(t);function l(c){var h,f=(c=Z5(c)).length,p,v=!1,g;for(r==null&&(a=i(g=o())),h=0;h<=f;++h)!(h<f&&e(p=c[h],h,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+n(p,h,c),+t(p,h,c));if(g)return a=null,g+""||null}return l.x=function(c){return arguments.length?(n=typeof c=="function"?c:Jn(+c),l):n},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Jn(+c),l):t},l.defined=function(c){return arguments.length?(e=typeof c=="function"?c:Jn(!!c),l):e},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function qm(n,t,e){var r=null,i=Jn(!0),a=null,o=zv,l=null,c=X5(h);n=typeof n=="function"?n:n===void 0?cN:Jn(+n),t=typeof t=="function"?t:Jn(t===void 0?0:+t),e=typeof e=="function"?e:e===void 0?hN:Jn(+e);function h(p){var v,g,w,y=(p=Z5(p)).length,x,S=!1,O,C=new Array(y),N=new Array(y);for(a==null&&(l=o(O=c())),v=0;v<=y;++v){if(!(v<y&&i(x=p[v],v,p))===S)if(S=!S)g=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=v-1;w>=g;--w)l.point(C[w],N[w]);l.lineEnd(),l.areaEnd()}S&&(C[v]=+n(x,v,p),N[v]=+t(x,v,p),l.point(r?+r(x,v,p):C[v],e?+e(x,v,p):N[v]))}if(O)return l=null,O+""||null}function f(){return fN().defined(i).curve(o).context(a)}return h.x=function(p){return arguments.length?(n=typeof p=="function"?p:Jn(+p),r=null,h):n},h.x0=function(p){return arguments.length?(n=typeof p=="function"?p:Jn(+p),h):n},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Jn(+p),h):r},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:Jn(+p),e=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Jn(+p),h):t},h.y1=function(p){return arguments.length?(e=p==null?null:typeof p=="function"?p:Jn(+p),h):e},h.lineX0=h.lineY0=function(){return f().x(n).y(t)},h.lineY1=function(){return f().x(n).y(e)},h.lineX1=function(){return f().x(r).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Jn(!!p),h):i},h.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),h):o},h.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),h):a},h}class dN{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e);break}}this._x0=t,this._y0=e}}function NI(n){return new dN(n,!0)}function kI(n){return new dN(n,!1)}const Q5={draw(n,t){const e=Xo(t/B0);n.moveTo(e,0),n.arc(0,0,e,0,Fv)}},LI={draw(n,t){const e=Xo(t/5)/2;n.moveTo(-3*e,-e),n.lineTo(-e,-e),n.lineTo(-e,-3*e),n.lineTo(e,-3*e),n.lineTo(e,-e),n.lineTo(3*e,-e),n.lineTo(3*e,e),n.lineTo(e,e),n.lineTo(e,3*e),n.lineTo(-e,3*e),n.lineTo(-e,e),n.lineTo(-3*e,e),n.closePath()}},pN=Xo(1/3),MI=pN*2,DI={draw(n,t){const e=Xo(t/MI),r=e*pN;n.moveTo(0,-e),n.lineTo(r,0),n.lineTo(0,e),n.lineTo(-r,0),n.closePath()}},RI={draw(n,t){const e=Xo(t),r=-e/2;n.rect(r,r,e,e)}},II=.8908130915292852,gN=j0(B0/10)/j0(7*B0/10),jI=j0(Fv/10)*gN,BI=-oN(Fv/10)*gN,FI={draw(n,t){const e=Xo(t*II),r=jI*e,i=BI*e;n.moveTo(0,-e),n.lineTo(r,i);for(let a=1;a<5;++a){const o=Fv*a/5,l=oN(o),c=j0(o);n.lineTo(c*e,-l*e),n.lineTo(l*r-c*i,c*r+l*i)}n.closePath()}},ib=Xo(3),zI={draw(n,t){const e=-Xo(t/(ib*3));n.moveTo(0,e*2),n.lineTo(-ib*e,-e),n.lineTo(ib*e,-e),n.closePath()}},Qs=-.5,Js=Xo(3)/2,Aw=1/Xo(12),UI=(Aw/2+1)*3,qI={draw(n,t){const e=Xo(t/UI),r=e/2,i=e*Aw,a=r,o=e*Aw+e,l=-a,c=o;n.moveTo(r,i),n.lineTo(a,o),n.lineTo(l,c),n.lineTo(Qs*r-Js*i,Js*r+Qs*i),n.lineTo(Qs*a-Js*o,Js*a+Qs*o),n.lineTo(Qs*l-Js*c,Js*l+Qs*c),n.lineTo(Qs*r+Js*i,Qs*i-Js*r),n.lineTo(Qs*a+Js*o,Qs*o-Js*a),n.lineTo(Qs*l+Js*c,Qs*c-Js*l),n.closePath()}};function HI(n,t){let e=null,r=X5(i);n=typeof n=="function"?n:Jn(n||Q5),t=typeof t=="function"?t:Jn(t===void 0?64:+t);function i(){let a;if(e||(e=a=r()),n.apply(this,arguments).draw(e,+t.apply(this,arguments)),a)return e=null,a+""||null}return i.type=function(a){return arguments.length?(n=typeof a=="function"?a:Jn(a),i):n},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Jn(+a),i):t},i.context=function(a){return arguments.length?(e=a??null,i):e},i}function F0(){}function z0(n,t,e){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+e)/6)}function mN(n){this._context=n}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:z0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z0(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function $I(n){return new mN(n)}function vN(n){this._context=n}vN.prototype={areaStart:F0,areaEnd:F0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:z0(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function GI(n){return new vN(n)}function yN(n){this._context=n}yN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:z0(this,n,t);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};function WI(n){return new yN(n)}function bN(n){this._context=n}bN.prototype={areaStart:F0,areaEnd:F0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};function VI(n){return new bN(n)}function FE(n){return n<0?-1:1}function zE(n,t,e){var r=n._x1-n._x0,i=t-n._x1,a=(n._y1-n._y0)/(r||i<0&&-0),o=(e-n._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(FE(a)+FE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function UE(n,t){var e=n._x1-n._x0;return e?(3*(n._y1-n._y0)/e-t)/2:t}function ab(n,t,e){var r=n._x0,i=n._y0,a=n._x1,o=n._y1,l=(a-r)/3;n._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*e,a,o)}function U0(n){this._context=n}U0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ab(this,this._t0,UE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var e=NaN;if(n=+n,t=+t,!(n===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,ab(this,UE(this,e=zE(this,n,t)),e);break;default:ab(this,this._t0,e=zE(this,n,t));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=e}}};function wN(n){this._context=new AN(n)}(wN.prototype=Object.create(U0.prototype)).point=function(n,t){U0.prototype.point.call(this,t,n)};function AN(n){this._context=n}AN.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,e,r,i,a){this._context.bezierCurveTo(t,n,r,e,a,i)}};function YI(n){return new U0(n)}function KI(n){return new wN(n)}function xN(n){this._context=n}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,e=n.length;if(e)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),e===2)this._context.lineTo(n[1],t[1]);else for(var r=qE(n),i=qE(t),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],n[o],t[o]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};function qE(n){var t,e=n.length-1,r,i=new Array(e),a=new Array(e),o=new Array(e);for(i[0]=0,a[0]=2,o[0]=n[0]+2*n[1],t=1;t<e-1;++t)i[t]=1,a[t]=4,o[t]=4*n[t]+2*n[t+1];for(i[e-1]=2,a[e-1]=7,o[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[e-1]=o[e-1]/a[e-1],t=e-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[e-1]=(n[e]+i[e-1])/2,t=0;t<e-1;++t)a[t]=2*n[t+1]-i[t+1];return[i,a]}function XI(n){return new xN(n)}function Uv(n,t){this._context=n,this._t=t}Uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var e=this._x*(1-this._t)+n*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,t)}break}}this._x=n,this._y=t}};function ZI(n){return new Uv(n,.5)}function QI(n){return new Uv(n,0)}function JI(n){return new Uv(n,1)}function wd(n,t){if((o=n.length)>1)for(var e=1,r,i,a=n[t[0]],o,l=a.length;e<o;++e)for(i=a,a=n[t[e]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xw(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}function tj(n,t){return n[t]}function ej(n){const t=[];return t.key=n,t}function nj(){var n=Jn([]),t=xw,e=wd,r=tj;function i(a){var o=Array.from(n.apply(this,arguments),ej),l,c=o.length,h=-1,f;for(const p of a)for(l=0,++h;l<c;++l)(o[l][h]=[0,+r(p,o[l].key,h,a)]).data=p;for(l=0,f=Z5(t(o));l<c;++l)o[f[l]].index=l;return e(o,f),o}return i.keys=function(a){return arguments.length?(n=typeof a=="function"?a:Jn(Array.from(a)),i):n},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Jn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?xw:typeof a=="function"?a:Jn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(e=a??wd,i):e},i}function rj(n,t){if((r=n.length)>0){for(var e,r,i=0,a=n[0].length,o;i<a;++i){for(o=e=0;e<r;++e)o+=n[e][i][1]||0;if(o)for(e=0;e<r;++e)n[e][i][1]/=o}wd(n,t)}}function ij(n,t){if((i=n.length)>0){for(var e=0,r=n[t[0]],i,a=r.length;e<a;++e){for(var o=0,l=0;o<i;++o)l+=n[o][e][1]||0;r[e][1]+=r[e][0]=-l/2}wd(n,t)}}function aj(n,t){if(!(!((o=n.length)>0)||!((a=(i=n[t[0]]).length)>0))){for(var e=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,h=0;l<o;++l){for(var f=n[t[l]],p=f[r][1]||0,v=f[r-1][1]||0,g=(p-v)/2,w=0;w<l;++w){var y=n[t[w]],x=y[r][1]||0,S=y[r-1][1]||0;g+=x-S}c+=p,h+=g*p}i[r-1][1]+=i[r-1][0]=e,c&&(e-=h/c)}i[r-1][1]+=i[r-1][0]=e,wd(n,t)}}var sb={},ob={},HE;function sj(){return HE||(HE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==="__proto__"}n.isUnsafeProperty=t})(ob)),ob}var lb={},$E;function SN(){return $E||($E=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}n.isDeepKey=t})(lb)),lb}var ub={},GE;function J5(){return GE||(GE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="string"||typeof e=="symbol"?e:Object.is(e?.valueOf?.(),-0)?"-0":String(e)}n.toKey=t})(ub)),ub}var cb={},hb={},WE;function oj(){return WE||(WE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(e==null)return"";if(typeof e=="string")return e;if(Array.isArray(e))return e.map(t).join(",");const r=String(e);return r==="0"&&Object.is(Number(e),-0)?"-0":r}n.toString=t})(hb)),hb}var VE;function tA(){return VE||(VE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=oj(),e=J5();function r(i){if(Array.isArray(i))return i.map(e.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let l=0,c="",h="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<o;){const p=i[l];h?p==="\\"&&l+1<o?(l++,c+=i[l]):p===h?h="":c+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,a.push(c),c=""):c+=p:p==="["?(f=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,l++}return c&&a.push(c),a}n.toPath=r})(cb)),cb}var YE;function eA(){return YE||(YE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=sj(),e=SN(),r=J5(),i=tA();function a(l,c,h){if(l==null)return h;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return h;const f=l[c];return f===void 0?e.isDeepKey(c)?a(l,i.toPath(c),h):h:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?h:f}default:{if(Array.isArray(c))return o(l,c,h);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return h;const f=l[c];return f===void 0?h:f}}}function o(l,c,h){if(c.length===0)return h;let f=l;for(let p=0;p<c.length;p++){if(f==null||t.isUnsafeProperty(c[p]))return h;f=f[c[p]]}return f===void 0?h:f}n.get=a})(sb)),sb}var fb,KE;function lj(){return KE||(KE=1,fb=eA().get),fb}var uj=lj();const Lh=Mu(uj);var Bi=n=>n===0?0:n>0?1:-1,Yo=n=>typeof n=="number"&&n!=+n,Eu=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,he=n=>(typeof n=="number"||n instanceof Number)&&!Yo(n),kl=n=>he(n)||typeof n=="string",cj=0,Qp=n=>{var t=++cj;return"".concat(n||"").concat(t)},da=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&typeof t!="string")return r;var a;if(Eu(t)){if(e==null)return r;var o=t.indexOf("%");a=e*parseFloat(t.slice(0,o))/100}else a=+t;return Yo(a)&&(a=r),i&&e!=null&&a>e&&(a=e),a},_N=n=>{if(!Array.isArray(n))return!1;for(var t=n.length,e={},r=0;r<t;r++)if(!e[n[r]])e[n[r]]=!0;else return!0;return!1};function yi(n,t,e){return he(n)&&he(t)?n+e*(t-n):t}function hj(n,t,e){if(!(!n||!n.length))return n.find(r=>r&&(typeof t=="function"?t(r):Lh(r,t))===e)}var Fi=n=>n===null||typeof n>"u",bg=n=>Fi(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function fj(n){return n!=null}function wg(){}var dj=["type","size","sizeType"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Sw.apply(null,arguments)}function XE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ZE(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(e),!0).forEach(function(r){pj(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):XE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function pj(n,t,e){return(t=gj(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function gj(n){var t=mj(n,"string");return typeof t=="symbol"?t:t+""}function mj(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function vj(n,t){if(n==null)return{};var e,r,i=yj(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function yj(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var EN={symbolCircle:Q5,symbolCross:LI,symbolDiamond:DI,symbolSquare:RI,symbolStar:FI,symbolTriangle:zI,symbolWye:qI},bj=Math.PI/180,wj=n=>{var t="symbol".concat(bg(n));return EN[t]||Q5},Aj=(n,t,e)=>{if(t==="area")return n;switch(e){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var r=18*bj;return 1.25*n*n*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},xj=(n,t)=>{EN["symbol".concat(bg(n))]=t},nA=n=>{var{type:t="circle",size:e=64,sizeType:r="area"}=n,i=vj(n,dj),a=ZE(ZE({},i),{},{type:t,size:e,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var v=wj(o),g=HI().type(v).size(Aj(e,r,o)),w=g();if(w!==null)return w},{className:c,cx:h,cy:f}=a,p=so(a);return he(h)&&he(f)&&he(e)?j.createElement("path",Sw({},p,{className:In("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(f,")"),d:l()})):null};nA.registerSymbol=xj;var CN=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,Sj=(n,t)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var e=n;if(j.isValidElement(n)&&(e=n.props),typeof e!="object"&&typeof e!="function")return null;var r={};return Object.keys(e).forEach(i=>{V5(i)&&(r[i]=(a=>e[i](e,a)))}),r},_j=(n,t,e)=>r=>(n(t,e,r),null),Ag=(n,t,e)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var a=n[i];V5(i)&&typeof a=="function"&&(r||(r={}),r[i]=_j(a,t,e))}),r};function QE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ej(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(e),!0).forEach(function(r){Cj(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):QE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Cj(n,t,e){return(t=Tj(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Tj(n){var t=Oj(n,"string");return typeof t=="symbol"?t:t+""}function Oj(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function zi(n,t){var e=Ej({},n),r=t,i=Object.keys(t),a=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),e);return a}function q0(){return q0=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},q0.apply(null,arguments)}function JE(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Pj(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(e),!0).forEach(function(r){Nj(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):JE(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Nj(n,t,e){return(t=kj(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function kj(n){var t=Lj(n,"string");return typeof t=="symbol"?t:t+""}function Lj(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var ro=32,Mj={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Dj(n){var{data:t,iconType:e,inactiveColor:r}=n,i=ro/2,a=ro/6,o=ro/3,l=t.inactive?r:t.color,c=e??t.type;if(c==="none")return null;if(c==="plainline"){var h;return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(h=t.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:ro,y2:i,className:"recharts-legend-icon"})}if(c==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ro,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ro/8,"h").concat(ro,"v").concat(ro*3/4,"h").concat(-ro,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var f=Pj({},t);return delete f.legendIcon,j.cloneElement(t.legendIcon,f)}return j.createElement(nA,{fill:l,cx:i,cy:i,size:ro,sizeType:"diameter",type:c})}function Rj(n){var{payload:t,iconSize:e,layout:r,formatter:i,inactiveColor:a,iconType:o}=n,l={x:0,y:0,width:ro,height:ro},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,p)=>{var v=f.formatter||i,g=In({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:f.inactive});if(f.type==="none")return null;var w=f.inactive?a:f.color,y=v?v(f.value,f,p):f.value;return j.createElement("li",q0({className:g,style:c,key:"legend-item-".concat(p)},Ag(n,f,p)),j.createElement(Y5,{width:e,height:e,viewBox:l,style:h,"aria-label":"".concat(y," legend icon")},j.createElement(Dj,{data:f,iconType:o,inactiveColor:a})),j.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y))})}var Ij=n=>{var t=zi(n,Mj),{payload:e,layout:r,align:i}=t;if(!e||!e.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},j.createElement(Rj,q0({},t,{payload:e})))},db={},pb={},t3;function jj(){return t3||(t3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,r){const i=new Map;for(let a=0;a<e.length;a++){const o=e[a],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}n.uniqBy=t})(pb)),pb}var gb={},e3;function TN(){return e3||(e3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e}n.identity=t})(gb)),gb}var mb={},vb={},yb={},n3;function Bj(){return n3||(n3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Number.isSafeInteger(e)&&e>=0}n.isLength=t})(yb)),yb}var r3;function rA(){return r3||(r3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Bj();function e(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}n.isArrayLike=e})(vb)),vb}var bb={},i3;function Fj(){return i3||(i3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="object"&&e!==null}n.isObjectLike=t})(bb)),bb}var a3;function zj(){return a3||(a3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=rA(),e=Fj();function r(i){return e.isObjectLike(i)&&t.isArrayLike(i)}n.isArrayLikeObject=r})(mb)),mb}var wb={},Ab={},s3;function Uj(){return s3||(s3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=eA();function e(r){return function(i){return t.get(i,r)}}n.property=e})(Ab)),Ab}var xb={},Sb={},_b={},Eb={},o3;function ON(){return o3||(o3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e!==null&&(typeof e=="object"||typeof e=="function")}n.isObject=t})(Eb)),Eb}var Cb={},l3;function PN(){return l3||(l3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null||typeof e!="object"&&typeof e!="function"}n.isPrimitive=t})(Cb)),Cb}var Tb={},u3;function NN(){return u3||(u3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,r){return e===r||Number.isNaN(e)&&Number.isNaN(r)}n.eq=t})(Tb)),Tb}var c3;function qj(){return c3||(c3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=ON(),e=PN(),r=NN();function i(f,p,v){return typeof v!="function"?i(f,p,()=>{}):a(f,p,function g(w,y,x,S,O,C){const N=v(w,y,x,S,O,C);return N!==void 0?!!N:a(w,y,g,C)},new Map)}function a(f,p,v,g){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,v,g);case"function":return Object.keys(p).length>0?a(f,{...p},v,g):r.eq(f,p);default:return t.isObject(f)?typeof p=="string"?p==="":!0:r.eq(f,p)}}function o(f,p,v,g){if(p==null)return!0;if(Array.isArray(p))return c(f,p,v,g);if(p instanceof Map)return l(f,p,v,g);if(p instanceof Set)return h(f,p,v,g);const w=Object.keys(p);if(f==null)return w.length===0;if(w.length===0)return!0;if(g?.has(p))return g.get(p)===f;g?.set(p,f);try{for(let y=0;y<w.length;y++){const x=w[y];if(!e.isPrimitive(f)&&!(x in f)||p[x]===void 0&&f[x]!==void 0||p[x]===null&&f[x]!==null||!v(f[x],p[x],x,f,p,g))return!1}return!0}finally{g?.delete(p)}}function l(f,p,v,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,y]of p.entries()){const x=f.get(w);if(v(x,y,w,f,p,g)===!1)return!1}return!0}function c(f,p,v,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let y=0;y<p.length;y++){const x=p[y];let S=!1;for(let O=0;O<f.length;O++){if(w.has(O))continue;const C=f[O];let N=!1;if(v(C,x,y,f,p,g)&&(N=!0),N){w.add(O),S=!0;break}}if(!S)return!1}return!0}function h(f,p,v,g){return p.size===0?!0:f instanceof Set?c([...f],[...p],v,g):!1}n.isMatchWith=i,n.isSetMatch=h})(_b)),_b}var h3;function kN(){return h3||(h3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=qj();function e(r,i){return t.isMatchWith(r,i,()=>{})}n.isMatch=e})(Sb)),Sb}var Ob={},Pb={},Nb={},f3;function Hj(){return f3||(f3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Object.getOwnPropertySymbols(e).filter(r=>Object.prototype.propertyIsEnumerable.call(e,r))}n.getSymbols=t})(Nb)),Nb}var kb={},d3;function LN(){return d3||(d3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}n.getTag=t})(kb)),kb}var Lb={},p3;function MN(){return p3||(p3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",e="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",v="[object ArrayBuffer]",g="[object Object]",w="[object Error]",y="[object DataView]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",N="[object BigUint64Array]",k="[object Int8Array]",R="[object Int16Array]",B="[object Int32Array]",H="[object BigInt64Array]",q="[object Float32Array]",rt="[object Float64Array]";n.argumentsTag=a,n.arrayBufferTag=v,n.arrayTag=f,n.bigInt64ArrayTag=H,n.bigUint64ArrayTag=N,n.booleanTag=i,n.dataViewTag=y,n.dateTag=l,n.errorTag=w,n.float32ArrayTag=q,n.float64ArrayTag=rt,n.functionTag=p,n.int16ArrayTag=R,n.int32ArrayTag=B,n.int8ArrayTag=k,n.mapTag=c,n.numberTag=r,n.objectTag=g,n.regexpTag=t,n.setTag=h,n.stringTag=e,n.symbolTag=o,n.uint16ArrayTag=O,n.uint32ArrayTag=C,n.uint8ArrayTag=x,n.uint8ClampedArrayTag=S})(Lb)),Lb}var Mb={},g3;function $j(){return g3||(g3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.isTypedArray=t})(Mb)),Mb}var m3;function DN(){return m3||(m3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Hj(),e=LN(),r=MN(),i=PN(),a=$j();function o(f,p){return l(f,void 0,f,new Map,p)}function l(f,p,v,g=new Map,w=void 0){const y=w?.(f,p,v,g);if(y!==void 0)return y;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const x=new Array(f.length);g.set(f,x);for(let S=0;S<f.length;S++)x[S]=l(f[S],S,v,g,w);return Object.hasOwn(f,"index")&&(x.index=f.index),Object.hasOwn(f,"input")&&(x.input=f.input),x}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const x=new RegExp(f.source,f.flags);return x.lastIndex=f.lastIndex,x}if(f instanceof Map){const x=new Map;g.set(f,x);for(const[S,O]of f)x.set(S,l(O,S,v,g,w));return x}if(f instanceof Set){const x=new Set;g.set(f,x);for(const S of f)x.add(l(S,void 0,v,g,w));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const x=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,x);for(let S=0;S<f.length;S++)x[S]=l(f[S],S,v,g,w);return x}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const x=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,x),c(x,f,v,g,w),x}if(typeof File<"u"&&f instanceof File){const x=new File([f],f.name,{type:f.type});return g.set(f,x),c(x,f,v,g,w),x}if(typeof Blob<"u"&&f instanceof Blob){const x=new Blob([f],{type:f.type});return g.set(f,x),c(x,f,v,g,w),x}if(f instanceof Error){const x=new f.constructor;return g.set(f,x),x.message=f.message,x.name=f.name,x.stack=f.stack,x.cause=f.cause,c(x,f,v,g,w),x}if(f instanceof Boolean){const x=new Boolean(f.valueOf());return g.set(f,x),c(x,f,v,g,w),x}if(f instanceof Number){const x=new Number(f.valueOf());return g.set(f,x),c(x,f,v,g,w),x}if(f instanceof String){const x=new String(f.valueOf());return g.set(f,x),c(x,f,v,g,w),x}if(typeof f=="object"&&h(f)){const x=Object.create(Object.getPrototypeOf(f));return g.set(f,x),c(x,f,v,g,w),x}return f}function c(f,p,v=f,g,w){const y=[...Object.keys(p),...t.getSymbols(p)];for(let x=0;x<y.length;x++){const S=y[x],O=Object.getOwnPropertyDescriptor(f,S);(O==null||O.writable)&&(f[S]=l(p[S],S,v,g,w))}}function h(f){switch(e.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=o,n.cloneDeepWithImpl=l,n.copyProperties=c})(Pb)),Pb}var v3;function Gj(){return v3||(v3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=DN();function e(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=e})(Ob)),Ob}var y3;function Wj(){return y3||(y3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=kN(),e=Gj();function r(i){return i=e.cloneDeep(i),a=>t.isMatch(a,i)}n.matches=r})(xb)),xb}var Db={},Rb={},Ib={},b3;function Vj(){return b3||(b3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=DN(),e=MN();function r(i,a){return t.cloneDeepWith(i,(o,l,c,h)=>{const f=a?.(o,l,c,h);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case e.numberTag:case e.stringTag:case e.booleanTag:{const p=new i.constructor(i?.valueOf());return t.copyProperties(p,i),p}case e.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}n.cloneDeepWith=r})(Ib)),Ib}var w3;function Yj(){return w3||(w3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=Vj();function e(r){return t.cloneDeepWith(r)}n.cloneDeep=e})(Rb)),Rb}var jb={},Bb={},A3;function RN(){return A3||(A3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function e(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}n.isIndex=e})(Bb)),Bb}var Fb={},x3;function Kj(){return x3||(x3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=LN();function e(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}n.isArguments=e})(Fb)),Fb}var S3;function Xj(){return S3||(S3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=SN(),e=RN(),r=Kj(),i=tA();function a(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let h=o;for(let f=0;f<c.length;f++){const p=c[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&e.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}n.has=a})(jb)),jb}var _3;function Zj(){return _3||(_3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=kN(),e=J5(),r=Yj(),i=eA(),a=Xj();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=e.toKey(l);break}}return c=r.cloneDeep(c),function(h){const f=i.get(h,l);return f===void 0?a.has(h,l):c===void 0?f===void 0:t.isMatch(f,c)}}n.matchesProperty=o})(Db)),Db}var E3;function Qj(){return E3||(E3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=TN(),e=Uj(),r=Wj(),i=Zj();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return e.property(o)}}n.iteratee=a})(wb)),wb}var C3;function Jj(){return C3||(C3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=jj(),e=TN(),r=zj(),i=Qj();function a(o,l=e.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(l)):[]}n.uniqBy=a})(db)),db}var zb,T3;function t7(){return T3||(T3=1,zb=Jj().uniqBy),zb}var e7=t7();const O3=Mu(e7);function IN(n,t,e){return t===!0?O3(n,e):typeof t=="function"?O3(n,t):n}var Ub={exports:{}},qb={},Hb={exports:{}},$b={};var P3;function n7(){if(P3)return $b;P3=1;var n=kd();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function l(p,v){var g=v(),w=r({inst:{value:g,getSnapshot:v}}),y=w[0].inst,x=w[1];return a(function(){y.value=g,y.getSnapshot=v,c(y)&&x({inst:y})},[p,g,v]),i(function(){return c(y)&&x({inst:y}),p(function(){c(y)&&x({inst:y})})},[p]),o(g),g}function c(p){var v=p.getSnapshot;p=p.value;try{var g=v();return!e(p,g)}catch{return!0}}function h(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return $b.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,$b}var N3;function r7(){return N3||(N3=1,Hb.exports=n7()),Hb.exports}var k3;function i7(){if(k3)return qb;k3=1;var n=kd(),t=r7();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,a=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;return qb.useSyncExternalStoreWithSelector=function(h,f,p,v,g){var w=a(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=l(function(){function S(R){if(!O){if(O=!0,C=R,R=v(R),g!==void 0&&y.hasValue){var B=y.value;if(g(B,R))return N=B}return N=R}if(B=N,r(C,R))return B;var H=v(R);return g!==void 0&&g(B,H)?(C=R,B):(C=R,N=H)}var O=!1,C,N,k=p===void 0?null:p;return[function(){return S(f())},k===null?void 0:function(){return S(k())}]},[f,p,v,g]);var x=i(h,w[0],w[1]);return o(function(){y.hasValue=!0,y.value=x},[x]),c(x),x},qb}var L3;function a7(){return L3||(L3=1,Ub.exports=i7()),Ub.exports}var s7=a7(),iA=j.createContext(null),o7=n=>n,tr=()=>{var n=j.useContext(iA);return n?n.store.dispatch:o7},S0=()=>{},l7=()=>S0,u7=(n,t)=>n===t;function ce(n){var t=j.useContext(iA);return s7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:l7,t?t.store.getState:S0,t?t.store.getState:S0,t?n:S0,u7)}function c7(n,t=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(t)}function h7(n,t=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(t)}function f7(n,t="expected all items to be functions, instead received the following types: "){if(!n.every(e=>typeof e=="function")){const e=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${e}]`)}}var M3=n=>Array.isArray(n)?n:[n];function d7(n){const t=Array.isArray(n[0])?n[0]:n;return f7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function p7(n,t){const e=[],{length:r}=n;for(let i=0;i<r;i++)e.push(n[i].apply(null,t));return e}var g7=class{constructor(n){this.value=n}deref(){return this.value}},m7=typeof WeakRef<"u"?WeakRef:g7,v7=0,D3=1;function Hm(){return{s:v7,v:void 0,o:null,p:null}}function jN(n,t={}){let e=Hm();const{resultEqualityCheck:r}=t;let i,a=0;function o(){let l=e;const{length:c}=arguments;for(let p=0,v=c;p<v;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const y=w.get(g);y===void 0?(l=Hm(),w.set(g,l)):l=y}else{let w=l.p;w===null&&(l.p=w=new Map);const y=w.get(g);y===void 0?(l=Hm(),w.set(g,l)):l=y}}const h=l;let f;if(l.s===D3)f=l.v;else if(f=n.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new m7(f):f}return h.s=D3,h.v=f,f}return o.clearCache=()=>{e=Hm(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function y7(n,...t){const e=typeof n=="function"?{memoize:n,memoizeOptions:t}:n,r=(...i)=>{let a=0,o=0,l,c={},h=i.pop();typeof h=="object"&&(c=h,h=i.pop()),c7(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...e,...c},{memoize:p,memoizeOptions:v=[],argsMemoize:g=jN,argsMemoizeOptions:w=[]}=f,y=M3(v),x=M3(w),S=d7(i),O=p(function(){return a++,h.apply(null,arguments)},...y),C=g(function(){o++;const k=p7(S,arguments);return l=O.apply(null,k),l},...x);return Object.assign(C,{resultFunc:h,memoizedResultFunc:O,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var Pt=y7(jN),b7=Object.assign((n,t=Pt)=>{h7(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const e=Object.keys(n),r=e.map(a=>n[a]);return t(r,(...a)=>a.reduce((o,l,c)=>(o[e[c]]=l,o),{}))},{withTypes:()=>b7}),Gb={},Wb={},Vb={},R3;function w7(){return R3||(R3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const e=(r,i,a)=>{if(r!==i){const o=t(r),l=t(i);if(o===l&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-o:o-l}return 0};n.compareValues=e})(Vb)),Vb}var Yb={},Kb={},I3;function BN(){return I3||(I3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return typeof e=="symbol"||e instanceof Symbol}n.isSymbol=t})(Kb)),Kb}var j3;function A7(){return j3||(j3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=BN(),e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!e.test(a))||o!=null&&Object.hasOwn(o,a)}n.isKey=i})(Yb)),Yb}var B3;function x7(){return B3||(B3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=w7(),e=A7(),r=tA();function i(a,o,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(g=>String(g));const h=(g,w)=>{let y=g;for(let x=0;x<w.length&&y!=null;++x)y=y[w[x]];return y},f=(g,w)=>w==null||g==null?w:typeof g=="object"&&"key"in g?Object.hasOwn(w,g.key)?w[g.key]:h(w,g.path):typeof g=="function"?g(w):Array.isArray(g)?h(w,g):typeof w=="object"?w[g]:w,p=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||e.isKey(g)?g:{key:g,path:r.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(w=>f(w,g))})).slice().sort((g,w)=>{for(let y=0;y<p.length;y++){const x=t.compareValues(g.criteria[y],w.criteria[y],l[y]);if(x!==0)return x}return 0}).map(g=>g.original)}n.orderBy=i})(Wb)),Wb}var Xb={},F3;function S7(){return F3||(F3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,r=1){const i=[],a=Math.floor(r),o=(l,c)=>{for(let h=0;h<l.length;h++){const f=l[h];Array.isArray(f)&&c<a?o(f,c+1):i.push(f)}};return o(e,0),i}n.flatten=t})(Xb)),Xb}var Zb={},z3;function FN(){return z3||(z3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=RN(),e=rA(),r=ON(),i=NN();function a(o,l,c){return r.isObject(c)&&(typeof l=="number"&&e.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}n.isIterateeCall=a})(Zb)),Zb}var U3;function _7(){return U3||(U3=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=x7(),e=S7(),r=FN();function i(a,...o){const l=o.length;return l>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,e.flatten(o),["asc"])}n.sortBy=i})(Gb)),Gb}var Qb,q3;function E7(){return q3||(q3=1,Qb=_7().sortBy),Qb}var C7=E7();const qv=Mu(C7);var zN=n=>n.legend.settings,T7=n=>n.legend.size,O7=n=>n.legend.payload,P7=Pt([O7,zN],(n,t)=>{var{itemSorter:e}=t,r=n.flat(1);return e?qv(r,e):r});function N7(){return ce(P7)}var $m=1;function UN(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,e]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>$m||Math.abs(o.left-t.left)>$m||Math.abs(o.top-t.top)>$m||Math.abs(o.width-t.width)>$m)&&e({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...n]);return[t,r]}function Ji(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var k7=typeof Symbol=="function"&&Symbol.observable||"@@observable",H3=k7,Jb=()=>Math.random().toString(36).substring(7).split("").join("."),L7={INIT:`@@redux/INIT${Jb()}`,REPLACE:`@@redux/REPLACE${Jb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jb()}`},H0=L7;function aA(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function qN(n,t,e){if(typeof n!="function")throw new Error(Ji(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Ji(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Ji(1));return e(qN)(n,t)}let r=n,i=t,a=new Map,o=a,l=0,c=!1;function h(){o===a&&(o=new Map,a.forEach((x,S)=>{o.set(S,x)}))}function f(){if(c)throw new Error(Ji(3));return i}function p(x){if(typeof x!="function")throw new Error(Ji(4));if(c)throw new Error(Ji(5));let S=!0;h();const O=l++;return o.set(O,x),function(){if(S){if(c)throw new Error(Ji(6));S=!1,h(),o.delete(O),a=null}}}function v(x){if(!aA(x))throw new Error(Ji(7));if(typeof x.type>"u")throw new Error(Ji(8));if(typeof x.type!="string")throw new Error(Ji(17));if(c)throw new Error(Ji(9));try{c=!0,i=r(i,x)}finally{c=!1}return(a=o).forEach(O=>{O()}),x}function g(x){if(typeof x!="function")throw new Error(Ji(10));r=x,v({type:H0.REPLACE})}function w(){const x=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Ji(11));function O(){const N=S;N.next&&N.next(f())}return O(),{unsubscribe:x(O)}},[H3](){return this}}}return v({type:H0.INIT}),{dispatch:v,subscribe:p,getState:f,replaceReducer:g,[H3]:w}}function M7(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:H0.INIT})>"u")throw new Error(Ji(12));if(typeof e(void 0,{type:H0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ji(13))})}function HN(n){const t=Object.keys(n),e={};for(let a=0;a<t.length;a++){const o=t[a];typeof n[o]=="function"&&(e[o]=n[o])}const r=Object.keys(e);let i;try{M7(e)}catch(a){i=a}return function(o={},l){if(i)throw i;let c=!1;const h={};for(let f=0;f<r.length;f++){const p=r[f],v=e[p],g=o[p],w=v(g,l);if(typeof w>"u")throw l&&l.type,new Error(Ji(14));h[p]=w,c=c||w!==g}return c=c||r.length!==Object.keys(o).length,c?h:o}}function $0(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...r)=>t(e(...r)))}function D7(...n){return t=>(e,r)=>{const i=t(e,r);let a=()=>{throw new Error(Ji(15))};const o={getState:i.getState,dispatch:(c,...h)=>a(c,...h)},l=n.map(c=>c(o));return a=$0(...l)(i.dispatch),{...i,dispatch:a}}}function $N(n){return aA(n)&&"type"in n&&typeof n.type=="string"}var GN=Symbol.for("immer-nothing"),$3=Symbol.for("immer-draftable"),La=Symbol.for("immer-state");function Ho(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ps=Object,Ad=Ps.getPrototypeOf,G0="constructor",Hv="prototype",_w="configurable",W0="enumerable",_0="writable",Jp="value",Cu=n=>!!n&&!!n[La];function Ll(n){return n?WN(n)||$v(n)||!!n[$3]||!!n[G0]?.[$3]||Gv(n)||Wv(n):!1}var R7=Ps[Hv][G0].toString(),G3=new WeakMap;function WN(n){if(!n||!sA(n))return!1;const t=Ad(n);if(t===null||t===Ps[Hv])return!0;const e=Ps.hasOwnProperty.call(t,G0)&&t[G0];if(e===Object)return!0;if(!Xf(e))return!1;let r=G3.get(e);return r===void 0&&(r=Function.toString.call(e),G3.set(e,r)),r===R7}function xg(n,t,e=!0){Sg(n)===0?(e?Reflect.ownKeys(n):Ps.keys(n)).forEach(i=>{t(i,n[i],n)}):n.forEach((r,i)=>t(i,r,n))}function Sg(n){const t=n[La];return t?t.type_:$v(n)?1:Gv(n)?2:Wv(n)?3:0}var W3=(n,t,e=Sg(n))=>e===2?n.has(t):Ps[Hv].hasOwnProperty.call(n,t),Ew=(n,t,e=Sg(n))=>e===2?n.get(t):n[t],V0=(n,t,e,r=Sg(n))=>{r===2?n.set(t,e):r===3?n.add(e):n[t]=e};function I7(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}var $v=Array.isArray,Gv=n=>n instanceof Map,Wv=n=>n instanceof Set,sA=n=>typeof n=="object",Xf=n=>typeof n=="function",t2=n=>typeof n=="boolean",gu=n=>n.copy_||n.base_,oA=n=>n.modified_?n.copy_:n.base_;function Cw(n,t){if(Gv(n))return new Map(n);if(Wv(n))return new Set(n);if($v(n))return Array[Hv].slice.call(n);const e=WN(n);if(t===!0||t==="class_only"&&!e){const r=Ps.getOwnPropertyDescriptors(n);delete r[La];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l[_0]===!1&&(l[_0]=!0,l[_w]=!0),(l.get||l.set)&&(r[o]={[_w]:!0,[_0]:!0,[W0]:l[W0],[Jp]:n[o]})}return Ps.create(Ad(n),r)}else{const r=Ad(n);if(r!==null&&e)return{...n};const i=Ps.create(r);return Ps.assign(i,n)}}function lA(n,t=!1){return Vv(n)||Cu(n)||(Sg(n)>1&&Ps.defineProperties(n,{set:Gm,add:Gm,clear:Gm,delete:Gm}),Ps.freeze(n),t&&xg(n,(e,r)=>{lA(r,!0)},!1)),n}function j7(){Ho(2)}var Gm={[Jp]:j7};function Vv(n){return n===null||!sA(n)?!0:Ps.isFrozen(n)}var Y0="MapSet",Tw="Patches",VN={};function xd(n){const t=VN[n];return t||Ho(0,n),t}var B7=n=>!!VN[n],tg,YN=()=>tg,F7=(n,t)=>({drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:B7(Y0)?xd(Y0):void 0});function V3(n,t){t&&(n.patchPlugin_=xd(Tw),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function Ow(n){Pw(n),n.drafts_.forEach(z7),n.drafts_=null}function Pw(n){n===tg&&(tg=n.parent_)}var Y3=n=>tg=F7(tg,n);function z7(n){const t=n[La];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function K3(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];if(n!==void 0&&n!==e){e[La].modified_&&(Ow(t),Ho(4)),Ll(n)&&(n=X3(t,n));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(e[La].base_,n,t)}else n=X3(t,e);return U7(t,n,!0),Ow(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==GN?n:void 0}function X3(n,t){if(Vv(t))return t;const e=t[La];if(!e)return uA(t,n.handledSet_,n);if(!Yv(e,n))return t;if(!e.modified_)return e.base_;if(!e.finalized_){const{callbacks_:r}=e;if(r)for(;r.length>0;)r.pop()(n);ZN(e,n)}return e.copy_}function U7(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&lA(t,e)}function KN(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Yv=(n,t)=>n.scope_===t,q7=[];function XN(n,t,e,r){const i=gu(n),a=n.type_;if(r!==void 0&&Ew(i,r,a)===t){V0(i,r,e,a);return}if(!n.draftLocations_){const l=n.draftLocations_=new Map;xg(i,(c,h)=>{if(Cu(h)){const f=l.get(h)||[];f.push(c),l.set(h,f)}})}const o=n.draftLocations_.get(t)??q7;for(const l of o)V0(i,l,e,a)}function H7(n,t,e){n.callbacks_.push(function(i){const a=t;if(!a||!Yv(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=oA(a);XN(n,a.draft_??a,o,e),ZN(a,i)})}function ZN(n,t){if(n.modified_&&!n.finalized_&&(n.type_===3||(n.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(n);i&&r.generatePatches_(n,i,t)}KN(n)}}function $7(n,t,e){const{scope_:r}=n;if(Cu(e)){const i=e[La];Yv(i,r)&&i.callbacks_.push(function(){E0(n);const o=oA(i);XN(n,e,o,t)})}else Ll(e)&&n.callbacks_.push(function(){const a=gu(n);Ew(a,t,n.type_)===e&&r.drafts_.length>1&&(n.assigned_.get(t)??!1)===!0&&n.copy_&&uA(Ew(n.copy_,t,n.type_),r.handledSet_,r)})}function uA(n,t,e){return!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||Cu(n)||t.has(n)||!Ll(n)||Vv(n)||(t.add(n),xg(n,(r,i)=>{if(Cu(i)){const a=i[La];if(Yv(a,e)){const o=oA(a);V0(n,r,o,n.type_),KN(a)}}else Ll(i)&&uA(i,t,e)})),n}function G7(n,t){const e=$v(n),r={type_:e?1:0,scope_:t?t.scope_:YN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=cA;e&&(i=[r],a=eg);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,[l,r]}var cA={get(n,t){if(t===La)return n;const e=gu(n);if(!W3(e,t,n.type_))return W7(n,e,t);const r=e[t];if(n.finalized_||!Ll(r))return r;if(r===e2(n.base_,t)){E0(n);const i=n.type_===1?+t:t,a=kw(n.scope_,r,n,i);return n.copy_[i]=a}return r},has(n,t){return t in gu(n)},ownKeys(n){return Reflect.ownKeys(gu(n))},set(n,t,e){const r=QN(gu(n),t);if(r?.set)return r.set.call(n.draft_,e),!0;if(!n.modified_){const i=e2(gu(n),t),a=i?.[La];if(a&&a.base_===e)return n.copy_[t]=e,n.assigned_.set(t,!1),!0;if(I7(e,i)&&(e!==void 0||W3(n.base_,t,n.type_)))return!0;E0(n),Nw(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_.set(t,!0),$7(n,t,e)),!0},deleteProperty(n,t){return E0(n),e2(n.base_,t)!==void 0||t in n.base_?(n.assigned_.set(t,!1),Nw(n)):n.assigned_.delete(t),n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=gu(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{[_0]:!0,[_w]:n.type_!==1||t!=="length",[W0]:r[W0],[Jp]:e[t]}},defineProperty(){Ho(11)},getPrototypeOf(n){return Ad(n.base_)},setPrototypeOf(){Ho(12)}},eg={};xg(cA,(n,t)=>{eg[n]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}});eg.deleteProperty=function(n,t){return eg.set.call(this,n,t,void 0)};eg.set=function(n,t,e){return cA.set.call(this,n[0],t,e,n[0])};function e2(n,t){const e=n[La];return(e?gu(e):n)[t]}function W7(n,t,e){const r=QN(t,e);return r?Jp in r?r[Jp]:r.get?.call(n.draft_):void 0}function QN(n,t){if(!(t in n))return;let e=Ad(n);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=Ad(e)}}function Nw(n){n.modified_||(n.modified_=!0,n.parent_&&Nw(n.parent_))}function E0(n){n.copy_||(n.assigned_=new Map,n.copy_=Cw(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var V7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,r,i)=>{if(Xf(e)&&!Xf(r)){const o=r;r=e;const l=this;return function(h=o,...f){return l.produce(h,p=>r.call(this,p,...f))}}Xf(r)||Ho(6),i!==void 0&&!Xf(i)&&Ho(7);let a;if(Ll(e)){const o=Y3(this),l=kw(o,e,void 0);let c=!0;try{a=r(l),c=!1}finally{c?Ow(o):Pw(o)}return V3(o,i),K3(a,o)}else if(!e||!sA(e)){if(a=r(e),a===void 0&&(a=e),a===GN&&(a=void 0),this.autoFreeze_&&lA(a,!0),i){const o=[],l=[];xd(Tw).generateReplacementPatches_(e,a,{patches_:o,inversePatches_:l}),i(o,l)}return a}else Ho(1,e)},this.produceWithPatches=(e,r)=>{if(Xf(e))return(l,...c)=>this.produceWithPatches(l,h=>e(h,...c));let i,a;return[this.produce(e,r,(l,c)=>{i=l,a=c}),i,a]},t2(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),t2(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),t2(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ll(t)||Ho(8),Cu(t)&&(t=Wo(t));const e=Y3(this),r=kw(e,t,void 0);return r[La].isManual_=!0,Pw(e),r}finishDraft(t,e){const r=t&&t[La];(!r||!r.isManual_)&&Ho(9);const{scope_:i}=r;return V3(i,e),K3(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const i=xd(Tw).applyPatches_;return Cu(t)?i(t,e):this.produce(t,a=>i(a,e))}};function kw(n,t,e,r){const[i,a]=Gv(t)?xd(Y0).proxyMap_(t,e):Wv(t)?xd(Y0).proxySet_(t,e):G7(t,e);return(e?.scope_??YN()).drafts_.push(i),a.callbacks_=e?.callbacks_??[],a.key_=r,e&&r!==void 0?H7(e,a,r):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=c;a.modified_&&h&&h.generatePatches_(a,[],c)}),i}function Wo(n){return Cu(n)||Ho(10,n),JN(n)}function JN(n){if(!Ll(n)||Vv(n))return n;const t=n[La];let e,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Cw(n,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else e=Cw(n,!0);return xg(e,(i,a)=>{V0(e,i,JN(a))},r),t&&(t.finalized_=!1),e}var Y7=new V7,tk=Y7.produce;function ek(n){return({dispatch:e,getState:r})=>i=>a=>typeof a=="function"?a(e,r,n):i(a)}var K7=ek(),X7=ek,Z7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$0:$0.apply(null,arguments)};function oo(n,t){function e(...r){if(t){let i=t(...r);if(!i)throw new Error(ks(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=r=>$N(r)&&r.type===n,e}var nk=class Up extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Up.prototype)}static get[Symbol.species](){return Up}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Up(...t[0].concat(this)):new Up(...t.concat(this))}};function Z3(n){return Ll(n)?tk(n,()=>{}):n}function Wm(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function Q7(n){return typeof n=="boolean"}var J7=()=>function(t){const{thunk:e=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new nk;return e&&(Q7(e)?o.push(K7):o.push(X7(e.extraArgument))),o},rk="RTK_autoBatch",mr=()=>n=>({payload:n,meta:{[rk]:!0}}),Q3=n=>t=>{setTimeout(t,n)},ik=(n={type:"raf"})=>t=>(...e)=>{const r=t(...e);let i=!0,a=!1,o=!1;const l=new Set,c=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Q3(10):n.type==="callback"?n.queueNotification:Q3(n.timeout),h=()=>{o=!1,a&&(a=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),v=r.subscribe(p);return l.add(f),()=>{v(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[rk],a=!i,a&&(o||(o=!0,c(h))),r.dispatch(f)}finally{i=!0}}})},tB=n=>function(e){const{autoBatch:r=!0}=e??{};let i=new nk(n);return r&&i.push(ik(typeof r=="object"?r:void 0)),i};function eB(n){const t=J7(),{reducer:e=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=n||{};let l;if(typeof e=="function")l=e;else if(aA(e))l=HN(e);else throw new Error(ks(1));let c;typeof r=="function"?c=r(t):c=t();let h=$0;i&&(h=Z7({trace:!1,...typeof i=="object"&&i}));const f=D7(...c),p=tB(f);let v=typeof o=="function"?o(p):p();const g=h(...v);return qN(l,a,g)}function ak(n){const t={},e=[];let r;const i={addCase(a,o){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(ks(28));if(l in t)throw new Error(ks(29));return t[l]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&e.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return e.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return n(i),[t,e,r]}function nB(n){return typeof n=="function"}function rB(n,t){let[e,r,i]=ak(t),a;if(nB(n))a=()=>Z3(n());else{const l=Z3(n);a=()=>l}function o(l=a(),c){let h=[e[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(Cu(f)){const g=p(f,c);return g===void 0?f:g}else{if(Ll(f))return tk(f,v=>p(v,c));{const v=p(f,c);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},l)}return o.getInitialState=a,o}var iB="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aB=(n=21)=>{let t="",e=n;for(;e--;)t+=iB[Math.random()*64|0];return t},sB=Symbol.for("rtk-slice-createasyncthunk");function oB(n,t){return`${n}/${t}`}function lB({creators:n}={}){const t=n?.asyncThunk?.[sB];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(ks(11));const o=(typeof r.reducers=="function"?r.reducers(cB()):r.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,N){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(ks(12));if(k in c.sliceCaseReducersByType)throw new Error(ks(13));return c.sliceCaseReducersByType[k]=N,h},addMatcher(C,N){return c.sliceMatchers.push({matcher:C,reducer:N}),h},exposeAction(C,N){return c.actionCreators[C]=N,h},exposeCaseReducer(C,N){return c.sliceCaseReducersByName[C]=N,h}};l.forEach(C=>{const N=o[C],k={reducerName:C,type:oB(i,C),createNotation:typeof r.reducers=="function"};fB(N)?pB(k,N,h,t):hB(k,N,h)});function f(){const[C={},N=[],k=void 0]=typeof r.extraReducers=="function"?ak(r.extraReducers):[r.extraReducers],R={...C,...c.sliceCaseReducersByType};return rB(r.initialState,B=>{for(let H in R)B.addCase(H,R[H]);for(let H of c.sliceMatchers)B.addMatcher(H.matcher,H.reducer);for(let H of N)B.addMatcher(H.matcher,H.reducer);k&&B.addDefaultCase(k)})}const p=C=>C,v=new Map,g=new WeakMap;let w;function y(C,N){return w||(w=f()),w(C,N)}function x(){return w||(w=f()),w.getInitialState()}function S(C,N=!1){function k(B){let H=B[C];return typeof H>"u"&&N&&(H=Wm(g,k,x)),H}function R(B=p){const H=Wm(v,N,()=>new WeakMap);return Wm(H,B,()=>{const q={};for(const[rt,D]of Object.entries(r.selectors??{}))q[rt]=uB(D,B,()=>Wm(g,B,x),N);return q})}return{reducerPath:C,getSelectors:R,get selectors(){return R(k)},selectSlice:k}}const O={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...S(a),injectInto(C,{reducerPath:N,...k}={}){const R=N??a;return C.inject({reducerPath:R,reducer:y},k),{...O,...S(R,!0)}}};return O}}function uB(n,t,e,r){function i(a,...o){let l=t(a);return typeof l>"u"&&r&&(l=e()),n(l,...o)}return i.unwrapped=n,i}var rs=lB();function cB(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function hB({type:n,reducerName:t,createNotation:e},r,i){let a,o;if("reducer"in r){if(e&&!dB(r))throw new Error(ks(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(n,a).exposeCaseReducer(t,a).exposeAction(t,o?oo(n,o):oo(n))}function fB(n){return n._reducerDefinitionType==="asyncThunk"}function dB(n){return n._reducerDefinitionType==="reducerWithPrepare"}function pB({type:n,reducerName:t},e,r,i){if(!i)throw new Error(ks(18));const{payloadCreator:a,fulfilled:o,pending:l,rejected:c,settled:h,options:f}=e,p=i(n,a,f);r.exposeAction(t,p),o&&r.addCase(p.fulfilled,o),l&&r.addCase(p.pending,l),c&&r.addCase(p.rejected,c),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(t,{fulfilled:o||Vm,pending:l||Vm,rejected:c||Vm,settled:h||Vm})}function Vm(){}var gB="task",sk="listener",ok="completed",hA="cancelled",mB=`task-${hA}`,vB=`task-${ok}`,Lw=`${sk}-${hA}`,yB=`${sk}-${ok}`,Kv=class{constructor(n){this.code=n,this.message=`${gB} ${hA} (reason: ${n})`}name="TaskAbortError";message},fA=(n,t)=>{if(typeof n!="function")throw new TypeError(ks(32))},K0=()=>{},lk=(n,t=K0)=>(n.catch(t),n),uk=(n,t)=>(n.addEventListener("abort",t,{once:!0}),()=>n.removeEventListener("abort",t)),Th=(n,t)=>{const e=n.signal;e.aborted||("reason"in e||Object.defineProperty(e,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),n.abort(t))},Oh=n=>{if(n.aborted){const{reason:t}=n;throw new Kv(t)}};function ck(n,t){let e=K0;return new Promise((r,i)=>{const a=()=>i(new Kv(n.reason));if(n.aborted){a();return}e=uk(n,a),t.finally(()=>e()).then(r,i)}).finally(()=>{e=K0})}var bB=async(n,t)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(e){return{status:e instanceof Kv?"cancelled":"rejected",error:e}}finally{t?.()}},X0=n=>t=>lk(ck(n,t).then(e=>(Oh(n),e))),hk=n=>{const t=X0(n);return e=>t(new Promise(r=>setTimeout(r,e)))},{assign:ld}=Object,J3={},Xv="listenerMiddleware",wB=(n,t)=>{const e=r=>uk(n,()=>Th(r,n.reason));return(r,i)=>{fA(r);const a=new AbortController;e(a);const o=bB(async()=>{Oh(n),Oh(a.signal);const l=await r({pause:X0(a.signal),delay:hk(a.signal),signal:a.signal});return Oh(a.signal),l},()=>Th(a,vB));return i?.autoJoin&&t.push(o.catch(K0)),{result:X0(n)(o),cancel(){Th(a,mB)}}}},AB=(n,t)=>{const e=async(r,i)=>{Oh(t);let a=()=>{};const l=[new Promise((c,h)=>{let f=n({predicate:r,effect:(p,v)=>{v.unsubscribe(),c([p,v.getState(),v.getOriginalState()])}});a=()=>{f(),h()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await ck(t,Promise.race(l));return Oh(t),c}finally{a()}};return(r,i)=>lk(e(r,i))},fk=n=>{let{type:t,actionCreator:e,matcher:r,predicate:i,effect:a}=n;if(t)i=oo(t).match;else if(e)t=e.type,i=e.match;else if(r)i=r;else if(!i)throw new Error(ks(21));return fA(a),{predicate:i,type:t,effect:a}},dk=ld(n=>{const{type:t,predicate:e,effect:r}=fk(n);return{id:aB(),effect:r,type:t,predicate:e,pending:new Set,unsubscribe:()=>{throw new Error(ks(22))}}},{withTypes:()=>dk}),tC=(n,t)=>{const{type:e,effect:r,predicate:i}=fk(t);return Array.from(n.values()).find(a=>(typeof e=="string"?a.type===e:a.predicate===i)&&a.effect===r)},Mw=n=>{n.pending.forEach(t=>{Th(t,Lw)})},xB=(n,t)=>()=>{for(const e of t.keys())Mw(e);n.clear()},eC=(n,t,e)=>{try{n(t,e)}catch(r){setTimeout(()=>{throw r},0)}},pk=ld(oo(`${Xv}/add`),{withTypes:()=>pk}),SB=oo(`${Xv}/removeAll`),gk=ld(oo(`${Xv}/remove`),{withTypes:()=>gk}),_B=(...n)=>{console.error(`${Xv}/error`,...n)},_g=(n={})=>{const t=new Map,e=new Map,r=g=>{const w=e.get(g)??0;e.set(g,w+1)},i=g=>{const w=e.get(g)??1;w===1?e.delete(g):e.set(g,w-1)},{extra:a,onError:o=_B}=n;fA(o);const l=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),w=>{g.unsubscribe(),w?.cancelActive&&Mw(g)}),c=g=>{const w=tC(t,g)??dk(g);return l(w)};ld(c,{withTypes:()=>c});const h=g=>{const w=tC(t,g);return w&&(w.unsubscribe(),g.cancelActive&&Mw(w)),!!w};ld(h,{withTypes:()=>h});const f=async(g,w,y,x)=>{const S=new AbortController,O=AB(c,S.signal),C=[];try{g.pending.add(S),r(g),await Promise.resolve(g.effect(w,ld({},y,{getOriginalState:x,condition:(N,k)=>O(N,k).then(Boolean),take:O,delay:hk(S.signal),pause:X0(S.signal),extra:a,signal:S.signal,fork:wB(S.signal,C),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((N,k,R)=>{N!==S&&(Th(N,Lw),R.delete(N))})},cancel:()=>{Th(S,Lw),g.pending.delete(S)},throwIfCancelled:()=>{Oh(S.signal)}})))}catch(N){N instanceof Kv||eC(o,N,{raisedBy:"effect"})}finally{await Promise.all(C),Th(S,yB),i(g),g.pending.delete(S)}},p=xB(t,e);return{middleware:g=>w=>y=>{if(!$N(y))return w(y);if(pk.match(y))return c(y.payload);if(SB.match(y)){p();return}if(gk.match(y))return h(y.payload);let x=g.getState();const S=()=>{if(x===J3)throw new Error(ks(23));return x};let O;try{if(O=w(y),t.size>0){const C=g.getState(),N=Array.from(t.values());for(const k of N){let R=!1;try{R=k.predicate(y,C,x)}catch(B){R=!1,eC(o,B,{raisedBy:"predicate"})}R&&f(k,y,g,S)}}}finally{x=J3}return O},startListening:c,stopListening:h,clearListeners:p}};function ks(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var EB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},mk=rs({name:"chartLayout",initialState:EB,reducers:{setLayout(n,t){n.layoutType=t.payload},setChartSize(n,t){n.width=t.payload.width,n.height=t.payload.height},setMargin(n,t){var e,r,i,a;n.margin.top=(e=t.payload.top)!==null&&e!==void 0?e:0,n.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(n,t){n.scale=t.payload}}}),{setMargin:CB,setLayout:TB,setChartSize:OB,setScale:PB}=mk.actions,NB=mk.reducer;function vk(n,t,e){return Array.isArray(n)&&n&&t+e!==0?n.slice(t,e+1):n}function nC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function nd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(e),!0).forEach(function(r){kB(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function kB(n,t,e){return(t=LB(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function LB(n){var t=MB(n,"string");return typeof t=="symbol"?t:t+""}function MB(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function vr(n,t,e){return Fi(n)||Fi(t)?e:kl(t)?Lh(n,t,e):typeof t=="function"?t(n):e}var DB=(n,t,e)=>{if(t&&e){var{width:r,height:i}=e,{align:a,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&a!=="center"&&he(n[a]))return nd(nd({},n),{},{[a]:n[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&o!=="middle"&&he(n[o]))return nd(nd({},n),{},{[o]:n[o]+(i||0)})}return n},Hh=(n,t)=>n==="horizontal"&&t==="xAxis"||n==="vertical"&&t==="yAxis"||n==="centric"&&t==="angleAxis"||n==="radial"&&t==="radiusAxis",yk=(n,t,e,r)=>{if(r)return n.map(l=>l.coordinate);var i,a,o=n.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===e&&(a=!0),l.coordinate));return i||o.push(t),a||o.push(e),o},bk=(n,t,e)=>{if(!n)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:v,axisType:g}=n;if(!o)return null;var w=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(y=g==="angleAxis"&&a&&a.length>=2?Bi(a[0]-a[1])*2*y:y,p||v){var x=(p||v||[]).map((S,O)=>{var C=r?r.indexOf(S):S;return{coordinate:o(C)+y,value:S,offset:y,index:O}});return x.filter(S=>!Yo(S.coordinate))}return c&&h?h.map((S,O)=>({coordinate:o(S)+y,value:S,index:O,offset:y})):o.ticks&&f!=null?o.ticks(f).map((S,O)=>({coordinate:o(S)+y,value:S,offset:y,index:O})):o.domain().map((S,O)=>({coordinate:o(S)+y,value:r?r[S]:S,index:O,offset:y}))},rC=1e-4,RB=n=>{var t=n.domain();if(!(!t||t.length<=2)){var e=t.length,r=n.range(),i=Math.min(r[0],r[1])-rC,a=Math.max(r[0],r[1])+rC,o=n(t[0]),l=n(t[e-1]);(o<i||o>a||l<i||l>a)&&n.domain([t[0],t[e-1]])}},IB=(n,t)=>{if(!t||t.length!==2||!he(t[0])||!he(t[1]))return n;var e=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[n[0],n[1]];return(!he(n[0])||n[0]<e)&&(i[0]=e),(!he(n[1])||n[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<e&&(i[1]=e),i},jB=n=>{var t=n.length;if(!(t<=0))for(var e=0,r=n[0].length;e<r;++e)for(var i=0,a=0,o=0;o<t;++o){var l=Yo(n[o][e][1])?n[o][e][0]:n[o][e][1];l>=0?(n[o][e][0]=i,n[o][e][1]=i+l,i=n[o][e][1]):(n[o][e][0]=a,n[o][e][1]=a+l,a=n[o][e][1])}},BB=n=>{var t=n.length;if(!(t<=0))for(var e=0,r=n[0].length;e<r;++e)for(var i=0,a=0;a<t;++a){var o=Yo(n[a][e][1])?n[a][e][0]:n[a][e][1];o>=0?(n[a][e][0]=i,n[a][e][1]=i+o,i=n[a][e][1]):(n[a][e][0]=0,n[a][e][1]=0)}},FB={sign:jB,expand:rj,none:wd,silhouette:ij,wiggle:aj,positive:BB},zB=(n,t,e)=>{var r=FB[e],i=nj().keys(t).value((a,o)=>Number(vr(a,o,0))).order(xw).offset(r);return i(n)};function UB(n){return n==null?void 0:String(n)}var iC=n=>{var{axis:t,ticks:e,offset:r,bandSize:i,entry:a,index:o}=n;if(t.type==="category")return e[o]?e[o].coordinate+r:null;var l=vr(a,t.dataKey,t.scale.domain()[o]);return Fi(l)?null:t.scale(l)-i/2+r},qB=n=>{var{numericAxis:t}=n,e=t.scale.domain();if(t.type==="number"){var r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return r<=0&&i>=0?0:i<0?i:r}return e[0]},HB=n=>{var t=n.flat(2).filter(he);return[Math.min(...t),Math.max(...t)]},$B=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],GB=(n,t,e)=>{if(n!=null)return $B(Object.keys(n).reduce((r,i)=>{var a=n[i],{stackedData:o}=a,l=o.reduce((c,h)=>{var f=vk(h,t,e),p=HB(f);return[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},aC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z0=(n,t,e)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!e||r>0)return r}if(n&&t&&t.length>=2){for(var i=qv(t,f=>f.coordinate),a=1/0,o=1,l=i.length;o<l;o++){var c=i[o],h=i[o-1];a=Math.min((c.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return e?void 0:0};function oC(n){var{tooltipEntrySettings:t,dataKey:e,payload:r,value:i,name:a}=n;return nd(nd({},t),{},{dataKey:e,payload:r,value:i,name:a})}function Zv(n,t){if(n)return String(n);if(typeof t=="string")return t}var WB=(n,t)=>{if(t==="horizontal")return n.chartX;if(t==="vertical")return n.chartY},VB=(n,t)=>t==="centric"?n.angle:n.radius,Du=n=>n.layout.width,Ru=n=>n.layout.height,YB=n=>n.layout.scale,wk=n=>n.layout.margin,Qv=Pt(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),Jv=Pt(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),Ak="data-recharts-item-index",xk="data-recharts-item-data-key",Eg=60;function lC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Ym(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(e),!0).forEach(function(r){KB(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):lC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function KB(n,t,e){return(t=XB(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function XB(n){var t=ZB(n,"string");return typeof t=="symbol"?t:t+""}function ZB(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var QB=n=>n.brush.height;function JB(n){var t=Jv(n);return t.reduce((e,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eg;return e+i}return e},0)}function tF(n){var t=Jv(n);return t.reduce((e,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eg;return e+i}return e},0)}function eF(n){var t=Qv(n);return t.reduce((e,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?e+r.height:e,0)}function nF(n){var t=Qv(n);return t.reduce((e,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?e+r.height:e,0)}var wi=Pt([Du,Ru,wk,QB,JB,tF,eF,nF,zN,T7],(n,t,e,r,i,a,o,l,c,h)=>{var f={left:(e.left||0)+i,right:(e.right||0)+a},p={top:(e.top||0)+o,bottom:(e.bottom||0)+l},v=Ym(Ym({},p),f),g=v.bottom;v.bottom+=r,v=DB(v,c,h);var w=n-v.left-v.right,y=t-v.top-v.bottom;return Ym(Ym({brushBottom:g},v),{},{width:Math.max(w,0),height:Math.max(y,0)})}),rF=Pt(wi,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),dA=Pt(Du,Ru,(n,t)=>({x:0,y:0,width:n,height:t})),iF=j.createContext(null),is=()=>j.useContext(iF)!=null,t1=n=>n.brush,e1=Pt([t1,wi,wk],(n,t,e)=>({height:n.height,x:he(n.x)?n.x:t.left,y:he(n.y)?n.y:t.top+t.height+t.brushBottom-(e?.bottom||0),width:he(n.width)?n.width:t.width})),n2={},r2={},i2={},uC;function aF(){return uC||(uC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e,r,{signal:i,edges:a}={}){let o,l=null;const c=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),f=()=>{l!==null&&(e.apply(o,l),o=void 0,l=null)},p=()=>{h&&f(),y()};let v=null;const g=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,p()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},y=()=>{w(),o=void 0,l=null},x=()=>{f()},S=function(...O){if(i?.aborted)return;o=this,l=O;const C=v==null;g(),c&&C&&f()};return S.schedule=g,S.cancel=y,S.flush=x,i?.addEventListener("abort",y,{once:!0}),S}n.debounce=t})(i2)),i2}var cC;function sF(){return cC||(cC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=aF();function e(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:l=!0,maxWait:c}=a,h=Array(2);o&&(h[0]="leading"),l&&(h[1]="trailing");let f,p=null;const v=t.debounce(function(...y){f=r.apply(this,y),p=null},i,{edges:h}),g=function(...y){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=r.apply(this,y),p=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,y),f)},w=()=>(v.flush(),f);return g.cancel=v.cancel,g.flush=w,g}n.debounce=e})(r2)),r2}var hC;function oF(){return hC||(hC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=sF();function e(r,i=0,a={}){const{leading:o=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:l})}n.throttle=e})(n2)),n2}var a2,fC;function lF(){return fC||(fC=1,a2=oF().throttle),a2}var uF=lF();const cF=Mu(uF);var Q0=function(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(e===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(e===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(e.replace(/%s/g,()=>i[o++]))}},Sk=(n,t,e)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:o}=e,l=Eu(r)?n:Number(r),c=Eu(i)?t:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},hF={width:0,height:0,overflow:"visible"},fF={width:0,overflowX:"visible"},dF={height:0,overflowY:"visible"},pF={},gF=n=>{var{width:t,height:e}=n,r=Eu(t),i=Eu(e);return r&&i?hF:r?fF:i?dF:pF};function mF(n){var{width:t,height:e,aspect:r}=n,i=t,a=e;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Zr(n){return Number.isFinite(n)}function Ml(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Dw.apply(null,arguments)}function dC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function pC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(e),!0).forEach(function(r){vF(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function vF(n,t,e){return(t=yF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function yF(n){var t=bF(n,"string");return typeof t=="symbol"?t:t+""}function bF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var _k=j.createContext({width:-1,height:-1});function wF(n){return Ml(n.width)&&Ml(n.height)}function Ek(n){var{children:t,width:e,height:r}=n,i=j.useMemo(()=>({width:e,height:r}),[e,r]);return wF(i)?j.createElement(_k.Provider,{value:i},t):null}var pA=()=>j.useContext(_k),AF=j.forwardRef((n,t)=>{var{aspect:e,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:l,maxHeight:c,children:h,debounce:f=0,id:p,className:v,onResize:g,style:w={}}=n,y=j.useRef(null),x=j.useRef();x.current=g,j.useImperativeHandle(t,()=>y.current);var[S,O]=j.useState({containerWidth:r.width,containerHeight:r.height}),C=j.useCallback((H,q)=>{O(rt=>{var D=Math.round(H),z=Math.round(q);return rt.containerWidth===D&&rt.containerHeight===z?rt:{containerWidth:D,containerHeight:z}})},[]);j.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return wg;var H=z=>{var et,{width:tt,height:dt}=z[0].contentRect;C(tt,dt),(et=x.current)===null||et===void 0||et.call(x,tt,dt)};f>0&&(H=cF(H,f,{trailing:!0,leading:!1}));var q=new ResizeObserver(H),{width:rt,height:D}=y.current.getBoundingClientRect();return C(rt,D),q.observe(y.current),()=>{q.disconnect()}},[C,f]);var{containerWidth:N,containerHeight:k}=S;Q0(!e||e>0,"The aspect(%s) must be greater than zero.",e);var{calculatedWidth:R,calculatedHeight:B}=Sk(N,k,{width:i,height:a,aspect:e,maxHeight:c});return Q0(R!=null&&R>0||B!=null&&B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,B,i,a,o,l,e),j.createElement("div",{id:p?"".concat(p):void 0,className:In("recharts-responsive-container",v),style:pC(pC({},w),{},{width:i,height:a,minWidth:o,minHeight:l,maxHeight:c}),ref:y},j.createElement("div",{style:gF({width:i,height:a})},j.createElement(Ek,{width:R,height:B},h)))}),gC=j.forwardRef((n,t)=>{var e=pA();if(Ml(e.width)&&Ml(e.height))return n.children;var{width:r,height:i}=mF({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:a,calculatedHeight:o}=Sk(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return he(a)&&he(o)?j.createElement(Ek,{width:a,height:o},n.children):j.createElement(AF,Dw({},n,{width:r,height:i,ref:t}))});function Ck(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var n1=()=>{var n,t=is(),e=ce(rF),r=ce(e1),i=(n=ce(t1))===null||n===void 0?void 0:n.padding;return!t||!r||!i?e:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},xF={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Tk=()=>{var n;return(n=ce(wi))!==null&&n!==void 0?n:xF},gA=()=>ce(Du),mA=()=>ce(Ru),SF=()=>ce(n=>n.layout.margin),Sn=n=>n.layout.layoutType,r1=()=>ce(Sn),_F=()=>{var n=r1();return n!==void 0},i1=n=>{var t=tr(),e=is(),{width:r,height:i}=n,a=pA(),o=r,l=i;return a&&(o=a.width>0?a.width:r,l=a.height>0?a.height:i),j.useEffect(()=>{!e&&Ml(o)&&Ml(l)&&t(OB({width:o,height:l}))},[t,e,o,l]),null},Ok=Symbol.for("immer-nothing"),mC=Symbol.for("immer-draftable"),Ls=Symbol.for("immer-state");function $o(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ng=Object.getPrototypeOf;function Sd(n){return!!n&&!!n[Ls]}function Mh(n){return n?Pk(n)||Array.isArray(n)||!!n[mC]||!!n.constructor?.[mC]||Cg(n)||s1(n):!1}var EF=Object.prototype.constructor.toString(),vC=new WeakMap;function Pk(n){if(!n||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);if(t===null||t===Object.prototype)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(e===Object)return!0;if(typeof e!="function")return!1;let r=vC.get(e);return r===void 0&&(r=Function.toString.call(e),vC.set(e,r)),r===EF}function J0(n,t,e=!0){a1(n)===0?(e?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{t(i,n[i],n)}):n.forEach((r,i)=>t(i,r,n))}function a1(n){const t=n[Ls];return t?t.type_:Array.isArray(n)?1:Cg(n)?2:s1(n)?3:0}function Rw(n,t){return a1(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function Nk(n,t,e){const r=a1(n);r===2?n.set(t,e):r===3?n.add(e):n[t]=e}function CF(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function Cg(n){return n instanceof Map}function s1(n){return n instanceof Set}function mh(n){return n.copy_||n.base_}function Iw(n,t){if(Cg(n))return new Map(n);if(s1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=Pk(n);if(t===!0||t==="class_only"&&!e){const r=Object.getOwnPropertyDescriptors(n);delete r[Ls];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:n[o]})}return Object.create(ng(n),r)}else{const r=ng(n);if(r!==null&&e)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function vA(n,t=!1){return o1(n)||Sd(n)||!Mh(n)||(a1(n)>1&&Object.defineProperties(n,{set:Km,add:Km,clear:Km,delete:Km}),Object.freeze(n),t&&Object.values(n).forEach(e=>vA(e,!0))),n}function TF(){$o(2)}var Km={value:TF};function o1(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var OF={};function Dh(n){const t=OF[n];return t||$o(0,n),t}var rg;function kk(){return rg}function PF(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yC(n,t){t&&(Dh("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function jw(n){Bw(n),n.drafts_.forEach(NF),n.drafts_=null}function Bw(n){n===rg&&(rg=n.parent_)}function bC(n){return rg=PF(rg,n)}function NF(n){const t=n[Ls];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wC(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[Ls].modified_&&(jw(t),$o(4)),Mh(n)&&(n=tv(t,n),t.parent_||ev(t,n)),t.patches_&&Dh("Patches").generateReplacementPatches_(e[Ls].base_,n,t.patches_,t.inversePatches_)):n=tv(t,e,[]),jw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==Ok?n:void 0}function tv(n,t,e){if(o1(t))return t;const r=n.immer_.shouldUseStrictIteration(),i=t[Ls];if(!i)return J0(t,(a,o)=>AC(n,i,t,a,o,e),r),t;if(i.scope_!==n)return t;if(!i.modified_)return ev(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,l=!1;i.type_===3&&(o=new Set(a),a.clear(),l=!0),J0(o,(c,h)=>AC(n,i,a,c,h,e,l),r),ev(n,a,!1),e&&n.patches_&&Dh("Patches").generatePatches_(i,e,n.patches_,n.inversePatches_)}return i.copy_}function AC(n,t,e,r,i,a,o){if(i==null||typeof i!="object"&&!o)return;const l=o1(i);if(!(l&&!o)){if(Sd(i)){const c=a&&t&&t.type_!==3&&!Rw(t.assigned_,r)?a.concat(r):void 0,h=tv(n,i,c);if(Nk(e,r,h),Sd(h))n.canAutoFreeze_=!1;else return}else o&&e.add(i);if(Mh(i)&&!l){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;tv(n,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Cg(e)?e.has(r):Object.prototype.propertyIsEnumerable.call(e,r))&&ev(n,i)}}}function ev(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&vA(t,e)}function kF(n,t){const e=Array.isArray(n),r={type_:e?1:0,scope_:t?t.scope_:kk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=yA;e&&(i=[r],a=ig);const{revoke:o,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=o,l}var yA={get(n,t){if(t===Ls)return n;const e=mh(n);if(!Rw(e,t))return LF(n,e,t);const r=e[t];return n.finalized_||!Mh(r)?r:r===s2(n.base_,t)?(o2(n),n.copy_[t]=zw(r,n)):r},has(n,t){return t in mh(n)},ownKeys(n){return Reflect.ownKeys(mh(n))},set(n,t,e){const r=Lk(mh(n),t);if(r?.set)return r.set.call(n.draft_,e),!0;if(!n.modified_){const i=s2(mh(n),t),a=i?.[Ls];if(a&&a.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(CF(e,i)&&(e!==void 0||Rw(n.base_,t)))return!0;o2(n),Fw(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return s2(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,o2(n),Fw(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=mh(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty(){$o(11)},getPrototypeOf(n){return ng(n.base_)},setPrototypeOf(){$o(12)}},ig={};J0(yA,(n,t)=>{ig[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ig.deleteProperty=function(n,t){return ig.set.call(this,n,t,void 0)};ig.set=function(n,t,e){return yA.set.call(this,n[0],t,e,n[0])};function s2(n,t){const e=n[Ls];return(e?mh(e):n)[t]}function LF(n,t,e){const r=Lk(t,e);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function Lk(n,t){if(!(t in n))return;let e=ng(n);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=ng(e)}}function Fw(n){n.modified_||(n.modified_=!0,n.parent_&&Fw(n.parent_))}function o2(n){n.copy_||(n.copy_=Iw(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var MF=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,e,r)=>{if(typeof t=="function"&&typeof e!="function"){const a=e;e=t;const o=this;return function(c=a,...h){return o.produce(c,f=>e.call(this,f,...h))}}typeof e!="function"&&$o(6),r!==void 0&&typeof r!="function"&&$o(7);let i;if(Mh(t)){const a=bC(this),o=zw(t,void 0);let l=!0;try{i=e(o),l=!1}finally{l?jw(a):Bw(a)}return yC(a,r),wC(i,a)}else if(!t||typeof t!="object"){if(i=e(t),i===void 0&&(i=t),i===Ok&&(i=void 0),this.autoFreeze_&&vA(i,!0),r){const a=[],o=[];Dh("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else $o(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let r,i;return[this.produce(t,e,(o,l)=>{r=o,i=l}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Mh(n)||$o(8),Sd(n)&&(n=DF(n));const t=bC(this),e=zw(n,void 0);return e[Ls].isManual_=!0,Bw(t),e}finishDraft(n,t){const e=n&&n[Ls];(!e||!e.isManual_)&&$o(9);const{scope_:r}=e;return yC(r,t),wC(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const i=t[e];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}e>-1&&(t=t.slice(e+1));const r=Dh("Patches").applyPatches_;return Sd(n)?r(n,t):this.produce(n,i=>r(i,t))}};function zw(n,t){const e=Cg(n)?Dh("MapSet").proxyMap_(n,t):s1(n)?Dh("MapSet").proxySet_(n,t):kF(n,t);return(t?t.scope_:kk()).drafts_.push(e),e}function DF(n){return Sd(n)||$o(10,n),Mk(n)}function Mk(n){if(!Mh(n)||o1(n))return n;const t=n[Ls];let e,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Iw(n,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else e=Iw(n,!0);return J0(e,(i,a)=>{Nk(e,i,Mk(a))},r),t&&(t.finalized_=!1),e}var RF=new MF;RF.produce;var IF={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Dk=rs({name:"legend",initialState:IF,reducers:{setLegendSize(n,t){n.size.width=t.payload.width,n.size.height=t.payload.height},setLegendSettings(n,t){n.settings.align=t.payload.align,n.settings.layout=t.payload.layout,n.settings.verticalAlign=t.payload.verticalAlign,n.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(n,t){n.payload.push(t.payload)},prepare:mr()},replaceLegendPayload:{reducer(n,t){var{prev:e,next:r}=t.payload,i=Wo(n).payload.indexOf(e);i>-1&&(n.payload[i]=r)},prepare:mr()},removeLegendPayload:{reducer(n,t){var e=Wo(n).payload.indexOf(t.payload);e>-1&&n.payload.splice(e,1)},prepare:mr()}}}),{setLegendSize:xC,setLegendSettings:jF,addLegendPayload:Rk,replaceLegendPayload:Ik,removeLegendPayload:jk}=Dk.actions,BF=Dk.reducer,FF=["contextPayload"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Uw.apply(null,arguments)}function SC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function _d(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(e),!0).forEach(function(r){zF(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):SC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function zF(n,t,e){return(t=UF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function UF(n){var t=qF(n,"string");return typeof t=="symbol"?t:t+""}function qF(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function HF(n,t){if(n==null)return{};var e,r,i=$F(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function $F(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function GF(n){return n.value}function WF(n){var{contextPayload:t}=n,e=HF(n,FF),r=IN(t,n.payloadUniqBy,GF),i=_d(_d({},e),{},{payload:r});return j.isValidElement(n.content)?j.cloneElement(n.content,i):typeof n.content=="function"?j.createElement(n.content,i):j.createElement(Ij,i)}function VF(n,t,e,r,i,a){var{layout:o,align:l,verticalAlign:c}=t,h,f;return(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))&&(l==="center"&&o==="vertical"?h={left:((r||0)-a.width)/2}:h=l==="right"?{right:e&&e.right||0}:{left:e&&e.left||0}),(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))&&(c==="middle"?f={top:((i||0)-a.height)/2}:f=c==="bottom"?{bottom:e&&e.bottom||0}:{top:e&&e.top||0}),_d(_d({},h),f)}function YF(n){var t=tr();return j.useEffect(()=>{t(jF(n))},[t,n]),null}function KF(n){var t=tr();return j.useEffect(()=>(t(xC(n)),()=>{t(xC({width:0,height:0}))}),[t,n]),null}function XF(n,t,e,r){return n==="vertical"&&he(t)?{height:t}:n==="horizontal"?{width:e||r}:null}var ZF={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function qw(n){var t=zi(n,ZF),e=N7(),r=CI(),i=SF(),{width:a,height:o,wrapperStyle:l,portal:c}=t,[h,f]=UN([e]),p=gA(),v=mA();if(p==null||v==null)return null;var g=p-(i?.left||0)-(i?.right||0),w=XF(t.layout,o,a,g),y=c?l:_d(_d({position:"absolute",width:w?.width||a||"auto",height:w?.height||o||"auto"},VF(l,t,i,p,v,h)),l),x=c??r;if(x==null||e==null)return null;var S=j.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:f},j.createElement(YF,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&j.createElement(KF,{width:h.width,height:h.height}),j.createElement(WF,Uw({},t,w,{margin:i,chartWidth:p,chartHeight:v,contextPayload:e})));return K5.createPortal(S,x)}qw.displayName="Legend";function Hw(){return Hw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Hw.apply(null,arguments)}function _C(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function l2(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(e),!0).forEach(function(r){QF(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):_C(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function QF(n,t,e){return(t=JF(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function JF(n){var t=tz(n,"string");return typeof t=="symbol"?t:t+""}function tz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ez(n){return Array.isArray(n)&&kl(n[0])&&kl(n[1])?n.join(" ~ "):n}var nz=n=>{var{separator:t=" : ",contentStyle:e={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:v=!1}=n,g=()=>{if(a&&a.length){var k={padding:0,margin:0},R=(l?qv(a,l):a).map((B,H)=>{if(B.type==="none")return null;var q=B.formatter||o||ez,{value:rt,name:D}=B,z=rt,et=D;if(q){var tt=q(rt,D,B,H,a);if(Array.isArray(tt))[z,et]=tt;else if(tt!=null)z=tt;else return null}var dt=l2({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:dt},kl(et)?j.createElement("span",{className:"recharts-tooltip-item-name"},et):null,kl(et)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},z),j.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},w=l2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},e),y=l2({margin:0},i),x=!Fi(f),S=x?f:"",O=In("recharts-default-tooltip",c),C=In("recharts-tooltip-label",h);x&&p&&a!==void 0&&a!==null&&(S=p(f,a));var N=v?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",Hw({className:O,style:w},N),j.createElement("p",{className:C,style:y},j.isValidElement(S)?S:"".concat(S)),g())},Cp="recharts-tooltip-wrapper",rz={visibility:"hidden"};function iz(n){var{coordinate:t,translateX:e,translateY:r}=n;return In(Cp,{["".concat(Cp,"-right")]:he(e)&&t&&he(t.x)&&e>=t.x,["".concat(Cp,"-left")]:he(e)&&t&&he(t.x)&&e<t.x,["".concat(Cp,"-bottom")]:he(r)&&t&&he(t.y)&&r>=t.y,["".concat(Cp,"-top")]:he(r)&&t&&he(t.y)&&r<t.y})}function EC(n){var{allowEscapeViewBox:t,coordinate:e,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:h}=n;if(a&&he(a[r]))return a[r];var f=e[r]-l-(i>0?i:0),p=e[r]+i;if(t[r])return o[r]?f:p;var v=c[r];if(v==null)return 0;if(o[r]){var g=f,w=v;return g<w?Math.max(p,v):Math.max(f,v)}if(h==null)return 0;var y=p+l,x=v+h;return y>x?Math.max(f,v):Math.max(p,v)}function az(n){var{translateX:t,translateY:e,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(t,"px, ").concat(e,"px, 0)"):"translate(".concat(t,"px, ").concat(e,"px)")}}function sz(n){var{allowEscapeViewBox:t,coordinate:e,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=n,h,f,p;return o.height>0&&o.width>0&&e?(f=EC({allowEscapeViewBox:t,coordinate:e,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=EC({allowEscapeViewBox:t,coordinate:e,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),h=az({translateX:f,translateY:p,useTranslate3d:l})):h=rz,{cssProperties:h,cssClasses:iz({translateX:f,translateY:p,coordinate:e})}}function CC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Xm(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(e),!0).forEach(function(r){$w(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):CC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function $w(n,t,e){return(t=oz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oz(n){var t=lz(n,"string");return typeof t=="symbol"?t:t+""}function lz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class uz extends j.PureComponent{constructor(){super(...arguments),$w(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$w(this,"handleKeyDown",t=>{if(t.key==="Escape"){var e,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(e=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&e!==void 0?e:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,e;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((e=this.props.coordinate)===null||e===void 0?void 0:e.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:e,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:l,isAnimationActive:c,offset:h,position:f,reverseDirection:p,useTranslate3d:v,viewBox:g,wrapperStyle:w,lastBoundingBox:y,innerRef:x,hasPortalFromProps:S}=this.props,{cssClasses:O,cssProperties:C}=sz({allowEscapeViewBox:e,coordinate:o,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:y.height,width:y.width},useTranslate3d:v,viewBox:g}),N=S?{}:Xm(Xm({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),k=Xm(Xm({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},w);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:x},a)}}var cz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),$h={devToolsEnabled:!1,isSsr:cz()},Bk=()=>{var n;return(n=ce(t=>t.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function Gw(){return Gw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Gw.apply(null,arguments)}function TC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function OC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(e),!0).forEach(function(r){hz(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):TC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function hz(n,t,e){return(t=fz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fz(n){var t=dz(n,"string");return typeof t=="symbol"?t:t+""}function dz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var PC={curveBasisClosed:GI,curveBasisOpen:WI,curveBasis:$I,curveBumpX:NI,curveBumpY:kI,curveLinearClosed:VI,curveLinear:zv,curveMonotoneX:YI,curveMonotoneY:KI,curveNatural:XI,curveStep:ZI,curveStepAfter:JI,curveStepBefore:QI},nv=n=>Zr(n.x)&&Zr(n.y),NC=n=>n.base!=null&&nv(n.base)&&nv(n),Tp=n=>n.x,Op=n=>n.y,pz=(n,t)=>{if(typeof n=="function")return n;var e="curve".concat(bg(n));return(e==="curveMonotone"||e==="curveBump")&&t?PC["".concat(e).concat(t==="vertical"?"Y":"X")]:PC[e]||zv},gz=n=>{var{type:t="linear",points:e=[],baseLine:r,layout:i,connectNulls:a=!1}=n,o=pz(t,i),l=a?e.filter(nv):e,c;if(Array.isArray(r)){var h=e.map((g,w)=>OC(OC({},g),{},{base:r[w]}));i==="vertical"?c=qm().y(Op).x1(Tp).x0(g=>g.base.x):c=qm().x(Tp).y1(Op).y0(g=>g.base.y);var f=c.defined(NC).curve(o),p=a?h.filter(NC):h;return f(p)}i==="vertical"&&he(r)?c=qm().y(Op).x1(Tp).x0(r):he(r)?c=qm().x(Tp).y1(Op).y0(r):c=fN().x(Tp).y(Op);var v=c.defined(nv).curve(o);return v(l)},bA=n=>{var{className:t,points:e,path:r,pathRef:i}=n;if((!e||!e.length)&&!r)return null;var a=e&&e.length?gz(n):r;return j.createElement("path",Gw({},Vo(n),Sj(n),{className:In("recharts-curve",t),d:a===null?void 0:a,ref:i}))},mz=["x","y","top","left","width","height","className"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ww.apply(null,arguments)}function kC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function vz(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(e),!0).forEach(function(r){yz(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):kC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function yz(n,t,e){return(t=bz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function bz(n){var t=wz(n,"string");return typeof t=="symbol"?t:t+""}function wz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Az(n,t){if(n==null)return{};var e,r,i=xz(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function xz(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var Sz=(n,t,e,r,i,a)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(e),_z=n=>{var{x:t=0,y:e=0,top:r=0,left:i=0,width:a=0,height:o=0,className:l}=n,c=Az(n,mz),h=vz({x:t,y:e,top:r,left:i,width:a,height:o},c);return!he(t)||!he(e)||!he(a)||!he(o)||!he(r)||!he(i)?null:j.createElement("path",Ww({},so(h),{className:In("recharts-cross",l),d:Sz(t,e,a,o,r,i)}))};function Ez(n,t,e,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?t.x-i:e.left+.5,y:n==="horizontal"?e.top+.5:t.y-i,width:n==="horizontal"?r:e.width-1,height:n==="horizontal"?e.height-1:r}}function LC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function MC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(e),!0).forEach(function(r){Cz(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):LC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Cz(n,t,e){return(t=Tz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Tz(n){var t=Oz(n,"string");return typeof t=="symbol"?t:t+""}function Oz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Pz=n=>n.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Fk=(n,t,e)=>n.map(r=>"".concat(Pz(r)," ").concat(t,"ms ").concat(e)).join(","),Nz=(n,t)=>[Object.keys(n),Object.keys(t)].reduce((e,r)=>e.filter(i=>r.includes(i))),ag=(n,t)=>Object.keys(t).reduce((e,r)=>MC(MC({},e),{},{[r]:n(r,t[r])}),{});function DC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function bi(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(e),!0).forEach(function(r){kz(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):DC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function kz(n,t,e){return(t=Lz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Lz(n){var t=Mz(n,"string");return typeof t=="symbol"?t:t+""}function Mz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var rv=(n,t,e)=>n+(t-n)*e,Vw=n=>{var{from:t,to:e}=n;return t!==e},zk=(n,t,e)=>{var r=ag((i,a)=>{if(Vw(a)){var[o,l]=n(a.from,a.to,a.velocity);return bi(bi({},a),{},{from:o,velocity:l})}return a},t);return e<1?ag((i,a)=>Vw(a)?bi(bi({},a),{},{velocity:rv(a.velocity,r[i].velocity,e),from:rv(a.from,r[i].from,e)}):a,t):zk(n,r,e-1)};function Dz(n,t,e,r,i,a){var o,l=r.reduce((v,g)=>bi(bi({},v),{},{[g]:{from:n[g],velocity:0,to:t[g]}}),{}),c=()=>ag((v,g)=>g.from,l),h=()=>!Object.values(l).filter(Vw).length,f=null,p=v=>{o||(o=v);var g=v-o,w=g/e.dt;l=zk(e,l,w),i(bi(bi(bi({},n),t),c())),o=v,h()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{var v;(v=f)===null||v===void 0||v()})}function Rz(n,t,e,r,i,a,o){var l=null,c=i.reduce((p,v)=>bi(bi({},p),{},{[v]:[n[v],t[v]]}),{}),h,f=p=>{h||(h=p);var v=(p-h)/r,g=ag((y,x)=>rv(...x,e(v)),c);if(a(bi(bi(bi({},n),t),g)),v<1)l=o.setTimeout(f);else{var w=ag((y,x)=>rv(...x,e(1)),c);a(bi(bi(bi({},n),t),w))}};return()=>(l=o.setTimeout(f),()=>{var p;(p=l)===null||p===void 0||p()})}const Iz=(n,t,e,r,i,a)=>{var o=Nz(n,t);return e==null?()=>(i(bi(bi({},n),t)),()=>{}):e.isStepper===!0?Dz(n,t,e,o,i,a):Rz(n,t,e,r,o,i,a)};var iv=1e-4,Uk=(n,t)=>[0,3*n,3*t-6*n,3*n-3*t+1],qk=(n,t)=>n.map((e,r)=>e*t**r).reduce((e,r)=>e+r),RC=(n,t)=>e=>{var r=Uk(n,t);return qk(r,e)},jz=(n,t)=>e=>{var r=Uk(n,t),i=[...r.map((a,o)=>a*o).slice(1),0];return qk(i,e)},Bz=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length===1)switch(e[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=e[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=a[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return e.length===4?e:[0,0,1,1]},Fz=(n,t,e,r)=>{var i=RC(n,e),a=RC(t,r),o=jz(n,e),l=h=>h>1?1:h<0?0:h,c=h=>{for(var f=h>1?1:h,p=f,v=0;v<8;++v){var g=i(p)-f,w=o(p);if(Math.abs(g-f)<iv||w<iv)return a(p);p=l(p-g/w)}return a(p)};return c.isStepper=!1,c},IC=function(){return Fz(...Bz(...arguments))},zz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:e=100,damping:r=8,dt:i=17}=t,a=(o,l,c)=>{var h=-(o-l)*e,f=c*r,p=c+(h-f)*i/1e3,v=c*i/1e3+o;return Math.abs(v-l)<iv&&Math.abs(p)<iv?[l,0]:[v,p]};return a.isStepper=!0,a.dt=i,a},Uz=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IC(n);case"spring":return zz();default:if(n.split("(")[0]==="cubic-bezier")return IC(n)}return typeof n=="function"?n:null};function qz(n){var t,e=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...h]=l;if(typeof c=="number"){i=n.setTimeout(a.bind(null,h),c);return}a(c),i=n.setTimeout(a.bind(null,h));return}typeof o=="string"&&(t=o,e(t)),typeof o=="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(e=o,()=>{e=()=>null}),getTimeoutController:()=>n}}class Hz{setTimeout(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=e?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function $z(){return qz(new Hz)}var Gz=j.createContext($z);function Wz(n,t){var e=j.useContext(Gz);return j.useMemo(()=>t??e(n),[n,t,e])}var Vz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jC={t:0},u2={t:1};function l1(n){var t=zi(n,Vz),{isActive:e,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:l,onAnimationStart:c,children:h}=t,f=e==="auto"?!$h.isSsr:e,p=Wz(t.animationId,t.animationManager),[v,g]=j.useState(f?jC:u2),w=j.useRef(null);return j.useEffect(()=>{f||g(u2)},[f]),j.useEffect(()=>{if(!f||!r)return wg;var y=Iz(jC,u2,Uz(a),i,g,p.getTimeoutController()),x=()=>{w.current=y()};return p.start([c,o,x,i,l]),()=>{p.stop(),w.current&&w.current(),l()}},[f,r,i,a,o,c,l,p]),h(v.t)}function u1(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",e=j.useRef(Qp(t)),r=j.useRef(n);return r.current!==n&&(e.current=Qp(t),r.current=n),e.current}var Yz=["radius"],Kz=["radius"];function BC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function FC(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(e),!0).forEach(function(r){Xz(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):BC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function Xz(n,t,e){return(t=Zz(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Zz(n){var t=Qz(n,"string");return typeof t=="symbol"?t:t+""}function Qz(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function av(){return av=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},av.apply(null,arguments)}function zC(n,t){if(n==null)return{};var e,r,i=Jz(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function Jz(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var UC=(n,t,e,r,i)=>{var a=Math.min(Math.abs(e)/2,Math.abs(r)/2),o=r>=0?1:-1,l=e>=0?1:-1,c=r>=0&&e>=0||r<0&&e<0?1:0,h;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,v=4;p<v;p++)f[p]=i[p]>a?a:i[p];h="M".concat(n,",").concat(t+o*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(n+l*f[0],",").concat(t)),h+="L ".concat(n+e-l*f[1],",").concat(t),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(n+e,",").concat(t+o*f[1])),h+="L ".concat(n+e,",").concat(t+r-o*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(n+e-l*f[2],",").concat(t+r)),h+="L ".concat(n+l*f[3],",").concat(t+r),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(n,",").concat(t+r-o*f[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);h="M ".concat(n,",").concat(t+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(n+l*g,",").concat(t,`
            L `).concat(n+e-l*g,",").concat(t,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(n+e,",").concat(t+o*g,`
            L `).concat(n+e,",").concat(t+r-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(n+e-l*g,",").concat(t+r,`
            L `).concat(n+l*g,",").concat(t+r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(n,",").concat(t+r-o*g," Z")}else h="M ".concat(n,",").concat(t," h ").concat(e," v ").concat(r," h ").concat(-e," Z");return h},qC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hk=n=>{var t=zi(n,qC),e=j.useRef(null),[r,i]=j.useState(-1);j.useEffect(()=>{if(e.current&&e.current.getTotalLength)try{var J=e.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:a,y:o,width:l,height:c,radius:h,className:f}=t,{animationEasing:p,animationDuration:v,animationBegin:g,isAnimationActive:w,isUpdateAnimationActive:y}=t,x=j.useRef(l),S=j.useRef(c),O=j.useRef(a),C=j.useRef(o),N=j.useMemo(()=>({x:a,y:o,width:l,height:c,radius:h}),[a,o,l,c,h]),k=u1(N,"rectangle-");if(a!==+a||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var R=In("recharts-rectangle",f);if(!y){var B=so(t),{radius:H}=B,q=zC(B,Yz);return j.createElement("path",av({},q,{radius:typeof h=="number"?h:void 0,className:R,d:UC(a,o,l,c,h)}))}var rt=x.current,D=S.current,z=O.current,et=C.current,tt="0px ".concat(r===-1?1:r,"px"),dt="".concat(r,"px 0px"),V=Fk(["strokeDasharray"],v,typeof p=="string"?p:qC.animationEasing);return j.createElement(l1,{animationId:k,key:k,canBegin:r>0,duration:v,easing:p,isActive:y,begin:g},J=>{var st=yi(rt,l,J),gt=yi(D,c,J),kt=yi(z,a,J),Z=yi(et,o,J);e.current&&(x.current=st,S.current=gt,O.current=kt,C.current=Z);var I;w?J>0?I={transition:V,strokeDasharray:dt}:I={strokeDasharray:tt}:I={strokeDasharray:dt};var G=so(t),{radius:X}=G,lt=zC(G,Kz);return j.createElement("path",av({},lt,{radius:typeof h=="number"?h:void 0,className:R,d:UC(kt,Z,st,gt,h),ref:e,style:FC(FC({},I),t.style)}))})};function HC(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function $C(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(e),!0).forEach(function(r){t9(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):HC(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function t9(n,t,e){return(t=e9(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function e9(n){var t=n9(n,"string");return typeof t=="symbol"?t:t+""}function n9(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var sv=Math.PI/180,r9=n=>n*180/Math.PI,oi=(n,t,e,r)=>({x:n+Math.cos(-sv*r)*e,y:t+Math.sin(-sv*r)*e}),$k=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(e-(r.top||0)-(r.bottom||0)))/2},i9=(n,t)=>{var{x:e,y:r}=n,{x:i,y:a}=t;return Math.sqrt((e-i)**2+(r-a)**2)},a9=(n,t)=>{var{x:e,y:r}=n,{cx:i,cy:a}=t,o=i9({x:e,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var l=(e-i)/o,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:o,angle:r9(c),angleInRadian:c}},s9=n=>{var{startAngle:t,endAngle:e}=n,r=Math.floor(t/360),i=Math.floor(e/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:e-a*360}},o9=(n,t)=>{var{startAngle:e,endAngle:r}=t,i=Math.floor(e/360),a=Math.floor(r/360),o=Math.min(i,a);return n+o*360},l9=(n,t)=>{var{chartX:e,chartY:r}=n,{radius:i,angle:a}=a9({x:e,y:r},t),{innerRadius:o,outerRadius:l}=t;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:h}=s9(t),f=a,p;if(c<=h){for(;f>h;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=h}else{for(;f>c;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=c}return p?$C($C({},t),{},{radius:i,angle:o9(f,t)}):null};function Gk(n){var{cx:t,cy:e,radius:r,startAngle:i,endAngle:a}=n,o=oi(t,e,r,i),l=oi(t,e,r,a);return{points:[o,l],cx:t,cy:e,radius:r,startAngle:i,endAngle:a}}function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Yw.apply(null,arguments)}var u9=(n,t)=>{var e=Bi(t-n),r=Math.min(Math.abs(t-n),359.999);return e*r},Zm=n=>{var{cx:t,cy:e,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:l,cornerIsExternal:c}=n,h=l*(o?1:-1)+r,f=Math.asin(l/h)/sv,p=c?i:i+a*f,v=oi(t,e,h,p),g=oi(t,e,r,p),w=c?i-a*f:i,y=oi(t,e,h*Math.cos(f*sv),w);return{center:v,circleTangency:g,lineTangency:y,theta:f}},Wk=n=>{var{cx:t,cy:e,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=n,l=u9(a,o),c=a+l,h=oi(t,e,i,a),f=oi(t,e,i,c),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var v=oi(t,e,r,a),g=oi(t,e,r,c);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(v.x,",").concat(v.y," Z")}else p+="L ".concat(t,",").concat(e," Z");return p},c9=n=>{var{cx:t,cy:e,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:h}=n,f=Bi(h-c),{circleTangency:p,lineTangency:v,theta:g}=Zm({cx:t,cy:e,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),{circleTangency:w,lineTangency:y,theta:x}=Zm({cx:t,cy:e,radius:i,angle:h,sign:-f,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-h):Math.abs(c-h)-g-x;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Wk({cx:t,cy:e,innerRadius:r,outerRadius:i,startAngle:c,endAngle:h});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:N,theta:k}=Zm({cx:t,cy:e,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:R,lineTangency:B,theta:H}=Zm({cx:t,cy:e,radius:r,angle:h,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),q=l?Math.abs(c-h):Math.abs(c-h)-k-H;if(q<0&&a===0)return"".concat(O,"L").concat(t,",").concat(e,"Z");O+="L".concat(B.x,",").concat(B.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else O+="L".concat(t,",").concat(e,"Z");return O},h9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vk=n=>{var t=zi(n,h9),{cx:e,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:f,className:p}=t;if(a<i||h===f)return null;var v=In("recharts-sector",p),g=a-i,w=da(o,g,0,!0),y;return w>0&&Math.abs(h-f)<360?y=c9({cx:e,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:f}):y=Wk({cx:e,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:f}),j.createElement("path",Yw({},so(t),{className:v,d:y}))};function f9(n,t,e){if(n==="horizontal")return[{x:t.x,y:e.top},{x:t.x,y:e.top+e.height}];if(n==="vertical")return[{x:e.left,y:t.y},{x:e.left+e.width,y:t.y}];if(CN(t)){if(n==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:o,angle:l}=t,c=oi(r,i,a,l),h=oi(r,i,o,l);return[{x:c.x,y:c.y},{x:h.x,y:h.y}]}return Gk(t)}}var c2={},h2={},f2={},GC;function d9(){return GC||(GC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=BN();function e(r){return t.isSymbol(r)?NaN:Number(r)}n.toNumber=e})(f2)),f2}var WC;function p9(){return WC||(WC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=d9();function e(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=e})(h2)),h2}var VC;function g9(){return VC||(VC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=FN(),e=p9();function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=e.toFinite(i),a===void 0?(a=i,i=0):a=e.toFinite(a),o=o===void 0?i<a?1:-1:e.toFinite(o);const l=Math.max(Math.ceil((a-i)/(o||1)),0),c=new Array(l);for(let h=0;h<l;h++)c[h]=i,i+=o;return c}n.range=r})(c2)),c2}var d2,YC;function m9(){return YC||(YC=1,d2=g9().range),d2}var v9=m9();const Yk=Mu(v9);function Oc(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function y9(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function wA(n){let t,e,r;n.length!==2?(t=Oc,e=(l,c)=>Oc(n(l),c),r=(l,c)=>n(l)-c):(t=n===Oc||n===y9?n:b9,e=n,r=n);function i(l,c,h=0,f=l.length){if(h<f){if(t(c,c)!==0)return f;do{const p=h+f>>>1;e(l[p],c)<0?h=p+1:f=p}while(h<f)}return h}function a(l,c,h=0,f=l.length){if(h<f){if(t(c,c)!==0)return f;do{const p=h+f>>>1;e(l[p],c)<=0?h=p+1:f=p}while(h<f)}return h}function o(l,c,h=0,f=l.length){const p=i(l,c,h,f-1);return p>h&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function b9(){return 0}function Kk(n){return n===null?NaN:+n}function*w9(n,t){for(let e of n)e!=null&&(e=+e)>=e&&(yield e)}const A9=wA(Oc),Tg=A9.right;wA(Kk).center;class KC extends Map{constructor(t,e=_9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(XC(this,t))}has(t){return super.has(XC(this,t))}set(t,e){return super.set(x9(this,t),e)}delete(t){return super.delete(S9(this,t))}}function XC({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):e}function x9({_intern:n,_key:t},e){const r=t(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function S9({_intern:n,_key:t},e){const r=t(e);return n.has(r)&&(e=n.get(r),n.delete(r)),e}function _9(n){return n!==null&&typeof n=="object"?n.valueOf():n}function E9(n=Oc){if(n===Oc)return Xk;if(typeof n!="function")throw new TypeError("compare is not a function");return(t,e)=>{const r=n(t,e);return r||r===0?r:(n(e,e)===0)-(n(t,t)===0)}}function Xk(n,t){return(n==null||!(n>=n))-(t==null||!(t>=t))||(n<t?-1:n>t?1:0)}const C9=Math.sqrt(50),T9=Math.sqrt(10),O9=Math.sqrt(2);function ov(n,t,e){const r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=C9?10:a>=T9?5:a>=O9?2:1;let l,c,h;return i<0?(h=Math.pow(10,-i)/o,l=Math.round(n*h),c=Math.round(t*h),l/h<n&&++l,c/h>t&&--c,h=-h):(h=Math.pow(10,i)*o,l=Math.round(n/h),c=Math.round(t/h),l*h<n&&++l,c*h>t&&--c),c<l&&.5<=e&&e<2?ov(n,t,e*2):[l,c,h]}function Kw(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];const r=t<n,[i,a,o]=r?ov(t,n,e):ov(n,t,e);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let h=0;h<l;++h)c[h]=(a-h)/-o;else for(let h=0;h<l;++h)c[h]=(a-h)*o;else if(o<0)for(let h=0;h<l;++h)c[h]=(i+h)/-o;else for(let h=0;h<l;++h)c[h]=(i+h)*o;return c}function Xw(n,t,e){return t=+t,n=+n,e=+e,ov(n,t,e)[2]}function Zw(n,t,e){t=+t,n=+n,e=+e;const r=t<n,i=r?Xw(t,n,e):Xw(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}function ZC(n,t){let e;for(const r of n)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);return e}function QC(n,t){let e;for(const r of n)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);return e}function Zk(n,t,e=0,r=1/0,i){if(t=Math.floor(t),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(n.length-1,r)),!(e<=t&&t<=r))return n;for(i=i===void 0?Xk:E9(i);r>e;){if(r-e>600){const c=r-e+1,h=t-e+1,f=Math.log(c),p=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*p*(c-p)/c)*(h-c/2<0?-1:1),g=Math.max(e,Math.floor(t-h*p/c+v)),w=Math.min(r,Math.floor(t+(c-h)*p/c+v));Zk(n,t,g,w,i)}const a=n[t];let o=e,l=r;for(Pp(n,e,t),i(n[r],a)>0&&Pp(n,e,r);o<l;){for(Pp(n,o,l),++o,--l;i(n[o],a)<0;)++o;for(;i(n[l],a)>0;)--l}i(n[e],a)===0?Pp(n,e,l):(++l,Pp(n,l,r)),l<=t&&(e=l+1),t<=l&&(r=l-1)}return n}function Pp(n,t,e){const r=n[t];n[t]=n[e],n[e]=r}function P9(n,t,e){if(n=Float64Array.from(w9(n)),!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return QC(n);if(t>=1)return ZC(n);var r,i=(r-1)*t,a=Math.floor(i),o=ZC(Zk(n,a).subarray(0,a+1)),l=QC(n.subarray(a+1));return o+(l-o)*(i-a)}}function N9(n,t,e=Kk){if(!(!(r=n.length)||isNaN(t=+t))){if(t<=0||r<2)return+e(n[0],0,n);if(t>=1)return+e(n[r-1],r-1,n);var r,i=(r-1)*t,a=Math.floor(i),o=+e(n[a],a,n),l=+e(n[a+1],a+1,n);return o+(l-o)*(i-a)}}function k9(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((t-n)/e))|0,a=new Array(i);++r<i;)a[r]=n+r*e;return a}function ho(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Iu(n,t){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qw=Symbol("implicit");function AA(){var n=new KC,t=[],e=[],r=Qw;function i(a){let o=n.get(a);if(o===void 0){if(r!==Qw)return r;n.set(a,o=t.push(a)-1)}return e[o%e.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],n=new KC;for(const o of a)n.has(o)||n.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(e=Array.from(a),i):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AA(t,e).unknown(r)},ho.apply(i,arguments),i}function xA(){var n=AA().unknown(void 0),t=n.domain,e=n.range,r=0,i=1,a,o,l=!1,c=0,h=0,f=.5;delete n.unknown;function p(){var v=t().length,g=i<r,w=g?i:r,y=g?r:i;a=(y-w)/Math.max(1,v-c+h*2),l&&(a=Math.floor(a)),w+=(y-w-a*(v-c))*f,o=a*(1-c),l&&(w=Math.round(w),o=Math.round(o));var x=k9(v).map(function(S){return w+a*S});return e(g?x.reverse():x)}return n.domain=function(v){return arguments.length?(t(v),p()):t()},n.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,p()):[r,i]},n.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,p()},n.bandwidth=function(){return o},n.step=function(){return a},n.round=function(v){return arguments.length?(l=!!v,p()):l},n.padding=function(v){return arguments.length?(c=Math.min(1,h=+v),p()):c},n.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},n.paddingOuter=function(v){return arguments.length?(h=+v,p()):h},n.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),p()):f},n.copy=function(){return xA(t(),[r,i]).round(l).paddingInner(c).paddingOuter(h).align(f)},ho.apply(p(),arguments)}function Qk(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Qk(t())},n}function L9(){return Qk(xA.apply(null,arguments).paddingInner(1))}function SA(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Jk(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function Og(){}var sg=.7,lv=1/sg,ud="\\s*([+-]?\\d+)\\s*",og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",M9=/^#([0-9a-f]{3,8})$/,D9=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),R9=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),I9=new RegExp(`^rgba\\(${ud},${ud},${ud},${og}\\)$`),j9=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${og}\\)$`),B9=new RegExp(`^hsl\\(${og},${Nl},${Nl}\\)$`),F9=new RegExp(`^hsla\\(${og},${Nl},${Nl},${og}\\)$`),JC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SA(Og,lg,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:t4,formatHex:t4,formatHex8:z9,formatHsl:U9,formatRgb:e4,toString:e4});function t4(){return this.rgb().formatHex()}function z9(){return this.rgb().formatHex8()}function U9(){return t6(this).formatHsl()}function e4(){return this.rgb().formatRgb()}function lg(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=M9.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?n4(t):e===3?new ns(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Qm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Qm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D9.exec(n))?new ns(t[1],t[2],t[3],1):(t=R9.exec(n))?new ns(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=I9.exec(n))?Qm(t[1],t[2],t[3],t[4]):(t=j9.exec(n))?Qm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B9.exec(n))?a4(t[1],t[2]/100,t[3]/100,1):(t=F9.exec(n))?a4(t[1],t[2]/100,t[3]/100,t[4]):JC.hasOwnProperty(n)?n4(JC[n]):n==="transparent"?new ns(NaN,NaN,NaN,0):null}function n4(n){return new ns(n>>16&255,n>>8&255,n&255,1)}function Qm(n,t,e,r){return r<=0&&(n=t=e=NaN),new ns(n,t,e,r)}function q9(n){return n instanceof Og||(n=lg(n)),n?(n=n.rgb(),new ns(n.r,n.g,n.b,n.opacity)):new ns}function Jw(n,t,e,r){return arguments.length===1?q9(n):new ns(n,t,e,r??1)}function ns(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}SA(ns,Jw,Jk(Og,{brighter(n){return n=n==null?lv:Math.pow(lv,n),new ns(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?sg:Math.pow(sg,n),new ns(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ns(Ph(this.r),Ph(this.g),Ph(this.b),uv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:r4,formatHex:r4,formatHex8:H9,formatRgb:i4,toString:i4}));function r4(){return`#${wh(this.r)}${wh(this.g)}${wh(this.b)}`}function H9(){return`#${wh(this.r)}${wh(this.g)}${wh(this.b)}${wh((isNaN(this.opacity)?1:this.opacity)*255)}`}function i4(){const n=uv(this.opacity);return`${n===1?"rgb(":"rgba("}${Ph(this.r)}, ${Ph(this.g)}, ${Ph(this.b)}${n===1?")":`, ${n})`}`}function uv(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Ph(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function wh(n){return n=Ph(n),(n<16?"0":"")+n.toString(16)}function a4(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new Go(n,t,e,r)}function t6(n){if(n instanceof Go)return new Go(n.h,n.s,n.l,n.opacity);if(n instanceof Og||(n=lg(n)),!n)return new Go;if(n instanceof Go)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),a=Math.max(t,e,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(e-r)/l+(e<r)*6:e===a?o=(r-t)/l+2:o=(t-e)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Go(o,l,c,n.opacity)}function $9(n,t,e,r){return arguments.length===1?t6(n):new Go(n,t,e,r??1)}function Go(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}SA(Go,$9,Jk(Og,{brighter(n){return n=n==null?lv:Math.pow(lv,n),new Go(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?sg:Math.pow(sg,n),new Go(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new ns(p2(n>=240?n-240:n+120,i,r),p2(n,i,r),p2(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Go(s4(this.h),Jm(this.s),Jm(this.l),uv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=uv(this.opacity);return`${n===1?"hsl(":"hsla("}${s4(this.h)}, ${Jm(this.s)*100}%, ${Jm(this.l)*100}%${n===1?")":`, ${n})`}`}}));function s4(n){return n=(n||0)%360,n<0?n+360:n}function Jm(n){return Math.max(0,Math.min(1,n||0))}function p2(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}const _A=n=>()=>n;function G9(n,t){return function(e){return n+e*t}}function W9(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function V9(n){return(n=+n)==1?e6:function(t,e){return e-t?W9(t,e,n):_A(isNaN(t)?e:t)}}function e6(n,t){var e=t-n;return e?G9(n,e):_A(isNaN(n)?t:n)}const o4=(function n(t){var e=V9(t);function r(i,a){var o=e((i=Jw(i)).r,(a=Jw(a)).r),l=e(i.g,a.g),c=e(i.b,a.b),h=e6(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=h(f),i+""}}return r.gamma=n,r})(1);function Y9(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(a){for(i=0;i<e;++i)r[i]=n[i]*(1-a)+t[i]*a;return r}}function K9(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function X9(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),a=new Array(e),o;for(o=0;o<r;++o)i[o]=Md(n[o],t[o]);for(;o<e;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Z9(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function cv(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Q9(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=Md(n[i],t[i]):r[i]=t[i];return function(a){for(i in e)r[i]=e[i](a);return r}}var t5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g2=new RegExp(t5.source,"g");function J9(n){return function(){return n}}function tU(n){return function(t){return n(t)+""}}function eU(n,t){var e=t5.lastIndex=g2.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(n=n+"",t=t+"";(r=t5.exec(n))&&(i=g2.exec(t));)(a=i.index)>e&&(a=t.slice(e,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:cv(r,i)})),e=g2.lastIndex;return e<t.length&&(a=t.slice(e),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?tU(c[0].x):J9(t):(t=c.length,function(h){for(var f=0,p;f<t;++f)l[(p=c[f]).i]=p.x(h);return l.join("")})}function Md(n,t){var e=typeof t,r;return t==null||e==="boolean"?_A(t):(e==="number"?cv:e==="string"?(r=lg(t))?(t=r,o4):eU:t instanceof lg?o4:t instanceof Date?Z9:K9(t)?Y9:Array.isArray(t)?X9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Q9:cv)(n,t)}function EA(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}function nU(n,t){t===void 0&&(t=n,n=Md);for(var e=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);e<r;)a[e]=n(i,i=t[++e]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function rU(n){return function(){return n}}function hv(n){return+n}var l4=[0,1];function Pa(n){return n}function e5(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:rU(isNaN(t)?NaN:.5)}function iU(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function aU(n,t,e){var r=n[0],i=n[1],a=t[0],o=t[1];return i<r?(r=e5(i,r),a=e(o,a)):(r=e5(r,i),a=e(a,o)),function(l){return a(r(l))}}function sU(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=e5(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(l){var c=Tg(n,l,1,r)-1;return a[c](i[c](l))}}function Pg(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function c1(){var n=l4,t=l4,e=Md,r,i,a,o=Pa,l,c,h;function f(){var v=Math.min(n.length,t.length);return o!==Pa&&(o=iU(n[0],n[v-1])),l=v>2?sU:aU,c=h=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=l(n.map(r),t,e)))(r(o(v)))}return p.invert=function(v){return o(i((h||(h=l(t,n.map(r),cv)))(v)))},p.domain=function(v){return arguments.length?(n=Array.from(v,hv),f()):n.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),e=EA,f()},p.clamp=function(v){return arguments.length?(o=v?!0:Pa,f()):o!==Pa},p.interpolate=function(v){return arguments.length?(e=v,f()):e},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,g){return r=v,i=g,f()}}function CA(){return c1()(Pa,Pa)}function oU(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function fv(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function Ed(n){return n=fv(Math.abs(n)),n?n[1]:NaN}function lU(n,t){return function(e,r){for(var i=e.length,a=[],o=0,l=n[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(e.substring(i-=l,i+l)),!((c+=l+1)>r));)l=n[o=(o+1)%n.length];return a.reverse().join(t)}}function uU(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var cU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ug(n){if(!(t=cU.exec(n)))throw new Error("invalid format: "+n);var t;return new TA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ug.prototype=TA.prototype;function TA(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}TA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hU(n){t:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break t;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var n6;function fU(n,t){var e=fv(n,t);if(!e)return n+"";var r=e[0],i=e[1],a=i-(n6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fv(n,Math.max(0,t+a-1))[0]}function u4(n,t){var e=fv(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const c4={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:oU,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>u4(n*100,t),r:u4,s:fU,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function h4(n){return n}var f4=Array.prototype.map,d4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dU(n){var t=n.grouping===void 0||n.thousands===void 0?h4:lU(f4.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?h4:uU(f4.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",c=n.nan===void 0?"NaN":n.nan+"";function h(p){p=ug(p);var v=p.fill,g=p.align,w=p.sign,y=p.symbol,x=p.zero,S=p.width,O=p.comma,C=p.precision,N=p.trim,k=p.type;k==="n"?(O=!0,k="g"):c4[k]||(C===void 0&&(C=12),N=!0,k="g"),(x||v==="0"&&g==="=")&&(x=!0,v="0",g="=");var R=y==="$"?e:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",B=y==="$"?r:/[%p]/.test(k)?o:"",H=c4[k],q=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function rt(D){var z=R,et=B,tt,dt,V;if(k==="c")et=H(D)+et,D="";else{D=+D;var J=D<0||1/D<0;if(D=isNaN(D)?c:H(Math.abs(D),C),N&&(D=hU(D)),J&&+D==0&&w!=="+"&&(J=!1),z=(J?w==="("?w:l:w==="-"||w==="("?"":w)+z,et=(k==="s"?d4[8+n6/3]:"")+et+(J&&w==="("?")":""),q){for(tt=-1,dt=D.length;++tt<dt;)if(V=D.charCodeAt(tt),48>V||V>57){et=(V===46?i+D.slice(tt+1):D.slice(tt))+et,D=D.slice(0,tt);break}}}O&&!x&&(D=t(D,1/0));var st=z.length+D.length+et.length,gt=st<S?new Array(S-st+1).join(v):"";switch(O&&x&&(D=t(gt+D,gt.length?S-et.length:1/0),gt=""),g){case"<":D=z+D+et+gt;break;case"=":D=z+gt+D+et;break;case"^":D=gt.slice(0,st=gt.length>>1)+z+D+et+gt.slice(st);break;default:D=gt+z+D+et;break}return a(D)}return rt.toString=function(){return p+""},rt}function f(p,v){var g=h((p=ug(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Ed(v)/3)))*3,y=Math.pow(10,-w),x=d4[8+w/3];return function(S){return g(y*S)+x}}return{format:h,formatPrefix:f}}var t0,OA,r6;pU({thousands:",",grouping:[3],currency:["$",""]});function pU(n){return t0=dU(n),OA=t0.format,r6=t0.formatPrefix,t0}function gU(n){return Math.max(0,-Ed(Math.abs(n)))}function mU(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ed(t)/3)))*3-Ed(Math.abs(n)))}function vU(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,Ed(t)-Ed(n))+1}function i6(n,t,e,r){var i=Zw(n,t,e),a;switch(r=ug(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(a=mU(i,o))&&(r.precision=a),r6(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=vU(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=gU(i))&&(r.precision=a-(r.type==="%")*2);break}}return OA(r)}function Dc(n){var t=n.domain;return n.ticks=function(e){var r=t();return Kw(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return i6(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],c,h,f=10;for(l<o&&(h=o,o=l,l=h,h=i,i=a,a=h);f-- >0;){if(h=Xw(o,l,e),h===c)return r[i]=o,r[a]=l,t(r);if(h>0)o=Math.floor(o/h)*h,l=Math.ceil(l/h)*h;else if(h<0)o=Math.ceil(o*h)/h,l=Math.floor(l*h)/h;else break;c=h}return n},n}function a6(){var n=CA();return n.copy=function(){return Pg(n,a6())},ho.apply(n,arguments),Dc(n)}function s6(n){var t;function e(r){return r==null||isNaN(r=+r)?t:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(n=Array.from(r,hv),e):n.slice()},e.unknown=function(r){return arguments.length?(t=r,e):t},e.copy=function(){return s6(n).unknown(t)},n=arguments.length?Array.from(n,hv):[0,1],Dc(e)}function o6(n,t){n=n.slice();var e=0,r=n.length-1,i=n[e],a=n[r],o;return a<i&&(o=e,e=r,r=o,o=i,i=a,a=o),n[e]=t.floor(i),n[r]=t.ceil(a),n}function p4(n){return Math.log(n)}function g4(n){return Math.exp(n)}function yU(n){return-Math.log(-n)}function bU(n){return-Math.exp(-n)}function wU(n){return isFinite(n)?+("1e"+n):n<0?0:n}function AU(n){return n===10?wU:n===Math.E?Math.exp:t=>Math.pow(n,t)}function xU(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}function m4(n){return(t,e)=>-n(-t,e)}function PA(n){const t=n(p4,g4),e=t.domain;let r=10,i,a;function o(){return i=xU(r),a=AU(r),e()[0]<0?(i=m4(i),a=m4(a),n(yU,bU)):n(p4,g4),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(e(l),o()):e()},t.ticks=l=>{const c=e();let h=c[0],f=c[c.length-1];const p=f<h;p&&([h,f]=[f,h]);let v=i(h),g=i(f),w,y;const x=l==null?10:+l;let S=[];if(!(r%1)&&g-v<x){if(v=Math.floor(v),g=Math.ceil(g),h>0){for(;v<=g;++v)for(w=1;w<r;++w)if(y=v<0?w/a(-v):w*a(v),!(y<h)){if(y>f)break;S.push(y)}}else for(;v<=g;++v)for(w=r-1;w>=1;--w)if(y=v>0?w/a(-v):w*a(v),!(y<h)){if(y>f)break;S.push(y)}S.length*2<x&&(S=Kw(h,f,x))}else S=Kw(v,g,Math.min(g-v,x)).map(a);return p?S.reverse():S},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ug(c)).precision==null&&(c.trim=!0),c=OA(c)),l===1/0)return c;const h=Math.max(1,r*l/t.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=h?c(f):""}},t.nice=()=>e(o6(e(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function l6(){const n=PA(c1()).domain([1,10]);return n.copy=()=>Pg(n,l6()).base(n.base()),ho.apply(n,arguments),n}function v4(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function y4(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function NA(n){var t=1,e=n(v4(t),y4(t));return e.constant=function(r){return arguments.length?n(v4(t=+r),y4(t)):t},Dc(e)}function u6(){var n=NA(c1());return n.copy=function(){return Pg(n,u6()).constant(n.constant())},ho.apply(n,arguments)}function b4(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function SU(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function _U(n){return n<0?-n*n:n*n}function kA(n){var t=n(Pa,Pa),e=1;function r(){return e===1?n(Pa,Pa):e===.5?n(SU,_U):n(b4(e),b4(1/e))}return t.exponent=function(i){return arguments.length?(e=+i,r()):e},Dc(t)}function LA(){var n=kA(c1());return n.copy=function(){return Pg(n,LA()).exponent(n.exponent())},ho.apply(n,arguments),n}function EU(){return LA.apply(null,arguments).exponent(.5)}function w4(n){return Math.sign(n)*n*n}function CU(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function c6(){var n=CA(),t=[0,1],e=!1,r;function i(a){var o=CU(n(a));return isNaN(o)?r:e?Math.round(o):o}return i.invert=function(a){return n.invert(w4(a))},i.domain=function(a){return arguments.length?(n.domain(a),i):n.domain()},i.range=function(a){return arguments.length?(n.range((t=Array.from(a,hv)).map(w4)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(e=!!a,i):e},i.clamp=function(a){return arguments.length?(n.clamp(a),i):n.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return c6(n.domain(),t).round(e).clamp(n.clamp()).unknown(r)},ho.apply(i,arguments),Dc(i)}function h6(){var n=[],t=[],e=[],r;function i(){var o=0,l=Math.max(1,t.length);for(e=new Array(l-1);++o<l;)e[o-1]=N9(n,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Tg(e,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?e[l-1]:n[0],l<e.length?e[l]:n[n.length-1]]},a.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let l of o)l!=null&&!isNaN(l=+l)&&n.push(l);return n.sort(Oc),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return e.slice()},a.copy=function(){return h6().domain(n).range(t).unknown(r)},ho.apply(a,arguments)}function f6(){var n=0,t=1,e=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Tg(r,c,0,e)]:a}function l(){var c=-1;for(r=new Array(e);++c<e;)r[c]=((c+1)*t-(c-e)*n)/(e+1);return o}return o.domain=function(c){return arguments.length?([n,t]=c,n=+n,t=+t,l()):[n,t]},o.range=function(c){return arguments.length?(e=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var h=i.indexOf(c);return h<0?[NaN,NaN]:h<1?[n,r[0]]:h>=e?[r[e-1],t]:[r[h-1],r[h]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return f6().domain([n,t]).range(i).unknown(a)},ho.apply(Dc(o),arguments)}function d6(){var n=[.5],t=[0,1],e,r=1;function i(a){return a!=null&&a<=a?t[Tg(n,a,0,r)]:e}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,t.length-1),i):n.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(n.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[n[o-1],n[o]]},i.unknown=function(a){return arguments.length?(e=a,i):e},i.copy=function(){return d6().domain(n).range(t).unknown(e)},ho.apply(i,arguments)}const m2=new Date,v2=new Date;function Ai(n,t,e,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),t(a,1),n(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let h;do c.push(h=new Date(+a)),t(a,l),n(a);while(h<a&&a<o);return c},i.filter=a=>Ai(o=>{if(o>=o)for(;n(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),e&&(i.count=(a,o)=>(m2.setTime(+a),v2.setTime(+o),n(m2),n(v2),Math.floor(e(m2,v2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const dv=Ai(()=>{},(n,t)=>{n.setTime(+n+t)},(n,t)=>t-n);dv.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Ai(t=>{t.setTime(Math.floor(t/n)*n)},(t,e)=>{t.setTime(+t+e*n)},(t,e)=>(e-t)/n):dv);dv.range;const wu=1e3,ao=wu*60,Au=ao*60,Tu=Au*24,MA=Tu*7,A4=Tu*30,y2=Tu*365,Ah=Ai(n=>{n.setTime(n-n.getMilliseconds())},(n,t)=>{n.setTime(+n+t*wu)},(n,t)=>(t-n)/wu,n=>n.getUTCSeconds());Ah.range;const DA=Ai(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*wu)},(n,t)=>{n.setTime(+n+t*ao)},(n,t)=>(t-n)/ao,n=>n.getMinutes());DA.range;const RA=Ai(n=>{n.setUTCSeconds(0,0)},(n,t)=>{n.setTime(+n+t*ao)},(n,t)=>(t-n)/ao,n=>n.getUTCMinutes());RA.range;const IA=Ai(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*wu-n.getMinutes()*ao)},(n,t)=>{n.setTime(+n+t*Au)},(n,t)=>(t-n)/Au,n=>n.getHours());IA.range;const jA=Ai(n=>{n.setUTCMinutes(0,0,0)},(n,t)=>{n.setTime(+n+t*Au)},(n,t)=>(t-n)/Au,n=>n.getUTCHours());jA.range;const Ng=Ai(n=>n.setHours(0,0,0,0),(n,t)=>n.setDate(n.getDate()+t),(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*ao)/Tu,n=>n.getDate()-1);Ng.range;const h1=Ai(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Tu,n=>n.getUTCDate()-1);h1.range;const p6=Ai(n=>{n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+t)},(n,t)=>(t-n)/Tu,n=>Math.floor(n/Tu));p6.range;function Gh(n){return Ai(t=>{t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},(t,e)=>{t.setDate(t.getDate()+e*7)},(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ao)/MA)}const f1=Gh(0),pv=Gh(1),TU=Gh(2),OU=Gh(3),Cd=Gh(4),PU=Gh(5),NU=Gh(6);f1.range;pv.range;TU.range;OU.range;Cd.range;PU.range;NU.range;function Wh(n){return Ai(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e*7)},(t,e)=>(e-t)/MA)}const d1=Wh(0),gv=Wh(1),kU=Wh(2),LU=Wh(3),Td=Wh(4),MU=Wh(5),DU=Wh(6);d1.range;gv.range;kU.range;LU.range;Td.range;MU.range;DU.range;const BA=Ai(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,t)=>{n.setMonth(n.getMonth()+t)},(n,t)=>t.getMonth()-n.getMonth()+(t.getFullYear()-n.getFullYear())*12,n=>n.getMonth());BA.range;const FA=Ai(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCMonth(n.getUTCMonth()+t)},(n,t)=>t.getUTCMonth()-n.getUTCMonth()+(t.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());FA.range;const Ou=Ai(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t)},(n,t)=>t.getFullYear()-n.getFullYear(),n=>n.getFullYear());Ou.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ai(t=>{t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e*n)});Ou.range;const Pu=Ai(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t)},(n,t)=>t.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());Pu.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Ai(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e*n)});Pu.range;function g6(n,t,e,r,i,a){const o=[[Ah,1,wu],[Ah,5,5*wu],[Ah,15,15*wu],[Ah,30,30*wu],[a,1,ao],[a,5,5*ao],[a,15,15*ao],[a,30,30*ao],[i,1,Au],[i,3,3*Au],[i,6,6*Au],[i,12,12*Au],[r,1,Tu],[r,2,2*Tu],[e,1,MA],[t,1,A4],[t,3,3*A4],[n,1,y2]];function l(h,f,p){const v=f<h;v&&([h,f]=[f,h]);const g=p&&typeof p.range=="function"?p:c(h,f,p),w=g?g.range(h,+f+1):[];return v?w.reverse():w}function c(h,f,p){const v=Math.abs(f-h)/p,g=wA(([,,x])=>x).right(o,v);if(g===o.length)return n.every(Zw(h/y2,f/y2,p));if(g===0)return dv.every(Math.max(Zw(h,f,p),1));const[w,y]=o[v/o[g-1][2]<o[g][2]/v?g-1:g];return w.every(y)}return[l,c]}const[RU,IU]=g6(Pu,FA,d1,p6,jA,RA),[jU,BU]=g6(Ou,BA,f1,Ng,IA,DA);function b2(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function w2(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function Np(n,t,e){return{y:n,m:t,d:e,H:0,M:0,S:0,L:0}}function FU(n){var t=n.dateTime,e=n.date,r=n.time,i=n.periods,a=n.days,o=n.shortDays,l=n.months,c=n.shortMonths,h=kp(i),f=Lp(i),p=kp(a),v=Lp(a),g=kp(o),w=Lp(o),y=kp(l),x=Lp(l),S=kp(c),O=Lp(c),C={a:J,A:st,b:gt,B:kt,c:null,d:T4,e:T4,f:lq,g:yq,G:wq,H:aq,I:sq,j:oq,L:m6,m:uq,M:cq,p:Z,q:I,Q:N4,s:k4,S:hq,u:fq,U:dq,V:pq,w:gq,W:mq,x:null,X:null,y:vq,Y:bq,Z:Aq,"%":P4},N={a:G,A:X,b:lt,B:ct,c:null,d:O4,e:O4,f:Eq,g:Rq,G:jq,H:xq,I:Sq,j:_q,L:y6,m:Cq,M:Tq,p:ht,q:_t,Q:N4,s:k4,S:Oq,u:Pq,U:Nq,V:kq,w:Lq,W:Mq,x:null,X:null,y:Dq,Y:Iq,Z:Bq,"%":P4},k={a:rt,A:D,b:z,B:et,c:tt,d:E4,e:E4,f:eq,g:_4,G:S4,H:C4,I:C4,j:ZU,L:tq,m:XU,M:QU,p:q,q:KU,Q:rq,s:iq,S:JU,u:$U,U:GU,V:WU,w:HU,W:VU,x:dt,X:V,y:_4,Y:S4,Z:YU,"%":nq};C.x=R(e,C),C.X=R(r,C),C.c=R(t,C),N.x=R(e,N),N.X=R(r,N),N.c=R(t,N);function R(ut,Et){return function(Dt){var At=[],Wt=-1,Vt=0,nt=ut.length,Yt,Ne,ge;for(Dt instanceof Date||(Dt=new Date(+Dt));++Wt<nt;)ut.charCodeAt(Wt)===37&&(At.push(ut.slice(Vt,Wt)),(Ne=x4[Yt=ut.charAt(++Wt)])!=null?Yt=ut.charAt(++Wt):Ne=Yt==="e"?" ":"0",(ge=Et[Yt])&&(Yt=ge(Dt,Ne)),At.push(Yt),Vt=Wt+1);return At.push(ut.slice(Vt,Wt)),At.join("")}}function B(ut,Et){return function(Dt){var At=Np(1900,void 0,1),Wt=H(At,ut,Dt+="",0),Vt,nt;if(Wt!=Dt.length)return null;if("Q"in At)return new Date(At.Q);if("s"in At)return new Date(At.s*1e3+("L"in At?At.L:0));if(Et&&!("Z"in At)&&(At.Z=0),"p"in At&&(At.H=At.H%12+At.p*12),At.m===void 0&&(At.m="q"in At?At.q:0),"V"in At){if(At.V<1||At.V>53)return null;"w"in At||(At.w=1),"Z"in At?(Vt=w2(Np(At.y,0,1)),nt=Vt.getUTCDay(),Vt=nt>4||nt===0?gv.ceil(Vt):gv(Vt),Vt=h1.offset(Vt,(At.V-1)*7),At.y=Vt.getUTCFullYear(),At.m=Vt.getUTCMonth(),At.d=Vt.getUTCDate()+(At.w+6)%7):(Vt=b2(Np(At.y,0,1)),nt=Vt.getDay(),Vt=nt>4||nt===0?pv.ceil(Vt):pv(Vt),Vt=Ng.offset(Vt,(At.V-1)*7),At.y=Vt.getFullYear(),At.m=Vt.getMonth(),At.d=Vt.getDate()+(At.w+6)%7)}else("W"in At||"U"in At)&&("w"in At||(At.w="u"in At?At.u%7:"W"in At?1:0),nt="Z"in At?w2(Np(At.y,0,1)).getUTCDay():b2(Np(At.y,0,1)).getDay(),At.m=0,At.d="W"in At?(At.w+6)%7+At.W*7-(nt+5)%7:At.w+At.U*7-(nt+6)%7);return"Z"in At?(At.H+=At.Z/100|0,At.M+=At.Z%100,w2(At)):b2(At)}}function H(ut,Et,Dt,At){for(var Wt=0,Vt=Et.length,nt=Dt.length,Yt,Ne;Wt<Vt;){if(At>=nt)return-1;if(Yt=Et.charCodeAt(Wt++),Yt===37){if(Yt=Et.charAt(Wt++),Ne=k[Yt in x4?Et.charAt(Wt++):Yt],!Ne||(At=Ne(ut,Dt,At))<0)return-1}else if(Yt!=Dt.charCodeAt(At++))return-1}return At}function q(ut,Et,Dt){var At=h.exec(Et.slice(Dt));return At?(ut.p=f.get(At[0].toLowerCase()),Dt+At[0].length):-1}function rt(ut,Et,Dt){var At=g.exec(Et.slice(Dt));return At?(ut.w=w.get(At[0].toLowerCase()),Dt+At[0].length):-1}function D(ut,Et,Dt){var At=p.exec(Et.slice(Dt));return At?(ut.w=v.get(At[0].toLowerCase()),Dt+At[0].length):-1}function z(ut,Et,Dt){var At=S.exec(Et.slice(Dt));return At?(ut.m=O.get(At[0].toLowerCase()),Dt+At[0].length):-1}function et(ut,Et,Dt){var At=y.exec(Et.slice(Dt));return At?(ut.m=x.get(At[0].toLowerCase()),Dt+At[0].length):-1}function tt(ut,Et,Dt){return H(ut,t,Et,Dt)}function dt(ut,Et,Dt){return H(ut,e,Et,Dt)}function V(ut,Et,Dt){return H(ut,r,Et,Dt)}function J(ut){return o[ut.getDay()]}function st(ut){return a[ut.getDay()]}function gt(ut){return c[ut.getMonth()]}function kt(ut){return l[ut.getMonth()]}function Z(ut){return i[+(ut.getHours()>=12)]}function I(ut){return 1+~~(ut.getMonth()/3)}function G(ut){return o[ut.getUTCDay()]}function X(ut){return a[ut.getUTCDay()]}function lt(ut){return c[ut.getUTCMonth()]}function ct(ut){return l[ut.getUTCMonth()]}function ht(ut){return i[+(ut.getUTCHours()>=12)]}function _t(ut){return 1+~~(ut.getUTCMonth()/3)}return{format:function(ut){var Et=R(ut+="",C);return Et.toString=function(){return ut},Et},parse:function(ut){var Et=B(ut+="",!1);return Et.toString=function(){return ut},Et},utcFormat:function(ut){var Et=R(ut+="",N);return Et.toString=function(){return ut},Et},utcParse:function(ut){var Et=B(ut+="",!0);return Et.toString=function(){return ut},Et}}}var x4={"-":"",_:" ",0:"0"},Ui=/^\s*\d+/,zU=/^%/,UU=/[\\^$*+?|[\]().{}]/g;function xn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(t)+i:i)}function qU(n){return n.replace(UU,"\\$&")}function kp(n){return new RegExp("^(?:"+n.map(qU).join("|")+")","i")}function Lp(n){return new Map(n.map((t,e)=>[t.toLowerCase(),e]))}function HU(n,t,e){var r=Ui.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function $U(n,t,e){var r=Ui.exec(t.slice(e,e+1));return r?(n.u=+r[0],e+r[0].length):-1}function GU(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.U=+r[0],e+r[0].length):-1}function WU(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.V=+r[0],e+r[0].length):-1}function VU(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.W=+r[0],e+r[0].length):-1}function S4(n,t,e){var r=Ui.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function _4(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function YU(n,t,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function KU(n,t,e){var r=Ui.exec(t.slice(e,e+1));return r?(n.q=r[0]*3-3,e+r[0].length):-1}function XU(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function E4(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ZU(n,t,e){var r=Ui.exec(t.slice(e,e+3));return r?(n.m=0,n.d=+r[0],e+r[0].length):-1}function C4(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function QU(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function JU(n,t,e){var r=Ui.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function tq(n,t,e){var r=Ui.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function eq(n,t,e){var r=Ui.exec(t.slice(e,e+6));return r?(n.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function nq(n,t,e){var r=zU.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function rq(n,t,e){var r=Ui.exec(t.slice(e));return r?(n.Q=+r[0],e+r[0].length):-1}function iq(n,t,e){var r=Ui.exec(t.slice(e));return r?(n.s=+r[0],e+r[0].length):-1}function T4(n,t){return xn(n.getDate(),t,2)}function aq(n,t){return xn(n.getHours(),t,2)}function sq(n,t){return xn(n.getHours()%12||12,t,2)}function oq(n,t){return xn(1+Ng.count(Ou(n),n),t,3)}function m6(n,t){return xn(n.getMilliseconds(),t,3)}function lq(n,t){return m6(n,t)+"000"}function uq(n,t){return xn(n.getMonth()+1,t,2)}function cq(n,t){return xn(n.getMinutes(),t,2)}function hq(n,t){return xn(n.getSeconds(),t,2)}function fq(n){var t=n.getDay();return t===0?7:t}function dq(n,t){return xn(f1.count(Ou(n)-1,n),t,2)}function v6(n){var t=n.getDay();return t>=4||t===0?Cd(n):Cd.ceil(n)}function pq(n,t){return n=v6(n),xn(Cd.count(Ou(n),n)+(Ou(n).getDay()===4),t,2)}function gq(n){return n.getDay()}function mq(n,t){return xn(pv.count(Ou(n)-1,n),t,2)}function vq(n,t){return xn(n.getFullYear()%100,t,2)}function yq(n,t){return n=v6(n),xn(n.getFullYear()%100,t,2)}function bq(n,t){return xn(n.getFullYear()%1e4,t,4)}function wq(n,t){var e=n.getDay();return n=e>=4||e===0?Cd(n):Cd.ceil(n),xn(n.getFullYear()%1e4,t,4)}function Aq(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xn(t/60|0,"0",2)+xn(t%60,"0",2)}function O4(n,t){return xn(n.getUTCDate(),t,2)}function xq(n,t){return xn(n.getUTCHours(),t,2)}function Sq(n,t){return xn(n.getUTCHours()%12||12,t,2)}function _q(n,t){return xn(1+h1.count(Pu(n),n),t,3)}function y6(n,t){return xn(n.getUTCMilliseconds(),t,3)}function Eq(n,t){return y6(n,t)+"000"}function Cq(n,t){return xn(n.getUTCMonth()+1,t,2)}function Tq(n,t){return xn(n.getUTCMinutes(),t,2)}function Oq(n,t){return xn(n.getUTCSeconds(),t,2)}function Pq(n){var t=n.getUTCDay();return t===0?7:t}function Nq(n,t){return xn(d1.count(Pu(n)-1,n),t,2)}function b6(n){var t=n.getUTCDay();return t>=4||t===0?Td(n):Td.ceil(n)}function kq(n,t){return n=b6(n),xn(Td.count(Pu(n),n)+(Pu(n).getUTCDay()===4),t,2)}function Lq(n){return n.getUTCDay()}function Mq(n,t){return xn(gv.count(Pu(n)-1,n),t,2)}function Dq(n,t){return xn(n.getUTCFullYear()%100,t,2)}function Rq(n,t){return n=b6(n),xn(n.getUTCFullYear()%100,t,2)}function Iq(n,t){return xn(n.getUTCFullYear()%1e4,t,4)}function jq(n,t){var e=n.getUTCDay();return n=e>=4||e===0?Td(n):Td.ceil(n),xn(n.getUTCFullYear()%1e4,t,4)}function Bq(){return"+0000"}function P4(){return"%"}function N4(n){return+n}function k4(n){return Math.floor(+n/1e3)}var qf,w6,A6;Fq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fq(n){return qf=FU(n),w6=qf.format,qf.parse,A6=qf.utcFormat,qf.utcParse,qf}function zq(n){return new Date(n)}function Uq(n){return n instanceof Date?+n:+new Date(+n)}function zA(n,t,e,r,i,a,o,l,c,h){var f=CA(),p=f.invert,v=f.domain,g=h(".%L"),w=h(":%S"),y=h("%I:%M"),x=h("%I %p"),S=h("%a %d"),O=h("%b %d"),C=h("%B"),N=h("%Y");function k(R){return(c(R)<R?g:l(R)<R?w:o(R)<R?y:a(R)<R?x:r(R)<R?i(R)<R?S:O:e(R)<R?C:N)(R)}return f.invert=function(R){return new Date(p(R))},f.domain=function(R){return arguments.length?v(Array.from(R,Uq)):v().map(zq)},f.ticks=function(R){var B=v();return n(B[0],B[B.length-1],R??10)},f.tickFormat=function(R,B){return B==null?k:h(B)},f.nice=function(R){var B=v();return(!R||typeof R.range!="function")&&(R=t(B[0],B[B.length-1],R??10)),R?v(o6(B,R)):f},f.copy=function(){return Pg(f,zA(n,t,e,r,i,a,o,l,c,h))},f}function qq(){return ho.apply(zA(jU,BU,Ou,BA,f1,Ng,IA,DA,Ah,w6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hq(){return ho.apply(zA(RU,IU,Pu,FA,d1,h1,jA,RA,Ah,A6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function p1(){var n=0,t=1,e,r,i,a,o=Pa,l=!1,c;function h(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-e)*i,l?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([n,t]=p,e=a(n=+n),r=a(t=+t),i=e===r?0:1/(r-e),h):[n,t]},h.clamp=function(p){return arguments.length?(l=!!p,h):l},h.interpolator=function(p){return arguments.length?(o=p,h):o};function f(p){return function(v){var g,w;return arguments.length?([g,w]=v,o=p(g,w),h):[o(0),o(1)]}}return h.range=f(Md),h.rangeRound=f(EA),h.unknown=function(p){return arguments.length?(c=p,h):c},function(p){return a=p,e=p(n),r=p(t),i=e===r?0:1/(r-e),h}}function Rc(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function x6(){var n=Dc(p1()(Pa));return n.copy=function(){return Rc(n,x6())},Iu.apply(n,arguments)}function S6(){var n=PA(p1()).domain([1,10]);return n.copy=function(){return Rc(n,S6()).base(n.base())},Iu.apply(n,arguments)}function _6(){var n=NA(p1());return n.copy=function(){return Rc(n,_6()).constant(n.constant())},Iu.apply(n,arguments)}function UA(){var n=kA(p1());return n.copy=function(){return Rc(n,UA()).exponent(n.exponent())},Iu.apply(n,arguments)}function $q(){return UA.apply(null,arguments).exponent(.5)}function E6(){var n=[],t=Pa;function e(r){if(r!=null&&!isNaN(r=+r))return t((Tg(n,r,1)-1)/(n.length-1))}return e.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(Oc),e},e.interpolator=function(r){return arguments.length?(t=r,e):t},e.range=function(){return n.map((r,i)=>t(i/(n.length-1)))},e.quantiles=function(r){return Array.from({length:r+1},(i,a)=>P9(n,a/r))},e.copy=function(){return E6(t).domain(n)},Iu.apply(e,arguments)}function g1(){var n=0,t=.5,e=1,r=1,i,a,o,l,c,h=Pa,f,p=!1,v;function g(y){return isNaN(y=+y)?v:(y=.5+((y=+f(y))-a)*(r*y<r*a?l:c),h(p?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([n,t,e]=y,i=f(n=+n),a=f(t=+t),o=f(e=+e),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,g):[n,t,e]},g.clamp=function(y){return arguments.length?(p=!!y,g):p},g.interpolator=function(y){return arguments.length?(h=y,g):h};function w(y){return function(x){var S,O,C;return arguments.length?([S,O,C]=x,h=nU(y,[S,O,C]),g):[h(0),h(.5),h(1)]}}return g.range=w(Md),g.rangeRound=w(EA),g.unknown=function(y){return arguments.length?(v=y,g):v},function(y){return f=y,i=y(n),a=y(t),o=y(e),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function C6(){var n=Dc(g1()(Pa));return n.copy=function(){return Rc(n,C6())},Iu.apply(n,arguments)}function T6(){var n=PA(g1()).domain([.1,1,10]);return n.copy=function(){return Rc(n,T6()).base(n.base())},Iu.apply(n,arguments)}function O6(){var n=NA(g1());return n.copy=function(){return Rc(n,O6()).constant(n.constant())},Iu.apply(n,arguments)}function qA(){var n=kA(g1());return n.copy=function(){return Rc(n,qA()).exponent(n.exponent())},Iu.apply(n,arguments)}function Gq(){return qA.apply(null,arguments).exponent(.5)}const qp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xA,scaleDiverging:C6,scaleDivergingLog:T6,scaleDivergingPow:qA,scaleDivergingSqrt:Gq,scaleDivergingSymlog:O6,scaleIdentity:s6,scaleImplicit:Qw,scaleLinear:a6,scaleLog:l6,scaleOrdinal:AA,scalePoint:L9,scalePow:LA,scaleQuantile:h6,scaleQuantize:f6,scaleRadial:c6,scaleSequential:x6,scaleSequentialLog:S6,scaleSequentialPow:UA,scaleSequentialQuantile:E6,scaleSequentialSqrt:$q,scaleSequentialSymlog:_6,scaleSqrt:EU,scaleSymlog:u6,scaleThreshold:d6,scaleTime:qq,scaleUtc:Hq,tickFormat:i6},Symbol.toStringTag,{value:"Module"}));var Ic=n=>n.chartData,HA=Pt([Ic],n=>{var t=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:t,dataStartIndex:0}}),$A=(n,t,e,r)=>r?HA(n):Ic(n);function Pc(n){if(Array.isArray(n)&&n.length===2){var[t,e]=n;if(Zr(t)&&Zr(e))return!0}return!1}function L4(n,t,e){return e?n:[Math.min(n[0],t[0]),Math.max(n[1],t[1])]}function P6(n,t){if(t&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[e,r]=n,i,a;if(Zr(e))i=e;else if(typeof e=="function")return;if(Zr(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Pc(o))return o}}function Wq(n,t,e){if(!(!e&&t==null)){if(typeof n=="function"&&t!=null)try{var r=n(t,e);if(Pc(r))return L4(r,t,e)}catch{}if(Array.isArray(n)&&n.length===2){var[i,a]=n,o,l;if(i==="auto")t!=null&&(o=Math.min(...t));else if(he(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[0]))}catch{}else if(typeof i=="string"&&aC.test(i)){var c=aC.exec(i);if(c==null||t==null)o=void 0;else{var h=+c[1];o=t[0]-h}}else o=t?.[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(he(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[1]))}catch{}else if(typeof a=="string"&&sC.test(a)){var f=sC.exec(a);if(f==null||t==null)l=void 0;else{var p=+f[1];l=t[1]+p}}else l=t?.[1];var v=[o,l];if(Pc(v))return t==null?v:L4(v,t,e)}}}var Dd=1e9,Vq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WA,yr=!0,lo="[DecimalError] ",Nh=lo+"Invalid argument: ",GA=lo+"Exponent out of range: ",Rd=Math.floor,vh=Math.pow,Yq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Os,Ii=1e7,or=7,N6=9007199254740991,mv=Rd(N6/or),ee={};ee.absoluteValue=ee.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};ee.comparedTo=ee.cmp=function(n){var t,e,r,i,a=this;if(n=new a.constructor(n),a.s!==n.s)return a.s||-n.s;if(a.e!==n.e)return a.e>n.e^a.s<0?1:-1;for(r=a.d.length,i=n.d.length,t=0,e=r<i?r:i;t<e;++t)if(a.d[t]!==n.d[t])return a.d[t]>n.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var n=this,t=n.d.length-1,e=(t-n.e)*or;if(t=n.d[t],t)for(;t%10==0;t/=10)e--;return e<0?0:e};ee.dividedBy=ee.div=function(n){return Su(this,new this.constructor(n))};ee.dividedToIntegerBy=ee.idiv=function(n){var t=this,e=t.constructor;return Xn(Su(t,new e(n),0,1),e.precision)};ee.equals=ee.eq=function(n){return!this.cmp(n)};ee.exponent=function(){return li(this)};ee.greaterThan=ee.gt=function(n){return this.cmp(n)>0};ee.greaterThanOrEqualTo=ee.gte=function(n){return this.cmp(n)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(n){return this.cmp(n)<0};ee.lessThanOrEqualTo=ee.lte=function(n){return this.cmp(n)<1};ee.logarithm=ee.log=function(n){var t,e=this,r=e.constructor,i=r.precision,a=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(Os))throw Error(lo+"NaN");if(e.s<1)throw Error(lo+(e.s?"NaN":"-Infinity"));return e.eq(Os)?new r(0):(yr=!1,t=Su(cg(e,a),cg(n,a),a),yr=!0,Xn(t,i))};ee.minus=ee.sub=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?M6(t,n):k6(t,(n.s=-n.s,n))};ee.modulo=ee.mod=function(n){var t,e=this,r=e.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(lo+"NaN");return e.s?(yr=!1,t=Su(e,n,0,1).times(n),yr=!0,e.minus(t)):Xn(new r(e),i)};ee.naturalExponential=ee.exp=function(){return L6(this)};ee.naturalLogarithm=ee.ln=function(){return cg(this)};ee.negated=ee.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};ee.plus=ee.add=function(n){var t=this;return n=new t.constructor(n),t.s==n.s?k6(t,n):M6(t,(n.s=-n.s,n))};ee.precision=ee.sd=function(n){var t,e,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Nh+n);if(t=li(i)+1,r=i.d.length-1,e=r*or+1,r=i.d[r],r){for(;r%10==0;r/=10)e--;for(r=i.d[0];r>=10;r/=10)e++}return n&&t>e?t:e};ee.squareRoot=ee.sqrt=function(){var n,t,e,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(lo+"NaN")}for(n=li(l),yr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ol(l.d),(t.length+n)%2==0&&(t+="0"),i=Math.sqrt(t),n=Rd((n+1)/2)-(n<0||n%2),i==1/0?t="5e"+n:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+n),r=new c(t)):r=new c(i.toString()),e=c.precision,i=o=e+3;;)if(a=r,r=a.plus(Su(l,a,o+2)).times(.5),Ol(a.d).slice(0,o)===(t=Ol(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Xn(a,e+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return yr=!0,Xn(r,e)};ee.times=ee.mul=function(n){var t,e,r,i,a,o,l,c,h,f=this,p=f.constructor,v=f.d,g=(n=new p(n)).d;if(!f.s||!n.s)return new p(0);for(n.s*=f.s,e=f.e+n.e,c=v.length,h=g.length,c<h&&(a=v,v=g,g=a,o=c,c=h,h=o),a=[],o=c+h,r=o;r--;)a.push(0);for(r=h;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+g[r]*v[i-r-1]+t,a[i--]=l%Ii|0,t=l/Ii|0;a[i]=(a[i]+t)%Ii|0}for(;!a[--o];)a.pop();return t?++e:a.shift(),n.d=a,n.e=e,yr?Xn(n,p.precision):n};ee.toDecimalPlaces=ee.todp=function(n,t){var e=this,r=e.constructor;return e=new r(e),n===void 0?e:(Dl(n,0,Dd),t===void 0?t=r.rounding:Dl(t,0,8),Xn(e,n+li(e)+1,t))};ee.toExponential=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=Rh(r,!0):(Dl(n,0,Dd),t===void 0?t=i.rounding:Dl(t,0,8),r=Xn(new i(r),n+1,t),e=Rh(r,!0,n+1)),e};ee.toFixed=function(n,t){var e,r,i=this,a=i.constructor;return n===void 0?Rh(i):(Dl(n,0,Dd),t===void 0?t=a.rounding:Dl(t,0,8),r=Xn(new a(i),n+li(i)+1,t),e=Rh(r.abs(),!1,n+li(r)+1),i.isneg()&&!i.isZero()?"-"+e:e)};ee.toInteger=ee.toint=function(){var n=this,t=n.constructor;return Xn(new t(n),li(n)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(n){var t,e,r,i,a,o,l=this,c=l.constructor,h=12,f=+(n=new c(n));if(!n.s)return new c(Os);if(l=new c(l),!l.s){if(n.s<1)throw Error(lo+"Infinity");return l}if(l.eq(Os))return l;if(r=c.precision,n.eq(Os))return Xn(l,r);if(t=n.e,e=n.d.length-1,o=t>=e,a=l.s,o){if((e=f<0?-f:f)<=N6){for(i=new c(Os),t=Math.ceil(r/or+4),yr=!1;e%2&&(i=i.times(l),D4(i.d,t)),e=Rd(e/2),e!==0;)l=l.times(l),D4(l.d,t);return yr=!0,n.s<0?new c(Os).div(i):Xn(i,r)}}else if(a<0)throw Error(lo+"NaN");return a=a<0&&n.d[Math.max(t,e)]&1?-1:1,l.s=1,yr=!1,i=n.times(cg(l,r+h)),yr=!0,i=L6(i),i.s=a,i};ee.toPrecision=function(n,t){var e,r,i=this,a=i.constructor;return n===void 0?(e=li(i),r=Rh(i,e<=a.toExpNeg||e>=a.toExpPos)):(Dl(n,1,Dd),t===void 0?t=a.rounding:Dl(t,0,8),i=Xn(new a(i),n,t),e=li(i),r=Rh(i,n<=e||e<=a.toExpNeg,n)),r};ee.toSignificantDigits=ee.tosd=function(n,t){var e=this,r=e.constructor;return n===void 0?(n=r.precision,t=r.rounding):(Dl(n,1,Dd),t===void 0?t=r.rounding:Dl(t,0,8)),Xn(new r(e),n,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,t=li(n),e=n.constructor;return Rh(n,t<=e.toExpNeg||t>=e.toExpPos)};function k6(n,t){var e,r,i,a,o,l,c,h,f=n.constructor,p=f.precision;if(!n.s||!t.s)return t.s||(t=new f(n)),yr?Xn(t,p):t;if(c=n.d,h=t.d,o=n.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=h.length):(r=h,i=o,l=c.length),o=Math.ceil(p/or),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=h.length,l-a<0&&(a=l,r=h,h=c,c=r),e=0;a;)e=(c[--a]=c[a]+h[a]+e)/Ii|0,c[a]%=Ii;for(e&&(c.unshift(e),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,yr?Xn(t,p):t}function Dl(n,t,e){if(n!==~~n||n<t||n>e)throw Error(Nh+n)}function Ol(n){var t,e,r,i=n.length-1,a="",o=n[0];if(i>0){for(a+=o,t=1;t<i;t++)r=n[t]+"",e=or-r.length,e&&(a+=xc(e)),a+=r;o=n[t],r=o+"",e=or-r.length,e&&(a+=xc(e))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Su=(function(){function n(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%Ii|0,o=a/Ii|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function e(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ii+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,h,f,p,v,g,w,y,x,S,O,C,N,k,R,B,H,q=r.constructor,rt=r.s==i.s?1:-1,D=r.d,z=i.d;if(!r.s)return new q(r);if(!i.s)throw Error(lo+"Division by zero");for(c=r.e-i.e,B=z.length,k=D.length,g=new q(rt),w=g.d=[],h=0;z[h]==(D[h]||0);)++h;if(z[h]>(D[h]||0)&&--c,a==null?O=a=q.precision:o?O=a+(li(r)-li(i))+1:O=a,O<0)return new q(0);if(O=O/or+2|0,h=0,B==1)for(f=0,z=z[0],O++;(h<k||f)&&O--;h++)C=f*Ii+(D[h]||0),w[h]=C/z|0,f=C%z|0;else{for(f=Ii/(z[0]+1)|0,f>1&&(z=n(z,f),D=n(D,f),B=z.length,k=D.length),N=B,y=D.slice(0,B),x=y.length;x<B;)y[x++]=0;H=z.slice(),H.unshift(0),R=z[0],z[1]>=Ii/2&&++R;do f=0,l=t(z,y,B,x),l<0?(S=y[0],B!=x&&(S=S*Ii+(y[1]||0)),f=S/R|0,f>1?(f>=Ii&&(f=Ii-1),p=n(z,f),v=p.length,x=y.length,l=t(p,y,v,x),l==1&&(f--,e(p,B<v?H:z,v))):(f==0&&(l=f=1),p=z.slice()),v=p.length,v<x&&p.unshift(0),e(y,p,x),l==-1&&(x=y.length,l=t(z,y,B,x),l<1&&(f++,e(y,B<x?H:z,x))),x=y.length):l===0&&(f++,y=[0]),w[h++]=f,l&&y[0]?y[x++]=D[N]||0:(y=[D[N]],x=1);while((N++<k||y[0]!==void 0)&&O--)}return w[0]||w.shift(),g.e=c,Xn(g,o?a+li(g)+1:a)}})();function L6(n,t){var e,r,i,a,o,l,c=0,h=0,f=n.constructor,p=f.precision;if(li(n)>16)throw Error(GA+li(n));if(!n.s)return new f(Os);for(yr=!1,l=p,o=new f(.03125);n.abs().gte(.1);)n=n.times(o),h+=5;for(r=Math.log(vh(2,h))/Math.LN10*2+5|0,l+=r,e=i=a=new f(Os),f.precision=l;;){if(i=Xn(i.times(n),l),e=e.times(++c),o=a.plus(Su(i,e,l)),Ol(o.d).slice(0,l)===Ol(a.d).slice(0,l)){for(;h--;)a=Xn(a.times(a),l);return f.precision=p,t==null?(yr=!0,Xn(a,p)):a}a=o}}function li(n){for(var t=n.e*or,e=n.d[0];e>=10;e/=10)t++;return t}function A2(n,t,e){if(t>n.LN10.sd())throw yr=!0,e&&(n.precision=e),Error(lo+"LN10 precision limit exceeded");return Xn(new n(n.LN10),t)}function xc(n){for(var t="";n--;)t+="0";return t}function cg(n,t){var e,r,i,a,o,l,c,h,f,p=1,v=10,g=n,w=g.d,y=g.constructor,x=y.precision;if(g.s<1)throw Error(lo+(g.s?"NaN":"-Infinity"));if(g.eq(Os))return new y(0);if(t==null?(yr=!1,h=x):h=t,g.eq(10))return t==null&&(yr=!0),A2(y,h);if(h+=v,y.precision=h,e=Ol(w),r=e.charAt(0),a=li(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&e.charAt(1)>3;)g=g.times(n),e=Ol(g.d),r=e.charAt(0),p++;a=li(g),r>1?(g=new y("0."+e),a++):g=new y(r+"."+e.slice(1))}else return c=A2(y,h+2,x).times(a+""),g=cg(new y(r+"."+e.slice(1)),h-v).plus(c),y.precision=x,t==null?(yr=!0,Xn(g,x)):g;for(l=o=g=Su(g.minus(Os),g.plus(Os),h),f=Xn(g.times(g),h),i=3;;){if(o=Xn(o.times(f),h),c=l.plus(Su(o,new y(i),h)),Ol(c.d).slice(0,h)===Ol(l.d).slice(0,h))return l=l.times(2),a!==0&&(l=l.plus(A2(y,h+2,x).times(a+""))),l=Su(l,new y(p),h),y.precision=x,t==null?(yr=!0,Xn(l,x)):l;l=c,i+=2}}function M4(n,t){var e,r,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,e=e-r-1,n.e=Rd(e/or),n.d=[],r=(e+1)%or,e<0&&(r+=or),r<i){for(r&&n.d.push(+t.slice(0,r)),i-=or;r<i;)n.d.push(+t.slice(r,r+=or));t=t.slice(r),r=or-t.length}else r-=i;for(;r--;)t+="0";if(n.d.push(+t),yr&&(n.e>mv||n.e<-mv))throw Error(GA+e)}else n.s=0,n.e=0,n.d=[0];return n}function Xn(n,t,e){var r,i,a,o,l,c,h,f,p=n.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=or,i=t,h=p[f=0];else{if(f=Math.ceil((r+1)/or),a=p.length,f>=a)return n;for(h=a=p[f],o=1;a>=10;a/=10)o++;r%=or,i=r-or+o}if(e!==void 0&&(a=vh(10,o-i-1),l=h/a%10|0,c=t<0||p[f+1]!==void 0||h%a,c=e<4?(l||c)&&(e==0||e==(n.s<0?3:2)):l>5||l==5&&(e==4||c||e==6&&(r>0?i>0?h/vh(10,o-i):0:p[f-1])%10&1||e==(n.s<0?8:7))),t<1||!p[0])return c?(a=li(n),p.length=1,t=t-a-1,p[0]=vh(10,(or-t%or)%or),n.e=Rd(-t/or)||0):(p.length=1,p[0]=n.e=n.s=0),n;if(r==0?(p.length=f,a=1,f--):(p.length=f+1,a=vh(10,or-r),p[f]=i>0?(h/vh(10,o-i)%vh(10,i)|0)*a:0),c)for(;;)if(f==0){(p[0]+=a)==Ii&&(p[0]=1,++n.e);break}else{if(p[f]+=a,p[f]!=Ii)break;p[f--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(yr&&(n.e>mv||n.e<-mv))throw Error(GA+li(n));return n}function M6(n,t){var e,r,i,a,o,l,c,h,f,p,v=n.constructor,g=v.precision;if(!n.s||!t.s)return t.s?t.s=-t.s:t=new v(n),yr?Xn(t,g):t;if(c=n.d,p=t.d,r=t.e,h=n.e,c=c.slice(),o=h-r,o){for(f=o<0,f?(e=c,o=-o,l=p.length):(e=p,r=h,l=c.length),i=Math.max(Math.ceil(g/or),l)+2,o>i&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(e=c,c=p,p=e,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Ii-1;--c[a],c[i]+=Ii}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,yr?Xn(t,g):t):new v(0)}function Rh(n,t,e){var r,i=li(n),a=Ol(n.d),o=a.length;return t?(e&&(r=e-o)>0?a=a.charAt(0)+"."+a.slice(1)+xc(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xc(-i-1)+a,e&&(r=e-o)>0&&(a+=xc(r))):i>=o?(a+=xc(i+1-o),e&&(r=e-i-1)>0&&(a=a+"."+xc(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),e&&(r=e-o)>0&&(i+1===o&&(a+="."),a+=xc(r))),n.s<0?"-"+a:a}function D4(n,t){if(n.length>t)return n.length=t,!0}function D6(n){var t,e,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Nh+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return M4(o,a.toString())}else if(typeof a!="string")throw Error(Nh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Yq.test(a))M4(o,a);else throw Error(Nh+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D6,i.config=i.set=Kq,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)n.hasOwnProperty(e=r[t++])||(n[e]=this[e]);return i.config(n),i}function Kq(n){if(!n||typeof n!="object")throw Error(lo+"Object expected");var t,e,r,i=["precision",1,Dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=n[e=i[t]])!==void 0)if(Rd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[e]=r;else throw Error(Nh+e+": "+r);if((r=n[e="LN10"])!==void 0)if(r==Math.LN10)this[e]=new this(r);else throw Error(Nh+e+": "+r);return this}var WA=D6(Vq);Os=new WA(1);const Dn=WA;var Xq=n=>n,R6={},I6=n=>n===R6,R4=n=>function t(){return arguments.length===0||arguments.length===1&&I6(arguments.length<=0?void 0:arguments[0])?t:n(...arguments)},j6=(n,t)=>n===1?t:R4(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=r.filter(o=>o!==R6).length;return a>=n?t(...r):j6(n-a,R4(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var h=r.map(f=>I6(f)?l.shift():f);return t(...h,...l)}))}),Zq=n=>j6(n.length,n),n5=(n,t)=>{for(var e=[],r=n;r<t;++r)e[r-n]=r;return e},Qq=Zq((n,t)=>Array.isArray(t)?t.map(n):Object.keys(t).map(e=>t[e]).map(n)),Jq=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(!e.length)return Xq;var i=e.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),a(...arguments))}},r5=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function B6(n){var t;return n===0?t=1:t=Math.floor(new Dn(n).abs().log(10).toNumber())+1,t}function F6(n,t,e){for(var r=new Dn(n),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(e),i++;return a}var z6=n=>{var[t,e]=n,[r,i]=[t,e];return t>e&&([r,i]=[e,t]),[r,i]},U6=(n,t,e)=>{if(n.lte(0))return new Dn(0);var r=B6(n.toNumber()),i=new Dn(10).pow(r),a=n.div(i),o=r!==1?.05:.1,l=new Dn(Math.ceil(a.div(o).toNumber())).add(e).mul(o),c=l.mul(i);return t?new Dn(c.toNumber()):new Dn(Math.ceil(c.toNumber()))},tH=(n,t,e)=>{var r=new Dn(1),i=new Dn(n);if(!i.isint()&&e){var a=Math.abs(n);a<1?(r=new Dn(10).pow(B6(n)-1),i=new Dn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Dn(Math.floor(n)))}else n===0?i=new Dn(Math.floor((t-1)/2)):e||(i=new Dn(Math.floor(n)));var o=Math.floor((t-1)/2),l=Jq(Qq(c=>i.add(new Dn(c-o).mul(r)).toNumber()),n5);return l(0,t)},q6=function(t,e,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var o=U6(new Dn(e).sub(t).div(r-1),i,a),l;t<=0&&e>=0?l=new Dn(0):(l=new Dn(t).add(e).div(2),l=l.sub(new Dn(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),h=Math.ceil(new Dn(e).sub(l).div(o).toNumber()),f=c+h+1;return f>r?q6(t,e,r,i,a+1):(f<r&&(h=e>0?h+(r-f):h,c=e>0?c:c+(r-f)),{step:o,tickMin:l.sub(new Dn(c).mul(o)),tickMax:l.add(new Dn(h).mul(o))})},eH=function(t){var[e,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[l,c]=z6([e,r]);if(l===-1/0||c===1/0){var h=c===1/0?[l,...n5(0,i-1).map(()=>1/0)]:[...n5(0,i-1).map(()=>-1/0),c];return e>r?r5(h):h}if(l===c)return tH(l,i,a);var{step:f,tickMin:p,tickMax:v}=q6(l,c,o,a,0),g=F6(p,v.add(new Dn(.1).mul(f)),f);return e>r?r5(g):g},nH=function(t,e){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=z6([r,i]);if(o===-1/0||l===1/0)return[r,i];if(o===l)return[o];var c=Math.max(e,2),h=U6(new Dn(l).sub(o).div(c-1),a,0),f=[...F6(new Dn(o),new Dn(l),h),l];return a===!1&&(f=f.map(p=>Math.round(p))),r>i?r5(f):f},H6=n=>n.rootProps.maxBarSize,rH=n=>n.rootProps.barGap,$6=n=>n.rootProps.barCategoryGap,iH=n=>n.rootProps.barSize,kg=n=>n.rootProps.stackOffset,G6=n=>n.rootProps.reverseStackOrder,VA=n=>n.options.chartName,YA=n=>n.rootProps.syncId,W6=n=>n.rootProps.syncMethod,KA=n=>n.options.eventEmitter,ea={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},yu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Cs={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},m1=(n,t)=>{if(!(!n||!t))return n!=null&&n.reversed?[t[1],t[0]]:t},aH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yu.angleAxisId,includeHidden:!1,name:void 0,reversed:yu.reversed,scale:yu.scale,tick:yu.tick,tickCount:void 0,ticks:void 0,type:yu.type,unit:void 0},sH={allowDataOverflow:Cs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cs.scale,tick:Cs.tick,tickCount:Cs.tickCount,ticks:void 0,type:Cs.type,unit:void 0},oH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yu.scale,tick:yu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lH={allowDataOverflow:Cs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Cs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Cs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Cs.scale,tick:Cs.tick,tickCount:Cs.tickCount,ticks:void 0,type:"category",unit:void 0},XA=(n,t)=>n.polarAxis.angleAxis[t]!=null?n.polarAxis.angleAxis[t]:n.layout.layoutType==="radial"?oH:aH,ZA=(n,t)=>n.polarAxis.radiusAxis[t]!=null?n.polarAxis.radiusAxis[t]:n.layout.layoutType==="radial"?lH:sH,v1=n=>n.polarOptions,QA=Pt([Du,Ru,wi],$k),V6=Pt([v1,QA],(n,t)=>{if(n!=null)return da(n.innerRadius,t,0)}),Y6=Pt([v1,QA],(n,t)=>{if(n!=null)return da(n.outerRadius,t,t*.8)}),uH=n=>{if(n==null)return[0,0];var{startAngle:t,endAngle:e}=n;return[t,e]},K6=Pt([v1],uH);Pt([XA,K6],m1);var X6=Pt([QA,V6,Y6],(n,t,e)=>{if(!(n==null||t==null||e==null))return[t,e]});Pt([ZA,X6],m1);var Z6=Pt([Sn,v1,V6,Y6,Du,Ru],(n,t,e,r,i,a)=>{if(!(n!=="centric"&&n!=="radial"||t==null||e==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:h}=t;return{cx:da(o,i,i/2),cy:da(l,a,a/2),innerRadius:e,outerRadius:r,startAngle:c,endAngle:h,clockWise:!1}}}),br=(n,t)=>t,Lg=(n,t,e)=>e;function JA(n){return n?.id}function Q6(n,t,e){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=e,o=new Map;return n.forEach(l=>{var c,h=(c=l.data)!==null&&c!==void 0?c:r;if(!(h==null||h.length===0)){var f=JA(l);h.forEach((p,v)=>{var g=a==null||i?v:String(vr(p,a,null)),w=vr(p,l.dataKey,0),y;o.has(g)?y=o.get(g):y={},Object.assign(y,{[f]:w}),o.set(g,y)})}}),Array.from(o.values())}function y1(n){return n.stackId!=null&&n.dataKey!=null}var b1=(n,t)=>n===t?!0:n==null||t==null?!1:n[0]===t[0]&&n[1]===t[1];function w1(n,t){return Array.isArray(n)&&Array.isArray(t)&&n.length===0&&t.length===0?!0:n===t}function cH(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}return!1}var xi=n=>{var t=Sn(n);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Id=n=>n.tooltip.settings.axisId;function I4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function vv(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(e),!0).forEach(function(r){hH(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):I4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function hH(n,t,e){return(t=fH(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function fH(n){var t=dH(n,"string");return typeof t=="symbol"?t:t+""}function dH(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var i5=[0,"auto"],Li={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},J6=(n,t)=>n.cartesianAxis.xAxis[t],ju=(n,t)=>{var e=J6(n,t);return e??Li},Mi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:i5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eg},tL=(n,t)=>n.cartesianAxis.yAxis[t],Bu=(n,t)=>{var e=tL(n,t);return e??Mi},pH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tx=(n,t)=>{var e=n.cartesianAxis.zAxis[t];return e??pH},Pr=(n,t,e)=>{switch(t){case"xAxis":return ju(n,e);case"yAxis":return Bu(n,e);case"zAxis":return tx(n,e);case"angleAxis":return XA(n,e);case"radiusAxis":return ZA(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},gH=(n,t,e)=>{switch(t){case"xAxis":return ju(n,e);case"yAxis":return Bu(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},Mg=(n,t,e)=>{switch(t){case"xAxis":return ju(n,e);case"yAxis":return Bu(n,e);case"angleAxis":return XA(n,e);case"radiusAxis":return ZA(n,e);default:throw new Error("Unexpected axis type: ".concat(t))}},eL=n=>n.graphicalItems.cartesianItems.some(t=>t.type==="bar")||n.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ex(n,t){return e=>{switch(n){case"xAxis":return"xAxisId"in e&&e.xAxisId===t;case"yAxis":return"yAxisId"in e&&e.yAxisId===t;case"zAxis":return"zAxisId"in e&&e.zAxisId===t;case"angleAxis":return"angleAxisId"in e&&e.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in e&&e.radiusAxisId===t;default:return!1}}}var nx=n=>n.graphicalItems.cartesianItems,mH=Pt([br,Lg],ex),rx=(n,t,e)=>n.filter(e).filter(r=>t?.includeHidden===!0?!0:!r.hide),Dg=Pt([nx,Pr,mH],rx,{memoizeOptions:{resultEqualityCheck:w1}}),nL=Pt([Dg],n=>n.filter(t=>t.type==="area"||t.type==="bar").filter(y1)),rL=n=>n.filter(t=>!("stackId"in t)||t.stackId===void 0),vH=Pt([Dg],rL),ix=n=>n.map(t=>t.data).filter(Boolean).flat(1),yH=Pt([Dg],ix,{memoizeOptions:{resultEqualityCheck:w1}}),ax=(n,t)=>{var{chartData:e=[],dataStartIndex:r,dataEndIndex:i}=t;return n.length>0?n:e.slice(r,i+1)},sx=Pt([yH,$A],ax),ox=(n,t,e)=>t?.dataKey!=null?n.map(r=>({value:vr(r,t.dataKey)})):e.length>0?e.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:vr(i,r)}))):n.map(r=>({value:r})),A1=Pt([sx,Pr,Dg],ox);function iL(n,t){switch(n){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function C0(n){if(kl(n)||n instanceof Date){var t=Number(n);if(Zr(t))return t}}function j4(n){if(Array.isArray(n)){var t=[C0(n[0]),C0(n[1])];return Pc(t)?t:void 0}var e=C0(n);if(e!=null)return[e,e]}function Nu(n){return n.map(C0).filter(fj)}function bH(n,t,e){return!e||typeof t!="number"||Yo(t)?[]:e.length?Nu(e.flatMap(r=>{var i=vr(n,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Zr(a)||!Zr(o)))return[t-a,t+o]})):[]}var Si=n=>{var t=xi(n),e=Id(n);return Mg(n,t,e)},Rg=Pt([Si],n=>n?.dataKey),wH=Pt([nL,$A,Si],Q6),aL=(n,t,e,r)=>{var i={},a=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),i);return Object.fromEntries(Object.entries(a).map(o=>{var[l,c]=o,h=r?[...c].reverse():c,f=h.map(JA);return[l,{stackedData:zB(n,f,e),graphicalItems:h}]}))},a5=Pt([wH,nL,kg,G6],aL),sL=(n,t,e,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&e!=="zAxis"){var o=GB(n,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},AH=Pt([Pr],n=>n.allowDataOverflow),lx=n=>{var t;if(n==null||!("domain"in n))return i5;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var e=Nu(n.ticks);return[Math.min(...e),Math.max(...e)]}if(n.type==="category")return n.ticks.map(String)}return(t=n?.domain)!==null&&t!==void 0?t:i5},ux=Pt([Pr],lx),cx=Pt([ux,AH],P6),xH=Pt([a5,Ic,br,cx],sL,{memoizeOptions:{resultEqualityCheck:b1}}),x1=n=>n.errorBars,SH=(n,t,e)=>n.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>iL(e,r)),yv=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),l=Math.max(...a);return[o,l]}},hx=(n,t,e,r,i)=>{var a,o;if(e.length>0&&n.forEach(l=>{e.forEach(c=>{var h,f,p=(h=r[c.id])===null||h===void 0?void 0:h.filter(S=>iL(i,S)),v=vr(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey),g=bH(l,v,p);if(g.length>=2){var w=Math.min(...g),y=Math.max(...g);(a==null||w<a)&&(a=w),(o==null||y>o)&&(o=y)}var x=j4(v);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),t?.dataKey!=null&&n.forEach(l=>{var c=j4(vr(l,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),Zr(a)&&Zr(o))return[a,o]},_H=Pt([sx,Pr,vH,x1,br],hx,{memoizeOptions:{resultEqualityCheck:b1}});function EH(n){var{value:t}=n;if(kl(t)||t instanceof Date)return t}var CH=(n,t,e)=>{var r=n.map(EH).filter(i=>i!=null);return e&&(t.dataKey==null||t.allowDuplicatedCategory&&_N(r))?Yk(0,n.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},oL=n=>n.referenceElements.dots,jd=(n,t,e)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===e:r.yAxisId===e),TH=Pt([oL,br,Lg],jd),lL=n=>n.referenceElements.areas,OH=Pt([lL,br,Lg],jd),uL=n=>n.referenceElements.lines,PH=Pt([uL,br,Lg],jd),cL=(n,t)=>{var e=Nu(n.map(r=>t==="xAxis"?r.x:r.y));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},NH=Pt(TH,br,cL),hL=(n,t)=>{var e=Nu(n.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},kH=Pt([OH,br],hL);function LH(n){var t;if(n.x!=null)return Nu([n.x]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(r=>r.x);return e==null||e.length===0?[]:Nu(e)}function MH(n){var t;if(n.y!=null)return Nu([n.y]);var e=(t=n.segment)===null||t===void 0?void 0:t.map(r=>r.y);return e==null||e.length===0?[]:Nu(e)}var fL=(n,t)=>{var e=n.flatMap(r=>t==="xAxis"?LH(r):MH(r));if(e.length!==0)return[Math.min(...e),Math.max(...e)]},DH=Pt([PH,br],fL),RH=Pt(NH,DH,kH,(n,t,e)=>yv(n,e,t)),fx=(n,t,e,r,i,a,o,l)=>{if(e!=null)return e;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",h=c?yv(r,a,i):yv(a,i);return Wq(t,h,n.allowDataOverflow)},IH=Pt([Pr,ux,cx,xH,_H,RH,Sn,br],fx,{memoizeOptions:{resultEqualityCheck:b1}}),jH=[0,1],dx=(n,t,e,r,i,a,o)=>{if(!((n==null||e==null||e.length===0)&&o===void 0)){var{dataKey:l,type:c}=n,h=Hh(t,a);if(h&&l==null){var f;return Yk(0,(f=e?.length)!==null&&f!==void 0?f:0)}return c==="category"?CH(r,n,h):i==="expand"?jH:o}},px=Pt([Pr,Sn,sx,A1,kg,br,IH],dx),dL=(n,t,e,r,i)=>{if(n!=null){var{scale:a,type:o}=n;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(bg(a));return l in qp?l:"point"}}},Bd=Pt([Pr,Sn,eL,VA,br],dL);function BH(n){if(n!=null){if(n in qp)return qp[n]();var t="scale".concat(bg(n));if(t in qp)return qp[t]()}}function gx(n,t,e,r){if(!(e==null||r==null)){if(typeof n.scale=="function")return n.scale.copy().domain(e).range(r);var i=BH(t);if(i!=null){var a=i.domain(e).range(r);return RB(a),a}}}var mx=(n,t,e)=>{var r=lx(t);if(!(e!=="auto"&&e!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Pc(n))return eH(n,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Pc(n))return nH(n,t.tickCount,t.allowDecimals)}},vx=Pt([px,Mg,Bd],mx),yx=(n,t,e,r)=>{if(r!=="angleAxis"&&n?.type==="number"&&Pc(t)&&Array.isArray(e)&&e.length>0){var i=t[0],a=e[0],o=t[1],l=e[e.length-1];return[Math.min(i,a),Math.max(o,l)]}return t},FH=Pt([Pr,px,vx,br],yx),zH=Pt(A1,Pr,(n,t)=>{if(!(!t||t.type!=="number")){var e=1/0,r=Array.from(Nu(n.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];e=Math.min(e,o)}return e/i}}),pL=Pt(zH,Sn,$6,wi,(n,t,e,r)=>r,(n,t,e,r,i)=>{if(!Zr(n))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return n*a/2;if(i==="no-gap"){var o=da(e,n*a),l=n*a/2;return l-o-(l-o)/a*o}return 0}),UH=(n,t)=>{var e=ju(n,t);return e==null||typeof e.padding!="string"?0:pL(n,"xAxis",t,e.padding)},qH=(n,t)=>{var e=Bu(n,t);return e==null||typeof e.padding!="string"?0:pL(n,"yAxis",t,e.padding)},HH=Pt(ju,UH,(n,t)=>{var e,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:t,right:t}:{left:((e=i.left)!==null&&e!==void 0?e:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),$H=Pt(Bu,qH,(n,t)=>{var e,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:t,bottom:t}:{top:((e=i.top)!==null&&e!==void 0?e:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),GH=Pt([wi,HH,e1,t1,(n,t,e)=>e],(n,t,e,r,i)=>{var{padding:a}=r;return i?[a.left,e.width-a.right]:[n.left+t.left,n.left+n.width-t.right]}),WH=Pt([wi,Sn,$H,e1,t1,(n,t,e)=>e],(n,t,e,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[n.top+n.height-e.bottom,n.top+e.top]:[n.top+e.top,n.top+n.height-e.bottom]}),Ig=(n,t,e,r)=>{var i;switch(t){case"xAxis":return GH(n,e,r);case"yAxis":return WH(n,e,r);case"zAxis":return(i=tx(n,e))===null||i===void 0?void 0:i.range;case"angleAxis":return K6(n);case"radiusAxis":return X6(n,e);default:return}},gL=Pt([Pr,Ig],m1),Fd=Pt([Pr,Bd,FH,gL],gx);Pt([Dg,x1,br],SH);function mL(n,t){return n.id<t.id?-1:n.id>t.id?1:0}var S1=(n,t)=>t,_1=(n,t,e)=>e,VH=Pt(Qv,S1,_1,(n,t,e)=>n.filter(r=>r.orientation===t).filter(r=>r.mirror===e).sort(mL)),YH=Pt(Jv,S1,_1,(n,t,e)=>n.filter(r=>r.orientation===t).filter(r=>r.mirror===e).sort(mL)),vL=(n,t)=>({width:n.width,height:t.height}),KH=(n,t)=>{var e=typeof t.width=="number"?t.width:Eg;return{width:e,height:n.height}},yL=Pt(wi,ju,vL),XH=(n,t,e)=>{switch(t){case"top":return n.top;case"bottom":return e-n.bottom;default:return 0}},ZH=(n,t,e)=>{switch(t){case"left":return n.left;case"right":return e-n.right;default:return 0}},QH=Pt(Ru,wi,VH,S1,_1,(n,t,e,r,i)=>{var a={},o;return e.forEach(l=>{var c=vL(t,l);o==null&&(o=XH(t,r,n));var h=r==="top"&&!i||r==="bottom"&&i;a[l.id]=o-Number(h)*c.height,o+=(h?-1:1)*c.height}),a}),JH=Pt(Du,wi,YH,S1,_1,(n,t,e,r,i)=>{var a={},o;return e.forEach(l=>{var c=KH(t,l);o==null&&(o=ZH(t,r,n));var h=r==="left"&&!i||r==="right"&&i;a[l.id]=o-Number(h)*c.width,o+=(h?-1:1)*c.width}),a}),t$=(n,t)=>{var e=ju(n,t);if(e!=null)return QH(n,e.orientation,e.mirror)},e$=Pt([wi,ju,t$,(n,t)=>t],(n,t,e,r)=>{if(t!=null){var i=e?.[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),n$=(n,t)=>{var e=Bu(n,t);if(e!=null)return JH(n,e.orientation,e.mirror)},r$=Pt([wi,Bu,n$,(n,t)=>t],(n,t,e,r)=>{if(t!=null){var i=e?.[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),bL=Pt(wi,Bu,(n,t)=>{var e=typeof t.width=="number"?t.width:Eg;return{width:e,height:n.height}}),B4=(n,t,e)=>{switch(t){case"xAxis":return yL(n,e).width;case"yAxis":return bL(n,e).height;default:return}},wL=(n,t,e,r)=>{if(e!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=e,l=Hh(n,r),c=t.map(h=>h.value);if(o&&l&&a==="category"&&i&&_N(c))return c}},bx=Pt([Sn,A1,Pr,br],wL),AL=(n,t,e,r)=>{if(!(e==null||e.dataKey==null)){var{type:i,scale:a}=e,o=Hh(n,r);if(o&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},wx=Pt([Sn,A1,Mg,br],AL),F4=Pt([Sn,gH,Bd,Fd,bx,wx,Ig,vx,br],(n,t,e,r,i,a,o,l,c)=>{if(t!=null){var h=Hh(n,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:l,range:o,realScaleType:e,scale:r}}}),i$=(n,t,e,r,i,a,o,l,c)=>{if(!(t==null||r==null)){var h=Hh(n,c),{type:f,ticks:p,tickCount:v}=t,g=e==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=f==="category"&&r.bandwidth?r.bandwidth()/g:0;w=c==="angleAxis"&&a!=null&&a.length>=2?Bi(a[0]-a[1])*2*w:w;var y=p||i;if(y){var x=y.map((S,O)=>{var C=o?o.indexOf(S):S;return{index:O,coordinate:r(C)+w,value:S,offset:w}});return x.filter(S=>Zr(S.coordinate))}return h&&l?l.map((S,O)=>({coordinate:r(S)+w,value:S,index:O,offset:w})).filter(S=>Zr(S.coordinate)):r.ticks?r.ticks(v).map(S=>({coordinate:r(S)+w,value:S,offset:w})):r.domain().map((S,O)=>({coordinate:r(S)+w,value:o?o[S]:S,index:O,offset:w}))}},xL=Pt([Sn,Mg,Bd,Fd,vx,Ig,bx,wx,br],i$),a$=(n,t,e,r,i,a,o)=>{if(!(t==null||e==null||r==null||r[0]===r[1])){var l=Hh(n,o),{tickCount:c}=t,h=0;return h=o==="angleAxis"&&r?.length>=2?Bi(r[0]-r[1])*2*h:h,l&&a?a.map((f,p)=>({coordinate:e(f)+h,value:f,index:p,offset:h})):e.ticks?e.ticks(c).map(f=>({coordinate:e(f)+h,value:f,offset:h})):e.domain().map((f,p)=>({coordinate:e(f)+h,value:i?i[f]:f,index:p,offset:h}))}},Od=Pt([Sn,Mg,Fd,Ig,bx,wx,br],a$),Pd=Pt(Pr,Fd,(n,t)=>{if(!(n==null||t==null))return vv(vv({},n),{},{scale:t})}),s$=Pt([Pr,Bd,px,gL],gx);Pt((n,t,e)=>tx(n,e),s$,(n,t)=>{if(!(n==null||t==null))return vv(vv({},n),{},{scale:t})});var o$=Pt([Sn,Qv,Jv],(n,t,e)=>{switch(n){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return e.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),SL=n=>n.options.defaultTooltipEventType,_L=n=>n.options.validateTooltipEventTypes;function EL(n,t,e){if(n==null)return t;var r=n?"axis":"item";return e==null?t:e.includes(r)?r:t}function Ax(n,t){var e=SL(n),r=_L(n);return EL(t,e,r)}function l$(n){return ce(t=>Ax(t,n))}var CL=(n,t)=>{var e,r=Number(t);if(!(Yo(r)||t==null))return r>=0?n==null||(e=n[r])===null||e===void 0?void 0:e.value:void 0},u$=n=>n.tooltip.settings,_c={active:!1,index:null,dataKey:void 0,coordinate:void 0},c$={itemInteraction:{click:_c,hover:_c},axisInteraction:{click:_c,hover:_c},keyboardInteraction:_c,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TL=rs({name:"tooltip",initialState:c$,reducers:{addTooltipEntrySettings:{reducer(n,t){n.tooltipItemPayloads.push(t.payload)},prepare:mr()},replaceTooltipEntrySettings:{reducer(n,t){var{prev:e,next:r}=t.payload,i=Wo(n).tooltipItemPayloads.indexOf(e);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:mr()},removeTooltipEntrySettings:{reducer(n,t){var e=Wo(n).tooltipItemPayloads.indexOf(t.payload);e>-1&&n.tooltipItemPayloads.splice(e,1)},prepare:mr()},setTooltipSettingsState(n,t){n.settings=t.payload},setActiveMouseOverItemIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=t.payload.activeIndex,n.itemInteraction.hover.dataKey=t.payload.activeDataKey,n.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,t){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=t.payload.activeIndex,n.itemInteraction.click.dataKey=t.payload.activeDataKey,n.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(n,t){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=t.payload.activeIndex,n.axisInteraction.hover.dataKey=t.payload.activeDataKey,n.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(n,t){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=t.payload.activeIndex,n.axisInteraction.click.dataKey=t.payload.activeDataKey,n.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(n,t){n.syncInteraction=t.payload},setKeyboardInteraction(n,t){n.keyboardInteraction.active=t.payload.active,n.keyboardInteraction.index=t.payload.activeIndex,n.keyboardInteraction.coordinate=t.payload.activeCoordinate,n.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:h$,replaceTooltipEntrySettings:f$,removeTooltipEntrySettings:d$,setTooltipSettingsState:p$,setActiveMouseOverItemIndex:OL,mouseLeaveItem:g$,mouseLeaveChart:PL,setActiveClickItemIndex:m$,setMouseOverAxisIndex:NL,setMouseClickAxisIndex:v$,setSyncInteraction:s5,setKeyboardInteraction:o5}=TL.actions,y$=TL.reducer;function z4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function e0(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(e),!0).forEach(function(r){b$(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):z4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function b$(n,t,e){return(t=w$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function w$(n){var t=A$(n,"string");return typeof t=="symbol"?t:t+""}function A$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function x$(n,t,e){return t==="axis"?e==="click"?n.axisInteraction.click:n.axisInteraction.hover:e==="click"?n.itemInteraction.click:n.itemInteraction.hover}function S$(n){return n.index!=null}var kL=(n,t,e,r)=>{if(t==null)return _c;var i=x$(n,t,e);if(i==null)return _c;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var a=n.settings.active===!0;if(S$(i)){if(a)return e0(e0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return e0(e0({},_c),{},{coordinate:i.coordinate})};function _$(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var t=n.valueOf();return Number.isFinite(t)?t:void 0}var e=Number(n);return Number.isFinite(e)?e:void 0}function E$(n,t){var e=_$(n),r=t[0],i=t[1];if(e===void 0)return!1;var a=Math.min(r,i),o=Math.max(r,i);return e>=a&&e<=o}function C$(n,t,e){if(e==null||t==null)return!0;var r=vr(n,t);return r==null||!Pc(e)?!0:E$(r,e)}var xx=(n,t,e,r)=>{var i=n?.index;if(i==null)return null;var a=Number(i);if(!Zr(a))return i;var o=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(o,Math.min(a,l)),h=t[c];return h==null||C$(h,e,r)?String(c):null},LL=(n,t,e,r,i,a,o,l)=>{if(!(a==null||l==null)){var c=o[0],h=c==null?void 0:l(c.positions,a);if(h!=null)return h;var f=i?.[Number(a)];if(f)switch(e){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+n)/2,y:f.coordinate}}}},ML=(n,t,e,r)=>{if(t==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;return e==="hover"?i=n.itemInteraction.hover.dataKey:i=n.itemInteraction.click.dataKey,i==null&&r!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},jg=n=>n.options.tooltipPayloadSearcher,zd=n=>n.tooltip;function U4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function q4(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(e),!0).forEach(function(r){T$(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):U4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function T$(n,t,e){return(t=O$(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function O$(n){var t=P$(n,"string");return typeof t=="symbol"?t:t+""}function P$(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function N$(n,t){return n??t}var DL=(n,t,e,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:h,dataEndIndex:f}=e,p=[];return n.reduce((v,g)=>{var w,{dataDefinedOnItem:y,settings:x}=g,S=N$(y,l),O=Array.isArray(S)?vk(S,h,f):S,C=(w=x?.dataKey)!==null&&w!==void 0?w:r,N=x?.nameKey,k;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&o==="axis"?k=hj(O,r,i):k=a(O,t,c,N),Array.isArray(k))k.forEach(B=>{var H=q4(q4({},x),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});v.push(oC({tooltipEntrySettings:H,dataKey:B.dataKey,payload:B.payload,value:vr(B.payload,B.dataKey),name:B.name}))});else{var R;v.push(oC({tooltipEntrySettings:x,dataKey:C,payload:k,value:vr(k,C),name:(R=vr(k,N))!==null&&R!==void 0?R:x?.name}))}return v},p)}},Sx=Pt([Si,Sn,eL,VA,xi],dL),k$=Pt([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,t)=>[...n,...t]),L$=Pt([xi,Id],ex),Bg=Pt([k$,Si,L$],rx,{memoizeOptions:{resultEqualityCheck:w1}}),M$=Pt([Bg],n=>n.filter(y1)),D$=Pt([Bg],ix,{memoizeOptions:{resultEqualityCheck:w1}}),Ud=Pt([D$,Ic],ax),R$=Pt([M$,Ic,Si],Q6),_x=Pt([Ud,Si,Bg],ox),RL=Pt([Si],lx),I$=Pt([Si],n=>n.allowDataOverflow),IL=Pt([RL,I$],P6),j$=Pt([Bg],n=>n.filter(y1)),B$=Pt([R$,j$,kg,G6],aL),F$=Pt([B$,Ic,xi,IL],sL),z$=Pt([Bg],rL),U$=Pt([Ud,Si,z$,x1,xi],hx,{memoizeOptions:{resultEqualityCheck:b1}}),q$=Pt([oL,xi,Id],jd),H$=Pt([q$,xi],cL),$$=Pt([lL,xi,Id],jd),G$=Pt([$$,xi],hL),W$=Pt([uL,xi,Id],jd),V$=Pt([W$,xi],fL),Y$=Pt([H$,V$,G$],yv),K$=Pt([Si,RL,IL,F$,U$,Y$,Sn,xi],fx),Fg=Pt([Si,Sn,Ud,_x,kg,xi,K$],dx),X$=Pt([Fg,Si,Sx],mx),Z$=Pt([Si,Fg,X$,xi],yx),jL=n=>{var t=xi(n),e=Id(n),r=!1;return Ig(n,t,e,r)},BL=Pt([Si,jL],m1),FL=Pt([Si,Sx,Z$,BL],gx),Q$=Pt([Sn,_x,Si,xi],wL),J$=Pt([Sn,_x,Si,xi],AL),tG=(n,t,e,r,i,a,o,l)=>{if(t){var{type:c}=t,h=Hh(n,l);if(r){var f=e==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=l==="angleAxis"&&i!=null&&i?.length>=2?Bi(i[0]-i[1])*2*p:p,h&&o?o.map((v,g)=>({coordinate:r(v)+p,value:v,index:g,offset:p})):r.domain().map((v,g)=>({coordinate:r(v)+p,value:a?a[v]:v,index:g,offset:p}))}}},Fu=Pt([Sn,Si,Sx,FL,jL,Q$,J$,xi],tG),Ex=Pt([SL,_L,u$],(n,t,e)=>EL(e.shared,n,t)),zL=n=>n.tooltip.settings.trigger,Cx=n=>n.tooltip.settings.defaultIndex,E1=Pt([zd,Ex,zL,Cx],kL),Ih=Pt([E1,Ud,Rg,Fg],xx),UL=Pt([Fu,Ih],CL),qL=Pt([E1],n=>{if(n)return n.dataKey}),HL=Pt([zd,Ex,zL,Cx],ML),eG=Pt([Du,Ru,Sn,wi,Fu,Cx,HL,jg],LL),nG=Pt([E1,eG],(n,t)=>n!=null&&n.coordinate?n.coordinate:t),rG=Pt([E1],n=>n.active),iG=Pt([HL,Ih,Ic,Rg,UL,jg,Ex],DL);Pt([iG],n=>{if(n!=null){var t=n.map(e=>e.payload).filter(e=>e!=null);return Array.from(new Set(t))}});function H4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function $4(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(e),!0).forEach(function(r){aG(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):H4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function aG(n,t,e){return(t=sG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function sG(n){var t=oG(n,"string");return typeof t=="symbol"?t:t+""}function oG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var lG=()=>ce(Si),uG=()=>{var n=lG(),t=ce(Fu),e=ce(FL);return Z0(!n||!e?void 0:$4($4({},n),{},{scale:e}),t)};function G4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Hf(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(e),!0).forEach(function(r){cG(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):G4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function cG(n,t,e){return(t=hG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function hG(n){var t=fG(n,"string");return typeof t=="symbol"?t:t+""}function fG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var dG=(n,t,e,r)=>{var i=t.find(a=>a&&a.index===e);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},pG=(n,t,e,r)=>{var i=t.find(h=>h&&h.index===e);if(i){if(n==="centric"){var a=i.coordinate,{radius:o}=r;return Hf(Hf(Hf({},r),oi(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var l=i.coordinate,{angle:c}=r;return Hf(Hf(Hf({},r),oi(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function gG(n,t){var{chartX:e,chartY:r}=n;return e>=t.left&&e<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var $L=(n,t,e,r,i)=>{var a,o=-1,l=(a=t?.length)!==null&&a!==void 0?a:0;if(l<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var h=c>0?e[c-1].coordinate:e[l-1].coordinate,f=e[c].coordinate,p=c>=l-1?e[0].coordinate:e[c+1].coordinate,v=void 0;if(Bi(f-h)!==Bi(p-f)){var g=[];if(Bi(p-f)===Bi(i[1]-i[0])){v=p;var w=f+i[1]-i[0];g[0]=Math.min(w,(w+h)/2),g[1]=Math.max(w,(w+h)/2)}else{v=h;var y=p+i[1]-i[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var x=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(n>x[0]&&n<=x[1]||n>=g[0]&&n<=g[1]){({index:o}=e[c]);break}}else{var S=Math.min(h,p),O=Math.max(h,p);if(n>(S+f)/2&&n<=(O+f)/2){({index:o}=e[c]);break}}}else if(t){for(var C=0;C<l;C++)if(C===0&&n<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<l-1&&n>(t[C].coordinate+t[C-1].coordinate)/2&&n<=(t[C].coordinate+t[C+1].coordinate)/2||C===l-1&&n>(t[C].coordinate+t[C-1].coordinate)/2){({index:o}=t[C]);break}}return o},mG=()=>ce(VA),Tx=(n,t)=>t,GL=(n,t,e)=>e,Ox=(n,t,e,r)=>r,vG=Pt(Fu,n=>qv(n,t=>t.coordinate)),Px=Pt([zd,Tx,GL,Ox],kL),Nx=Pt([Px,Ud,Rg,Fg],xx),yG=(n,t,e)=>{if(t!=null){var r=zd(n);return t==="axis"?e==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:e==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WL=Pt([zd,Tx,GL,Ox],ML),bv=Pt([Du,Ru,Sn,wi,Fu,Ox,WL,jg],LL),bG=Pt([Px,bv],(n,t)=>{var e;return(e=n.coordinate)!==null&&e!==void 0?e:t}),VL=Pt([Fu,Nx],CL),wG=Pt([WL,Nx,Ic,Rg,VL,jg,Tx],DL),AG=Pt([Px,Nx],(n,t)=>({isActive:n.active&&t!=null,activeIndex:t})),xG=(n,t,e,r,i,a,o)=>{if(!(!n||!e||!r||!i)&&gG(n,o)){var l=WB(n,t),c=$L(l,a,i,e,r),h=dG(t,i,c,n);return{activeIndex:String(c),activeCoordinate:h}}},SG=(n,t,e,r,i,a,o)=>{if(!(!n||!r||!i||!a||!e)){var l=l9(n,e);if(l){var c=VB(l,t),h=$L(c,o,a,r,i),f=pG(t,a,h,l);return{activeIndex:String(h),activeCoordinate:f}}}},_G=(n,t,e,r,i,a,o,l)=>{if(!(!n||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?xG(n,t,r,i,a,o,l):SG(n,t,e,r,i,a,o)},EG=Pt(n=>n.zIndex.zIndexMap,(n,t)=>t,(n,t,e)=>e,(n,t,e)=>{if(t!=null){var r=n[t];if(r!=null)return e?r.panoramaElementId:r.elementId}}),CG=Pt(n=>n.zIndex.zIndexMap,n=>{var t=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(ea)),e=Array.from(new Set(t));return e.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:cH}});function W4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function V4(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(e),!0).forEach(function(r){TG(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):W4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function TG(n,t,e){return(t=OG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function OG(n){var t=PG(n,"string");return typeof t=="symbol"?t:t+""}function PG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var NG={},kG={zIndexMap:Object.values(ea).reduce((n,t)=>V4(V4({},n),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),NG)},LG=new Set(Object.values(ea));function MG(n){return LG.has(n)}var YL=rs({name:"zIndex",initialState:kG,reducers:{registerZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]?n.zIndexMap[e].consumers+=1:n.zIndexMap[e]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:mr()},unregisterZIndexPortal:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(n.zIndexMap[e].consumers-=1,n.zIndexMap[e].consumers<=0&&!MG(e)&&delete n.zIndexMap[e])},prepare:mr()},registerZIndexPortalId:{reducer:(n,t)=>{var{zIndex:e,elementId:r,isPanorama:i}=t.payload;n.zIndexMap[e]?i?n.zIndexMap[e].panoramaElementId=r:n.zIndexMap[e].elementId=r:n.zIndexMap[e]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:mr()},unregisterZIndexPortalId:{reducer:(n,t)=>{var{zIndex:e}=t.payload;n.zIndexMap[e]&&(t.payload.isPanorama?n.zIndexMap[e].panoramaElementId=void 0:n.zIndexMap[e].elementId=void 0)},prepare:mr()}}}),{registerZIndexPortal:DG,unregisterZIndexPortal:RG,registerZIndexPortalId:IG,unregisterZIndexPortalId:jG}=YL.actions,BG=YL.reducer;function Zo(n){var{zIndex:t,children:e}=n,r=_F(),i=r&&t!==void 0&&t!==0,a=is(),o=tr();j.useLayoutEffect(()=>i?(o(DG({zIndex:t})),()=>{o(RG({zIndex:t}))}):wg,[o,t,i]);var l=ce(h=>EG(h,t,a));if(!i)return e;if(!l)return null;var c=document.getElementById(l);return c?K5.createPortal(e,c):null}function l5(){return l5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},l5.apply(null,arguments)}function Y4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function n0(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Y4(Object(e),!0).forEach(function(r){FG(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Y4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function FG(n,t,e){return(t=zG(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function zG(n){var t=UG(n,"string");return typeof t=="symbol"?t:t+""}function UG(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function qG(n){var{cursor:t,cursorComp:e,cursorProps:r}=n;return j.isValidElement(t)?j.cloneElement(t,r):j.createElement(e,r)}function HG(n){var t,{coordinate:e,payload:r,index:i,offset:a,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:h,chartName:f}=n,p=e,v=r,g=i;if(!c||!p||f!=="ScatterChart"&&h!=="axis")return null;var w,y,x;if(f==="ScatterChart")w=p,y=_z,x=ea.cursorLine;else if(f==="BarChart")w=Ez(l,p,a,o),y=Hk,x=ea.cursorRectangle;else if(l==="radial"&&CN(p)){var{cx:S,cy:O,radius:C,startAngle:N,endAngle:k}=Gk(p);w={cx:S,cy:O,startAngle:N,endAngle:k,innerRadius:C,outerRadius:C},y=Vk,x=ea.cursorLine}else w={points:f9(l,p,a)},y=bA,x=ea.cursorLine;var R=typeof c=="object"&&"className"in c?c.className:void 0,B=n0(n0(n0(n0({stroke:"#ccc",pointerEvents:"none"},a),w),Zp(c)),{},{payload:v,payloadIndex:g,className:In("recharts-tooltip-cursor",R)});return j.createElement(Zo,{zIndex:(t=n.zIndex)!==null&&t!==void 0?t:x},j.createElement(qG,{cursor:c,cursorComp:y,cursorProps:B}))}function $G(n){var t=uG(),e=Tk(),r=r1(),i=mG();return t==null||e==null||r==null||i==null?null:j.createElement(HG,l5({},n,{offset:e,layout:r,tooltipAxisBandSize:t,chartName:i}))}var KL=j.createContext(null),GG=()=>j.useContext(KL),x2={exports:{}},K4;function WG(){return K4||(K4=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function a(c,h,f,p,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||c,v),w=e?e+h:h;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],g]:c._events[w].push(g):(c._events[w]=g,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new r:delete c._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)t.call(f,p)&&h.push(e?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h){var f=e?e+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,w=new Array(g);v<g;v++)w[v]=p[v].fn;return w},l.prototype.listenerCount=function(h){var f=e?e+h:h,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(h,f,p,v,g,w){var y=e?e+h:h;if(!this._events[y])return!1;var x=this._events[y],S=arguments.length,O,C;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),S){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,p),!0;case 4:return x.fn.call(x.context,f,p,v),!0;case 5:return x.fn.call(x.context,f,p,v,g),!0;case 6:return x.fn.call(x.context,f,p,v,g,w),!0}for(C=1,O=new Array(S-1);C<S;C++)O[C-1]=arguments[C];x.fn.apply(x.context,O)}else{var N=x.length,k;for(C=0;C<N;C++)switch(x[C].once&&this.removeListener(h,x[C].fn,void 0,!0),S){case 1:x[C].fn.call(x[C].context);break;case 2:x[C].fn.call(x[C].context,f);break;case 3:x[C].fn.call(x[C].context,f,p);break;case 4:x[C].fn.call(x[C].context,f,p,v);break;default:if(!O)for(k=1,O=new Array(S-1);k<S;k++)O[k-1]=arguments[k];x[C].fn.apply(x[C].context,O)}}return!0},l.prototype.on=function(h,f,p){return a(this,h,f,p,!1)},l.prototype.once=function(h,f,p){return a(this,h,f,p,!0)},l.prototype.removeListener=function(h,f,p,v){var g=e?e+h:h;if(!this._events[g])return this;if(!f)return o(this,g),this;var w=this._events[g];if(w.fn)w.fn===f&&(!v||w.once)&&(!p||w.context===p)&&o(this,g);else{for(var y=0,x=[],S=w.length;y<S;y++)(w[y].fn!==f||v&&!w[y].once||p&&w[y].context!==p)&&x.push(w[y]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=e?e+h:h,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,n.exports=l})(x2)),x2.exports}var VG=WG();const YG=Mu(VG);var hg=new YG,u5="recharts.syncEvent.tooltip",X4="recharts.syncEvent.brush";function XL(n,t){if(t){var e=Number.parseInt(t,10);if(!Yo(e))return n?.[e]}}var KG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZL=rs({name:"options",initialState:KG,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XG=ZL.reducer,{createEventEmitter:ZG}=ZL.actions;function QG(n){return n.tooltip.syncInteraction}var JG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QL=rs({name:"chartData",initialState:JG,reducers:{setChartData(n,t){if(n.chartData=t.payload,t.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}t.payload.length>0&&n.dataEndIndex!==t.payload.length-1&&(n.dataEndIndex=t.payload.length-1)},setComputedData(n,t){n.computedData=t.payload},setDataStartEndIndexes(n,t){var{startIndex:e,endIndex:r}=t.payload;e!=null&&(n.dataStartIndex=e),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:Z4,setDataStartEndIndexes:tW,setComputedData:Mit}=QL.actions,eW=QL.reducer,nW=["x","y"];function Q4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function $f(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(e),!0).forEach(function(r){rW(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Q4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function rW(n,t,e){return(t=iW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function iW(n){var t=aW(n,"string");return typeof t=="symbol"?t:t+""}function aW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function sW(n,t){if(n==null)return{};var e,r,i=oW(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function oW(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function lW(){var n=ce(YA),t=ce(KA),e=tr(),r=ce(W6),i=ce(Fu),a=r1(),o=n1(),l=ce(c=>c.rootProps.className);j.useEffect(()=>{if(n==null)return wg;var c=(h,f,p)=>{if(t!==p&&n===h){if(r==="index"){var v;if(o&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:w,y}=g,x=sW(g,nW),{x:S,y:O,width:C,height:N}=f.payload.sourceViewBox,k=$f($f({},x),{},{x:o.x+(C?(w-S)/C:0)*o.width,y:o.y+(N?(y-O)/N:0)*o.height});e($f($f({},f),{},{payload:$f($f({},f.payload),{},{coordinate:k})}))}else e(f);return}if(i!=null){var R;if(typeof r=="function"){var B={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},H=r(i,B);R=i[H]}else r==="value"&&(R=i.find(V=>String(V.value)===f.payload.label));var{coordinate:q}=f.payload;if(R==null||f.payload.active===!1||q==null||o==null){e(s5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:rt,y:D}=q,z=Math.min(rt,o.x+o.width),et=Math.min(D,o.y+o.height),tt={x:a==="horizontal"?R.coordinate:z,y:a==="horizontal"?et:R.coordinate},dt=s5({active:f.payload.active,coordinate:tt,dataKey:f.payload.dataKey,index:String(R.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});e(dt)}}};return hg.on(u5,c),()=>{hg.off(u5,c)}},[l,e,t,n,r,i,a,o])}function uW(){var n=ce(YA),t=ce(KA),e=tr();j.useEffect(()=>{if(n==null)return wg;var r=(i,a,o)=>{t!==o&&n===i&&e(tW(a))};return hg.on(X4,r),()=>{hg.off(X4,r)}},[e,t,n])}function cW(){var n=tr();j.useEffect(()=>{n(ZG())},[n]),lW(),uW()}function hW(n,t,e,r,i,a){var o=ce(g=>yG(g,n,t)),l=ce(KA),c=ce(YA),h=ce(W6),f=ce(QG),p=f?.active,v=n1();j.useEffect(()=>{if(!p&&c!=null&&l!=null){var g=s5({active:a,coordinate:e,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});hg.emit(u5,c,g,l)}},[p,e,o,i,r,l,c,h,a,v])}function J4(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function tT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(e),!0).forEach(function(r){fW(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):J4(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function fW(n,t,e){return(t=dW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dW(n){var t=pW(n,"string");return typeof t=="symbol"?t:t+""}function pW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gW(n){return n.dataKey}function mW(n,t){return j.isValidElement(n)?j.cloneElement(n,t):typeof n=="function"?j.createElement(n,t):j.createElement(nz,t)}var eT=[],vW={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!$h.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nT(n){var t,e,r=zi(n,vW),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:l,content:c,filterNull:h,isAnimationActive:f,offset:p,payloadUniqBy:v,position:g,reverseDirection:w,useTranslate3d:y,wrapperStyle:x,cursor:S,shared:O,trigger:C,defaultIndex:N,portal:k,axisId:R}=r,B=tr(),H=typeof N=="number"?String(N):N;j.useEffect(()=>{B(p$({shared:O,trigger:C,axisId:R,active:i,defaultIndex:H}))},[B,O,C,R,i,H]);var q=n1(),rt=Bk(),D=l$(O),{activeIndex:z,isActive:et}=(t=ce(ht=>AG(ht,D,C,H)))!==null&&t!==void 0?t:{},tt=ce(ht=>wG(ht,D,C,H)),dt=ce(ht=>VL(ht,D,C,H)),V=ce(ht=>bG(ht,D,C,H)),J=tt,st=GG(),gt=(e=i??et)!==null&&e!==void 0?e:!1,[kt,Z]=UN([J,gt]),I=D==="axis"?dt:void 0;hW(D,C,V,I,z,gt);var G=k??st;if(G==null||q==null||D==null)return null;var X=J??eT;gt||(X=eT),h&&X.length&&(X=IN(X.filter(ht=>ht.value!=null&&(ht.hide!==!0||r.includeHidden)),v,gW));var lt=X.length>0,ct=j.createElement(uz,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:f,active:gt,coordinate:V,hasPayload:lt,offset:p,position:g,reverseDirection:w,useTranslate3d:y,viewBox:q,wrapperStyle:x,lastBoundingBox:kt,innerRef:Z,hasPortalFromProps:!!k},mW(c,tT(tT({},r),{},{payload:X,label:I,active:gt,activeIndex:z,coordinate:V,accessibilityLayer:rt})));return j.createElement(j.Fragment,null,K5.createPortal(ct,G),gt&&j.createElement($G,{cursor:S,tooltipEventType:D,coordinate:V,payload:X,index:z}))}var zg=n=>null;zg.displayName="Cell";function yW(n,t,e){return(t=bW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function bW(n){var t=wW(n,"string");return typeof t=="symbol"?t:t+""}function wW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class AW{constructor(t){yW(this,"cache",new Map),this.maxSize=t}get(t){var e=this.cache.get(t);return e!==void 0&&(this.cache.delete(t),this.cache.set(t,e)),e}set(t,e){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,e)}clear(){this.cache.clear()}size(){return this.cache.size}}function rT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function xW(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(e),!0).forEach(function(r){SW(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):rT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function SW(n,t,e){return(t=_W(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _W(n){var t=EW(n,"string");return typeof t=="symbol"?t:t+""}function EW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var CW={cacheSize:2e3,enableCache:!0},JL=xW({},CW),iT=new AW(JL.cacheSize),TW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aT="recharts_measurement_span";function OW(n,t){var e=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(n,"|").concat(e,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(l)}var sT=(n,t)=>{try{var e=document.getElementById(aT);e||(e=document.createElement("span"),e.setAttribute("id",aT),e.setAttribute("aria-hidden","true"),document.body.appendChild(e)),Object.assign(e.style,TW,t),e.textContent="".concat(n);var r=e.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||$h.isSsr)return{width:0,height:0};if(!JL.enableCache)return sT(t,e);var r=OW(t,e),i=iT.get(r);if(i)return i;var a=sT(t,e);return iT.set(r,a),a},oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PW=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kW=Object.keys(tM),rd="NaN";function LW(n,t){return n*tM[t]}class ts{static parse(t){var e,[,r,i]=(e=NW.exec(t))!==null&&e!==void 0?e:[];return new ts(parseFloat(r),i??"")}constructor(t,e){this.num=t,this.unit=e,this.num=t,this.unit=e,Yo(t)&&(this.unit=""),e!==""&&!PW.test(e)&&(this.num=NaN,this.unit=""),kW.includes(e)&&(this.num=LW(t,e),this.unit="px")}add(t){return this.unit!==t.unit?new ts(NaN,""):new ts(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ts(NaN,""):new ts(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ts(NaN,""):new ts(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ts(NaN,""):new ts(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Yo(this.num)}}function eM(n){if(n.includes(rd))return rd;for(var t=n;t.includes("*")||t.includes("/");){var e,[,r,i,a]=(e=oT.exec(t))!==null&&e!==void 0?e:[],o=ts.parse(r??""),l=ts.parse(a??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return rd;t=t.replace(oT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,f,p,v]=(h=lT.exec(t))!==null&&h!==void 0?h:[],g=ts.parse(f??""),w=ts.parse(v??""),y=p==="+"?g.add(w):g.subtract(w);if(y.isNaN())return rd;t=t.replace(lT,y.toString())}return t}var uT=/\(([^()]*)\)/;function MW(n){for(var t=n,e;(e=uT.exec(t))!=null;){var[,r]=e;t=t.replace(uT,eM(r))}return t}function DW(n){var t=n.replace(/\s+/g,"");return t=MW(t),t=eM(t),t}function RW(n){try{return DW(n)}catch{return rd}}function S2(n){var t=RW(n.slice(5,-1));return t===rd?"":t}var IW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],jW=["dx","dy","angle","className","breakAll"];function c5(){return c5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c5.apply(null,arguments)}function cT(n,t){if(n==null)return{};var e,r,i=BW(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function BW(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var nM=/[ \f\n\r\t\v\u2028\u2029]+/,rM=n=>{var{children:t,breakAll:e,style:r}=n;try{var i=[];Fi(t)||(e?i=t.toString().split(""):i=t.toString().split(nM));var a=i.map(l=>({word:l,width:Wp(l,r).width})),o=e?0:Wp("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function FW(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var iM=(n,t,e,r)=>n.reduce((i,a)=>{var{word:o,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(t==null||r||c.width+l+e<Number(t)))c.words.push(o),c.width+=l+e;else{var h={words:[o],width:l};i.push(h)}return i},[]),aM=n=>n.reduce((t,e)=>t.width>e.width?t:e),zW="",hT=(n,t,e,r,i,a,o,l)=>{var c=n.slice(0,t),h=rM({breakAll:e,style:r,children:c+zW});if(!h)return[!1,[]];var f=iM(h.wordsWithComputedWidth,a,o,l),p=f.length>i||aM(f).width>Number(a);return[p,f]},UW=(n,t,e,r,i)=>{var{maxLines:a,children:o,style:l,breakAll:c}=n,h=he(a),f=String(o),p=iM(t,r,e,i);if(!h||i)return p;var v=p.length>a||aM(p).width>Number(r);if(!v)return p;for(var g=0,w=f.length-1,y=0,x;g<=w&&y<=f.length-1;){var S=Math.floor((g+w)/2),O=S-1,[C,N]=hT(f,O,c,l,a,r,e,i),[k]=hT(f,S,c,l,a,r,e,i);if(!C&&!k&&(g=S+1),C&&k&&(w=S-1),!C&&k){x=N;break}y++}return x||p},fT=n=>{var t=Fi(n)?[]:n.toString().split(nM);return[{words:t,width:void 0}]},qW=n=>{var{width:t,scaleToFit:e,children:r,style:i,breakAll:a,maxLines:o}=n;if((t||e)&&!$h.isSsr){var l,c,h=rM({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;l=f,c=p}else return fT(r);return UW({breakAll:a,children:r,maxLines:o,style:i},l,c,t,!!e)}return fT(r)},sM="#808080",HW={angle:0,breakAll:!1,capHeight:"0.71em",fill:sM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},C1=j.forwardRef((n,t)=>{var e=zi(n,HW),{x:r,y:i,lineHeight:a,capHeight:o,fill:l,scaleToFit:c,textAnchor:h,verticalAnchor:f}=e,p=cT(e,IW),v=j.useMemo(()=>qW({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:g,dy:w,angle:y,className:x,breakAll:S}=p,O=cT(p,jW);if(!kl(r)||!kl(i)||v.length===0)return null;var C=Number(r)+(he(g)?g:0),N=Number(i)+(he(w)?w:0);if(!Zr(C)||!Zr(N))return null;var k;switch(f){case"start":k=S2("calc(".concat(o,")"));break;case"middle":k=S2("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:k=S2("calc(".concat(v.length-1," * -").concat(a,")"));break}var R=[];if(c){var B=v[0].width,{width:H}=p;R.push("scale(".concat(he(H)&&he(B)?H/B:1,")"))}return y&&R.push("rotate(".concat(y,", ").concat(C,", ").concat(N,")")),R.length&&(O.transform=R.join(" ")),j.createElement("text",c5({},so(O),{ref:t,x:C,y:N,className:In("recharts-text",x),textAnchor:h,fill:l.includes("url")?sM:l}),v.map((q,rt)=>{var D=q.words.join(S?"":" ");return j.createElement("tspan",{x:C,dy:rt===0?k:a,key:"".concat(D,"-").concat(rt)},D)}))});C1.displayName="Text";var $W=["labelRef"];function GW(n,t){if(n==null)return{};var e,r,i=WW(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function WW(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function dT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Wr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(e),!0).forEach(function(r){VW(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function VW(n,t,e){return(t=YW(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function YW(n){var t=KW(n,"string");return typeof t=="symbol"?t:t+""}function KW(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function bu(){return bu=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},bu.apply(null,arguments)}var oM=j.createContext(null),XW=n=>{var{x:t,y:e,upperWidth:r,lowerWidth:i,width:a,height:o,children:l}=n,c=j.useMemo(()=>({x:t,y:e,upperWidth:r,lowerWidth:i,width:a,height:o}),[t,e,r,i,a,o]);return j.createElement(oM.Provider,{value:c},l)},lM=()=>{var n=j.useContext(oM),t=n1();return n||Ck(t)},ZW=j.createContext(null),QW=()=>{var n=j.useContext(ZW),t=ce(Z6);return n||t},JW=n=>{var{value:t,formatter:e}=n,r=Fi(n.children)?t:n.children;return typeof e=="function"?e(r):r},kx=n=>n!=null&&typeof n=="function",tV=(n,t)=>{var e=Bi(t-n),r=Math.min(Math.abs(t-n),360);return e*r},eV=(n,t,e,r,i)=>{var{offset:a,className:o}=n,{cx:l,cy:c,innerRadius:h,outerRadius:f,startAngle:p,endAngle:v,clockWise:g}=i,w=(h+f)/2,y=tV(p,v),x=y>=0?1:-1,S,O;switch(t){case"insideStart":S=p+x*a,O=g;break;case"insideEnd":S=v-x*a,O=!g;break;case"end":S=v+x*a,O=g;break;default:throw new Error("Unsupported position ".concat(t))}O=y<=0?O:!O;var C=oi(l,c,w,S),N=oi(l,c,w,S+(O?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(O?0:1,`,
    `).concat(N.x,",").concat(N.y),R=Fi(n.id)?Qp("recharts-radial-line-"):n.id;return j.createElement("text",bu({},r,{dominantBaseline:"central",className:In("recharts-radial-bar-label",o)}),j.createElement("defs",null,j.createElement("path",{id:R,d:k})),j.createElement("textPath",{xlinkHref:"#".concat(R)},e))},nV=(n,t,e)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:l,endAngle:c}=n,h=(l+c)/2;if(e==="outside"){var{x:f,y:p}=oi(r,i,o+t,h);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(e==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(e==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(e==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+o)/2,{x:g,y:w}=oi(r,i,v,h);return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},h5=n=>"cx"in n&&he(n.cx),rV=(n,t)=>{var{parentViewBox:e,offset:r,position:i}=n,a;e!=null&&!h5(e)&&(a=e);var{x:o,y:l,upperWidth:c,lowerWidth:h,height:f}=t,p=o,v=o+(c-h)/2,g=(p+v)/2,w=(c+h)/2,y=p+c/2,x=f>=0?1:-1,S=x*r,O=x>0?"end":"start",C=x>0?"start":"end",N=c>=0?1:-1,k=N*r,R=N>0?"end":"start",B=N>0?"start":"end";if(i==="top"){var H={x:p+c/2,y:l-S,textAnchor:"middle",verticalAnchor:O};return Wr(Wr({},H),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var q={x:v+h/2,y:l+f+S,textAnchor:"middle",verticalAnchor:C};return Wr(Wr({},q),a?{height:Math.max(a.y+a.height-(l+f),0),width:h}:{})}if(i==="left"){var rt={x:g-k,y:l+f/2,textAnchor:R,verticalAnchor:"middle"};return Wr(Wr({},rt),a?{width:Math.max(rt.x-a.x,0),height:f}:{})}if(i==="right"){var D={x:g+w+k,y:l+f/2,textAnchor:B,verticalAnchor:"middle"};return Wr(Wr({},D),a?{width:Math.max(a.x+a.width-D.x,0),height:f}:{})}var z=a?{width:w,height:f}:{};return i==="insideLeft"?Wr({x:g+k,y:l+f/2,textAnchor:B,verticalAnchor:"middle"},z):i==="insideRight"?Wr({x:g+w-k,y:l+f/2,textAnchor:R,verticalAnchor:"middle"},z):i==="insideTop"?Wr({x:p+c/2,y:l+S,textAnchor:"middle",verticalAnchor:C},z):i==="insideBottom"?Wr({x:v+h/2,y:l+f-S,textAnchor:"middle",verticalAnchor:O},z):i==="insideTopLeft"?Wr({x:p+k,y:l+S,textAnchor:B,verticalAnchor:C},z):i==="insideTopRight"?Wr({x:p+c-k,y:l+S,textAnchor:R,verticalAnchor:C},z):i==="insideBottomLeft"?Wr({x:v+k,y:l+f-S,textAnchor:B,verticalAnchor:O},z):i==="insideBottomRight"?Wr({x:v+h-k,y:l+f-S,textAnchor:R,verticalAnchor:O},z):i&&typeof i=="object"&&(he(i.x)||Eu(i.x))&&(he(i.y)||Eu(i.y))?Wr({x:o+da(i.x,w),y:l+da(i.y,f),textAnchor:"end",verticalAnchor:"end"},z):Wr({x:y,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},z)},iV={angle:0,offset:5,zIndex:ea.label,position:"middle",textBreakAll:!1};function Sc(n){var t=zi(n,iV),{viewBox:e,position:r,value:i,children:a,content:o,className:l="",textBreakAll:c,labelRef:h}=t,f=QW(),p=lM(),v=r==="center"?p:f??p,g,w,y;if(e==null?g=v:h5(e)?g=e:g=Ck(e),!g||Fi(i)&&Fi(a)&&!j.isValidElement(o)&&typeof o!="function")return null;var x=Wr(Wr({},t),{},{viewBox:g});if(j.isValidElement(o)){var{labelRef:S}=x,O=GW(x,$W);return j.cloneElement(o,O)}if(typeof o=="function"){if(w=j.createElement(o,x),j.isValidElement(w))return w}else w=JW(t);var C=so(t);if(h5(g)){if(r==="insideStart"||r==="insideEnd"||r==="end")return eV(t,r,w,C,g);y=nV(g,t.offset,t.position)}else y=rV(t,g);return j.createElement(Zo,{zIndex:t.zIndex},j.createElement(C1,bu({ref:h,className:In("recharts-label",l)},C,y,{textAnchor:FW(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:c}),w))}Sc.displayName="Label";var aV=(n,t,e)=>{if(!n)return null;var r={viewBox:t,labelRef:e};return n===!0?j.createElement(Sc,bu({key:"label-implicit"},r)):kl(n)?j.createElement(Sc,bu({key:"label-implicit",value:n},r)):j.isValidElement(n)?n.type===Sc?j.cloneElement(n,Wr({key:"label-implicit"},r)):j.createElement(Sc,bu({key:"label-implicit",content:n},r)):kx(n)?j.createElement(Sc,bu({key:"label-implicit",content:n},r)):n&&typeof n=="object"?j.createElement(Sc,bu({},n,{key:"label-implicit"},r)):null};function sV(n){var{label:t,labelRef:e}=n,r=lM();return aV(t,r,e)||null}var _2={},E2={},pT;function oV(){return pT||(pT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return e[e.length-1]}n.last=t})(E2)),E2}var C2={},gT;function lV(){return gT||(gT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){return Array.isArray(e)?e:Array.from(e)}n.toArray=t})(C2)),C2}var mT;function uV(){return mT||(mT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const t=oV(),e=lV(),r=rA();function i(a){if(r.isArrayLike(a))return t.last(e.toArray(a))}n.last=i})(_2)),_2}var T2,vT;function cV(){return vT||(vT=1,T2=uV().last),T2}var hV=cV();const fV=Mu(hV);var dV=["valueAccessor"],pV=["dataKey","clockWise","id","textBreakAll","zIndex"];function wv(){return wv=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},wv.apply(null,arguments)}function yT(n,t){if(n==null)return{};var e,r,i=gV(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function gV(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var mV=n=>Array.isArray(n.value)?fV(n.value):n.value,uM=j.createContext(void 0),vV=uM.Provider,cM=j.createContext(void 0),yV=cM.Provider;function bV(){return j.useContext(uM)}function wV(){return j.useContext(cM)}function T0(n){var{valueAccessor:t=mV}=n,e=yT(n,dV),{dataKey:r,clockWise:i,id:a,textBreakAll:o,zIndex:l}=e,c=yT(e,pV),h=bV(),f=wV(),p=h||f;return!p||!p.length?null:j.createElement(Zo,{zIndex:l??ea.label},j.createElement(ka,{className:"recharts-label-list"},p.map((v,g)=>{var w,y=Fi(r)?t(v,g):vr(v&&v.payload,r),x=Fi(a)?{}:{id:"".concat(a,"-").concat(g)};return j.createElement(Sc,wv({key:"label-".concat(g)},so(v),c,x,{fill:(w=e.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:y,textBreakAll:o,viewBox:v.viewBox,index:g,zIndex:0}))})))}T0.displayName="LabelList";function hM(n){var{label:t}=n;return t?t===!0?j.createElement(T0,{key:"labelList-implicit"}):j.isValidElement(t)||kx(t)?j.createElement(T0,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(T0,wv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var fM=n=>n.graphicalItems.polarItems,AV=Pt([br,Lg],ex),T1=Pt([fM,Pr,AV],rx),xV=Pt([T1],ix),O1=Pt([xV,HA],ax),SV=Pt([O1,Pr,T1],ox);Pt([O1,Pr,T1],(n,t,e)=>e.length>0?n.flatMap(r=>e.flatMap(i=>{var a,o=vr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?n.map(r=>({value:vr(r,t.dataKey),errorDomain:[]})):n.map(r=>({value:r,errorDomain:[]})));var bT=()=>{},_V=Pt([O1,Pr,T1,x1,br],hx),EV=Pt([Pr,ux,cx,bT,_V,bT,Sn,br],fx),dM=Pt([Pr,Sn,O1,SV,kg,br,EV],dx),CV=Pt([dM,Pr,Bd],mx);Pt([Pr,dM,CV,br],yx);var TV={radiusAxis:{},angleAxis:{}},pM=rs({name:"polarAxis",initialState:TV,reducers:{addRadiusAxis(n,t){n.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(n,t){delete n.radiusAxis[t.payload.id]},addAngleAxis(n,t){n.angleAxis[t.payload.id]=t.payload},removeAngleAxis(n,t){delete n.angleAxis[t.payload.id]}}}),{addRadiusAxis:Dit,removeRadiusAxis:Rit,addAngleAxis:Iit,removeAngleAxis:jit}=pM.actions,OV=pM.reducer;function wT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function AT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(e),!0).forEach(function(r){PV(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function PV(n,t,e){return(t=NV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function NV(n){var t=kV(n,"string");return typeof t=="symbol"?t:t+""}function kV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var LV=(n,t)=>t,Lx=Pt([fM,LV],(n,t)=>n.filter(e=>e.type==="pie").find(e=>e.id===t)),MV=[],Mx=(n,t,e)=>e?.length===0?MV:e,gM=Pt([HA,Lx,Mx],(n,t,e)=>{var{chartData:r}=n;if(t!=null){var i;if(t?.data!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&e!=null&&(i=e.map(a=>AT(AT({},t.presentationProps),a.props))),i!=null)return i}}),DV=Pt([gM,Lx,Mx],(n,t,e)=>{if(!(n==null||t==null))return n.map((r,i)=>{var a,o=vr(r,t.nameKey,t.name),l;return e!=null&&(a=e[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=e[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=t.fill,{value:Zv(o,t.dataKey),color:l,payload:r,type:t.legendType}})}),RV=Pt([gM,Lx,Mx,wi],(n,t,e,r)=>{if(!(t==null||n==null))return BY({offset:r,pieSettings:t,displayedData:n,cells:e})}),O2={exports:{}},$n={};var xT;function IV(){if(xT)return $n;xT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function w(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case n:switch(y=y.type,y){case e:case i:case r:case c:case h:case v:return y;default:switch(y=y&&y.$$typeof,y){case o:case l:case p:case f:return y;case a:return y;default:return x}}case t:return x}}}return $n.ContextConsumer=a,$n.ContextProvider=o,$n.Element=n,$n.ForwardRef=l,$n.Fragment=e,$n.Lazy=p,$n.Memo=f,$n.Portal=t,$n.Profiler=i,$n.StrictMode=r,$n.Suspense=c,$n.SuspenseList=h,$n.isContextConsumer=function(y){return w(y)===a},$n.isContextProvider=function(y){return w(y)===o},$n.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},$n.isForwardRef=function(y){return w(y)===l},$n.isFragment=function(y){return w(y)===e},$n.isLazy=function(y){return w(y)===p},$n.isMemo=function(y){return w(y)===f},$n.isPortal=function(y){return w(y)===t},$n.isProfiler=function(y){return w(y)===i},$n.isStrictMode=function(y){return w(y)===r},$n.isSuspense=function(y){return w(y)===c},$n.isSuspenseList=function(y){return w(y)===h},$n.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===e||y===i||y===r||y===c||y===h||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===f||y.$$typeof===o||y.$$typeof===a||y.$$typeof===l||y.$$typeof===g||y.getModuleId!==void 0)},$n.typeOf=w,$n}var ST;function jV(){return ST||(ST=1,O2.exports=IV()),O2.exports}var BV=jV(),_T=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",ET=null,P2=null,mM=n=>{if(n===ET&&Array.isArray(P2))return P2;var t=[];return j.Children.forEach(n,e=>{Fi(e)||(BV.isFragment(e)?t=t.concat(mM(e.props.children)):t.push(e))}),P2=t,ET=n,t};function Dx(n,t){var e=[],r=[];return Array.isArray(t)?r=t.map(i=>_T(i)):r=[_T(t)],mM(n).forEach(i=>{var a=Lh(i,"type.displayName")||Lh(i,"type.name");a&&r.indexOf(a)!==-1&&e.push(i)}),e}var N2={},CT;function FV(){return CT||(CT=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function t(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const i=e[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${i}]`}let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}n.isPlainObject=t})(N2)),N2}var k2,TT;function zV(){return TT||(TT=1,k2=FV().isPlainObject),k2}var UV=zV();const qV=Mu(UV);function OT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function PT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(e),!0).forEach(function(r){HV(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):OT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function HV(n,t,e){return(t=$V(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $V(n){var t=GV(n,"string");return typeof t=="symbol"?t:t+""}function GV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Av(){return Av=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Av.apply(null,arguments)}var NT=(n,t,e,r,i)=>{var a=e-r,o;return o="M ".concat(n,",").concat(t),o+="L ".concat(n+e,",").concat(t),o+="L ".concat(n+e-a/2,",").concat(t+i),o+="L ".concat(n+e-a/2-r,",").concat(t+i),o+="L ".concat(n,",").concat(t," Z"),o},WV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VV=n=>{var t=zi(n,WV),{x:e,y:r,upperWidth:i,lowerWidth:a,height:o,className:l}=t,{animationEasing:c,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=t,v=j.useRef(null),[g,w]=j.useState(-1),y=j.useRef(i),x=j.useRef(a),S=j.useRef(o),O=j.useRef(e),C=j.useRef(r),N=u1(n,"trapezoid-");if(j.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var tt=v.current.getTotalLength();tt&&w(tt)}catch{}},[]),e!==+e||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var k=In("recharts-trapezoid",l);if(!p)return j.createElement("g",null,j.createElement("path",Av({},so(t),{className:k,d:NT(e,r,i,a,o)})));var R=y.current,B=x.current,H=S.current,q=O.current,rt=C.current,D="0px ".concat(g===-1?1:g,"px"),z="".concat(g,"px 0px"),et=Fk(["strokeDasharray"],h,c);return j.createElement(l1,{animationId:N,key:N,canBegin:g>0,duration:h,easing:c,isActive:p,begin:f},tt=>{var dt=yi(R,i,tt),V=yi(B,a,tt),J=yi(H,o,tt),st=yi(q,e,tt),gt=yi(rt,r,tt);v.current&&(y.current=dt,x.current=V,S.current=J,O.current=st,C.current=gt);var kt=tt>0?{transition:et,strokeDasharray:z}:{strokeDasharray:D};return j.createElement("path",Av({},so(t),{className:k,d:NT(st,gt,dt,V,J),ref:v,style:PT(PT({},kt),t.style)}))})},YV=["option","shapeType","propTransformer","activeClassName"];function KV(n,t){if(n==null)return{};var e,r,i=XV(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function XV(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function kT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function xv(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(e),!0).forEach(function(r){ZV(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):kT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function ZV(n,t,e){return(t=QV(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function QV(n){var t=JV(n,"string");return typeof t=="symbol"?t:t+""}function JV(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function tY(n,t){return xv(xv({},t),n)}function eY(n,t){return n==="symbols"}function LT(n){var{shapeType:t,elementProps:e}=n;switch(t){case"rectangle":return j.createElement(Hk,e);case"trapezoid":return j.createElement(VV,e);case"sector":return j.createElement(Vk,e);case"symbols":if(eY(t))return j.createElement(nA,e);break;case"curve":return j.createElement(bA,e);default:return null}}function nY(n){return j.isValidElement(n)?n.props:n}function vM(n){var{option:t,shapeType:e,propTransformer:r=tY,activeClassName:i="recharts-active-shape"}=n,a=KV(n,YV),o;if(j.isValidElement(t))o=j.cloneElement(t,xv(xv({},a),nY(t)));else if(typeof t=="function")o=t(a);else if(qV(t)&&typeof t!="boolean"){var l=r(t,a);o=j.createElement(LT,{shapeType:e,elementProps:l})}else{var c=a;o=j.createElement(LT,{shapeType:e,elementProps:c})}return a.isActive?j.createElement(ka,{className:i},o):o}var Rx=(n,t)=>{var e=tr();return(r,i)=>a=>{n?.(r,i,a),e(OL({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},Ix=n=>{var t=tr();return(e,r)=>i=>{n?.(e,r,i),t(g$())}},jx=(n,t)=>{var e=tr();return(r,i)=>a=>{n?.(r,i,a),e(m$({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function yM(n){var{tooltipEntrySettings:t}=n,e=tr(),r=is(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?e(h$(t)):i.current!==t&&e(f$({prev:i.current,next:t})),i.current=t)},[t,e,r]),j.useLayoutEffect(()=>()=>{i.current&&(e(d$(i.current)),i.current=null)},[e]),null}function rY(n){var{legendPayload:t}=n,e=tr(),r=is(),i=j.useRef(null);return j.useLayoutEffect(()=>{r||(i.current===null?e(Rk(t)):i.current!==t&&e(Ik({prev:i.current,next:t})),i.current=t)},[e,r,t]),j.useLayoutEffect(()=>()=>{i.current&&(e(jk(i.current)),i.current=null)},[e]),null}function iY(n){var{legendPayload:t}=n,e=tr(),r=ce(Sn),i=j.useRef(null);return j.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?e(Rk(t)):i.current!==t&&e(Ik({prev:i.current,next:t})),i.current=t)},[e,r,t]),j.useLayoutEffect(()=>()=>{i.current&&(e(jk(i.current)),i.current=null)},[e]),null}var L2,aY=()=>{var[n]=j.useState(()=>Qp("uid-"));return n},sY=(L2=WR.useId)!==null&&L2!==void 0?L2:aY;function bM(n,t){var e=sY();return t||(n?"".concat(n,"-").concat(e):e)}var oY=j.createContext(void 0),wM=n=>{var{id:t,type:e,children:r}=n,i=bM("recharts-".concat(e),t);return j.createElement(oY.Provider,{value:i},r(i))},lY={cartesianItems:[],polarItems:[]},AM=rs({name:"graphicalItems",initialState:lY,reducers:{addCartesianGraphicalItem:{reducer(n,t){n.cartesianItems.push(t.payload)},prepare:mr()},replaceCartesianGraphicalItem:{reducer(n,t){var{prev:e,next:r}=t.payload,i=Wo(n).cartesianItems.indexOf(e);i>-1&&(n.cartesianItems[i]=r)},prepare:mr()},removeCartesianGraphicalItem:{reducer(n,t){var e=Wo(n).cartesianItems.indexOf(t.payload);e>-1&&n.cartesianItems.splice(e,1)},prepare:mr()},addPolarGraphicalItem:{reducer(n,t){n.polarItems.push(t.payload)},prepare:mr()},removePolarGraphicalItem:{reducer(n,t){var e=Wo(n).polarItems.indexOf(t.payload);e>-1&&n.polarItems.splice(e,1)},prepare:mr()}}}),{addCartesianGraphicalItem:uY,replaceCartesianGraphicalItem:cY,removeCartesianGraphicalItem:hY,addPolarGraphicalItem:fY,removePolarGraphicalItem:dY}=AM.actions,pY=AM.reducer,gY=n=>{var t=tr(),e=j.useRef(null);return j.useLayoutEffect(()=>{e.current===null?t(uY(n)):e.current!==n&&t(cY({prev:e.current,next:n})),e.current=n},[t,n]),j.useLayoutEffect(()=>()=>{e.current&&(t(hY(e.current)),e.current=null)},[t]),null},mY=j.memo(gY);function vY(n){var t=tr();return j.useLayoutEffect(()=>(t(fY(n)),()=>{t(dY(n))}),[t,n]),null}var yY=["key"],bY=["onMouseEnter","onClick","onMouseLeave"],wY=["id"],AY=["id"];function MT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function zr(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(e),!0).forEach(function(r){xY(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):MT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function xY(n,t,e){return(t=SY(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function SY(n){var t=_Y(n,"string");return typeof t=="symbol"?t:t+""}function _Y(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Nc.apply(null,arguments)}function P1(n,t){if(n==null)return{};var e,r,i=EY(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function EY(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function CY(n){var t=j.useMemo(()=>Dx(n.children,zg),[n.children]),e=ce(r=>DV(r,n.id,t));return e==null?null:j.createElement(iY,{legendPayload:e})}var TY=j.memo(n=>{var{dataKey:t,nameKey:e,sectors:r,stroke:i,strokeWidth:a,fill:o,name:l,hide:c,tooltipType:h}=n,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:e,name:Zv(l,t),hide:c,type:h,color:o,unit:""}};return j.createElement(yM,{tooltipEntrySettings:f})}),OY=(n,t)=>n>t?"start":n<t?"end":"middle",PY=(n,t,e)=>da(typeof t=="function"?t(n):t,e,e*.8),NY=(n,t,e)=>{var{top:r,left:i,width:a,height:o}=t,l=$k(a,o),c=i+da(n.cx,a,a/2),h=r+da(n.cy,o,o/2),f=da(n.innerRadius,l,0),p=PY(e,n.outerRadius,l),v=n.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:c,cy:h,innerRadius:f,outerRadius:p,maxRadius:v}},kY=(n,t)=>{var e=Bi(t-n),r=Math.min(Math.abs(t-n),360);return e*r};function LY(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}var MY=(n,t)=>{if(j.isValidElement(n))return j.cloneElement(n,t);if(typeof n=="function")return n(t);var e=In("recharts-pie-label-line",typeof n!="boolean"?n.className:""),{key:r}=t,i=P1(t,yY);return j.createElement(bA,Nc({},i,{type:"linear",className:e}))},DY=(n,t,e)=>{if(j.isValidElement(n))return j.cloneElement(n,t);var r=e;if(typeof n=="function"&&(r=n(t),j.isValidElement(r)))return r;var i=In("recharts-pie-label-text",LY(n));return j.createElement(C1,Nc({},t,{alignmentBaseline:"middle",className:i}),r)};function RY(n){var{sectors:t,props:e,showLabels:r}=n,{label:i,labelLine:a,dataKey:o}=e;if(!r||!i||!t)return null;var l=Vo(e),c=Zp(i),h=Zp(a),f=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((v,g)=>{var w=(v.startAngle+v.endAngle)/2,y=oi(v.cx,v.cy,v.outerRadius+f,w),x=zr(zr(zr(zr({},l),v),{},{stroke:"none"},c),{},{index:g,textAnchor:OY(y.x,v.cx)},y),S=zr(zr(zr(zr({},l),v),{},{fill:"none",stroke:v.fill},h),{},{index:g,points:[oi(v.cx,v.cy,v.outerRadius,w),y],key:"line"});return j.createElement(Zo,{zIndex:ea.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(g)},j.createElement(ka,null,a&&MY(a,S),DY(i,x,vr(v,o))))});return j.createElement(ka,{className:"recharts-pie-labels"},p)}function IY(n){var{sectors:t,props:e,showLabels:r}=n,{label:i}=e;return typeof i=="object"&&i!=null&&"position"in i?j.createElement(hM,{label:i}):j.createElement(RY,{sectors:t,props:e,showLabels:r})}function jY(n){var{sectors:t,activeShape:e,inactiveShape:r,allOtherPieProps:i,shape:a}=n,o=ce(Ih),{onMouseEnter:l,onClick:c,onMouseLeave:h}=i,f=P1(i,bY),p=Rx(l,i.dataKey),v=Ix(h),g=jx(c,i.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((w,y)=>{if(w?.startAngle===0&&w?.endAngle===0&&t.length!==1)return null;var x=String(y)===o,S=o?r:null,O=e&&x?e:S,C=zr(zr({},w),{},{stroke:w.stroke,tabIndex:-1,[Ak]:y,[xk]:i.dataKey});return j.createElement(ka,Nc({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},Ag(f,w,y),{onMouseEnter:p(w,y),onMouseLeave:v(w,y),onClick:g(w,y)}),j.createElement(vM,Nc({option:a??O,shapeType:"sector",isActive:x},C)))}))}function BY(n){var t,{pieSettings:e,displayedData:r,cells:i,offset:a}=n,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:h,nameKey:f,tooltipType:p}=e,v=Math.abs(e.minAngle),g=kY(l,c),w=Math.abs(g),y=r.length<=1?0:(t=e.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(R=>vr(R,h,0)!==0).length,S=(w>=360?x:x-1)*y,O=w-x*v-S,C=r.reduce((R,B)=>{var H=vr(B,h,0);return R+(he(H)?H:0)},0),N;if(C>0){var k;N=r.map((R,B)=>{var H=vr(R,h,0),q=vr(R,f,B),rt=NY(e,a,R),D=(he(H)?H:0)/C,z,et=zr(zr({},R),i&&i[B]&&i[B].props);B?z=k.endAngle+Bi(g)*y*(H!==0?1:0):z=l;var tt=z+Bi(g)*((H!==0?v:0)+D*O),dt=(z+tt)/2,V=(rt.innerRadius+rt.outerRadius)/2,J=[{name:q,value:H,payload:et,dataKey:h,type:p}],st=oi(rt.cx,rt.cy,V,dt);return k=zr(zr(zr(zr({},e.presentationProps),{},{percent:D,cornerRadius:typeof o=="string"?parseFloat(o):o,name:q,tooltipPayload:J,midAngle:dt,middleRadius:V,tooltipPosition:st},et),rt),{},{value:H,startAngle:z,endAngle:tt,payload:et,paddingAngle:Bi(g)*y}),k})}return N}function FY(n){var{showLabels:t,sectors:e,children:r}=n,i=j.useMemo(()=>!t||!e?[]:e.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[e,t]);return j.createElement(yV,{value:t?i:void 0},r)}function zY(n){var{props:t,previousSectorsRef:e}=n,{sectors:r,isAnimationActive:i,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:h,onAnimationStart:f,onAnimationEnd:p}=t,v=u1(t,"recharts-pie-"),g=e.current,[w,y]=j.useState(!1),x=j.useCallback(()=>{typeof p=="function"&&p(),y(!1)},[p]),S=j.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return j.createElement(FY,{showLabels:!w,sectors:r},j.createElement(l1,{animationId:v,begin:a,duration:o,isActive:i,easing:l,onAnimationStart:S,onAnimationEnd:x,key:v},O=>{var C=[],N=r&&r[0],k=N?.startAngle;return r?.forEach((R,B)=>{var H=g&&g[B],q=B>0?Lh(R,"paddingAngle",0):0;if(H){var rt=yi(H.endAngle-H.startAngle,R.endAngle-R.startAngle,O),D=zr(zr({},R),{},{startAngle:k+q,endAngle:k+rt+q});C.push(D),k=D.endAngle}else{var{endAngle:z,startAngle:et}=R,tt=yi(0,z-et,O),dt=zr(zr({},R),{},{startAngle:k+q,endAngle:k+tt+q});C.push(dt),k=dt.endAngle}}),e.current=C,j.createElement(ka,null,j.createElement(jY,{sectors:C,activeShape:c,inactiveShape:h,allOtherPieProps:t,shape:t.shape}))}),j.createElement(IY,{showLabels:!w,sectors:r,props:t}),t.children)}var UY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!$h.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ea.area};function qY(n){var{id:t}=n,e=P1(n,wY),{hide:r,className:i,rootTabIndex:a}=n,o=j.useMemo(()=>Dx(n.children,zg),[n.children]),l=ce(f=>RV(f,t,o)),c=j.useRef(null),h=In("recharts-pie",i);return r||l==null?(c.current=null,j.createElement(ka,{tabIndex:a,className:h})):j.createElement(Zo,{zIndex:n.zIndex},j.createElement(TY,{dataKey:n.dataKey,nameKey:n.nameKey,sectors:l,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,tooltipType:n.tooltipType}),j.createElement(ka,{tabIndex:a,className:h},j.createElement(zY,{props:zr(zr({},e),{},{sectors:l}),previousSectorsRef:c})))}function xM(n){var t=zi(n,UY),{id:e}=t,r=P1(t,AY),i=Vo(r);return j.createElement(wM,{id:e,type:"pie"},a=>j.createElement(j.Fragment,null,j.createElement(vY,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),j.createElement(CY,Nc({},r,{id:a})),j.createElement(qY,Nc({},r,{id:a}))))}xM.displayName="Pie";function DT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function RT(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(e),!0).forEach(function(r){HY(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):DT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function HY(n,t,e){return(t=$Y(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function $Y(n){var t=GY(n,"string");return typeof t=="symbol"?t:t+""}function GY(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var WY={xAxis:{},yAxis:{},zAxis:{}},SM=rs({name:"cartesianAxis",initialState:WY,reducers:{addXAxis:{reducer(n,t){n.xAxis[t.payload.id]=t.payload},prepare:mr()},replaceXAxis:{reducer(n,t){var{prev:e,next:r}=t.payload;n.xAxis[e.id]!==void 0&&(e.id!==r.id&&delete n.xAxis[e.id],n.xAxis[r.id]=r)},prepare:mr()},removeXAxis:{reducer(n,t){delete n.xAxis[t.payload.id]},prepare:mr()},addYAxis:{reducer(n,t){n.yAxis[t.payload.id]=t.payload},prepare:mr()},replaceYAxis:{reducer(n,t){var{prev:e,next:r}=t.payload;n.yAxis[e.id]!==void 0&&(e.id!==r.id&&delete n.yAxis[e.id],n.yAxis[r.id]=r)},prepare:mr()},removeYAxis:{reducer(n,t){delete n.yAxis[t.payload.id]},prepare:mr()},addZAxis:{reducer(n,t){n.zAxis[t.payload.id]=t.payload},prepare:mr()},replaceZAxis:{reducer(n,t){var{prev:e,next:r}=t.payload;n.zAxis[e.id]!==void 0&&(e.id!==r.id&&delete n.zAxis[e.id],n.zAxis[r.id]=r)},prepare:mr()},removeZAxis:{reducer(n,t){delete n.zAxis[t.payload.id]},prepare:mr()},updateYAxisWidth(n,t){var{id:e,width:r}=t.payload,i=n.yAxis[e];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var o=[...a,r].slice(-3);n.yAxis[e]=RT(RT({},n.yAxis[e]),{},{width:r,widthHistory:o})}}}}),{addXAxis:VY,replaceXAxis:YY,removeXAxis:KY,addYAxis:XY,replaceYAxis:ZY,removeYAxis:QY,addZAxis:Bit,replaceZAxis:Fit,removeZAxis:zit,updateYAxisWidth:JY}=SM.actions,tK=SM.reducer,eK=Pt([wi],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),nK=Pt([eK,Du,Ru],(n,t,e)=>{if(!(!n||t==null||e==null))return{x:n.left,y:n.top,width:Math.max(0,t-n.left-n.right),height:Math.max(0,e-n.top-n.bottom)}}),_M=()=>ce(nK),rK="Invariant failed";function iK(n,t){throw new Error(rK)}var aK=["x","y"];function f5(){return f5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},f5.apply(null,arguments)}function IT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Mp(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(e),!0).forEach(function(r){sK(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):IT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function sK(n,t,e){return(t=oK(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function oK(n){var t=lK(n,"string");return typeof t=="symbol"?t:t+""}function lK(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function uK(n,t){if(n==null)return{};var e,r,i=cK(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function cK(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function hK(n,t){var{x:e,y:r}=n,i=uK(n,aK),a="".concat(e),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),h="".concat(t.height||i.height),f=parseInt(h,10),p="".concat(t.width||i.width),v=parseInt(p,10);return Mp(Mp(Mp(Mp(Mp({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:v,name:t.name,radius:t.radius})}function Sv(n){return j.createElement(vM,f5({shapeType:"rectangle",propTransformer:hK,activeClassName:"recharts-active-bar"},n))}var fK=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(he(t))return t;var a=he(r)||Fi(r);return a?t(r,i):(a||iK(),e)}},dK={},EM=rs({name:"errorBars",initialState:dK,reducers:{addErrorBar:(n,t)=>{var{itemId:e,errorBar:r}=t.payload;n[e]||(n[e]=[]),n[e].push(r)},replaceErrorBar:(n,t)=>{var{itemId:e,prev:r,next:i}=t.payload;n[e]&&(n[e]=n[e].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(n,t)=>{var{itemId:e,errorBar:r}=t.payload;n[e]&&(n[e]=n[e].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Uit,replaceErrorBar:qit,removeErrorBar:Hit}=EM.actions,pK=EM.reducer,gK=["children"];function mK(n,t){if(n==null)return{};var e,r,i=vK(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function vK(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var yK={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},bK=j.createContext(yK);function wK(n){var{children:t}=n,e=mK(n,gK);return j.createElement(bK.Provider,{value:e},t)}function CM(n,t){var e,r,i=ce(h=>ju(h,n)),a=ce(h=>Bu(h,t)),o=(e=i?.allowDataOverflow)!==null&&e!==void 0?e:Li.allowDataOverflow,l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Mi.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function AK(n){var{xAxisId:t,yAxisId:e,clipPathId:r}=n,i=_M(),{needClipX:a,needClipY:o,needClip:l}=CM(t,e);if(!l||!i)return null;var{x:c,y:h,width:f,height:p}=i;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:a?c:c-f/2,y:o?h:h-p/2,width:a?f:f*2,height:o?p:p*2}))}function xK(n,t){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&Zr(n.zIndex)?n.zIndex:t}var M2={exports:{}},D2={};var jT;function SK(){if(jT)return D2;jT=1;var n=kd();function t(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var e=typeof Object.is=="function"?Object.is:t,r=n.useSyncExternalStore,i=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return D2.useSyncExternalStoreWithSelector=function(c,h,f,p,v){var g=i(null);if(g.current===null){var w={hasValue:!1,value:null};g.current=w}else w=g.current;g=o(function(){function x(k){if(!S){if(S=!0,O=k,k=p(k),v!==void 0&&w.hasValue){var R=w.value;if(v(R,k))return C=R}return C=k}if(R=C,e(O,k))return R;var B=p(k);return v!==void 0&&v(R,B)?(O=k,R):(O=k,C=B)}var S=!1,O,C,N=f===void 0?null:f;return[function(){return x(h())},N===null?void 0:function(){return x(N())}]},[h,f,p,v]);var y=r(c,g[0],g[1]);return a(function(){w.hasValue=!0,w.value=y},[y]),l(y),y},D2}var BT;function _K(){return BT||(BT=1,M2.exports=SK()),M2.exports}_K();function EK(n){n()}function CK(){let n=null,t=null;return{clear(){n=null,t=null},notify(){EK(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let r=n;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let r=!0;const i=t={callback:e,next:null,prev:t};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var FT={notify(){},get:()=>[]};function TK(n,t){let e,r=FT,i=0,a=!1;function o(y){f();const x=r.subscribe(y);let S=!1;return()=>{S||(S=!0,x(),p())}}function l(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function h(){return a}function f(){i++,e||(e=n.subscribe(c),r=CK())}function p(){i--,e&&i===0&&(e(),e=void 0,r.clear(),r=FT)}function v(){a||(a=!0,f())}function g(){a&&(a=!1,p())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:h,trySubscribe:v,tryUnsubscribe:g,getListeners:()=>r};return w}var OK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PK=OK(),NK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kK=NK(),LK=()=>PK||kK?j.useLayoutEffect:j.useEffect,MK=LK();function zT(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function DK(n,t){if(zT(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(t,e[i])||!zT(n[e[i]],t[e[i]]))return!1;return!0}var RK=Symbol.for("react-redux-context"),IK=typeof globalThis<"u"?globalThis:{};function jK(){if(!j.createContext)return{};const n=IK[RK]??=new Map;let t=n.get(j.createContext);return t||(t=j.createContext(null),n.set(j.createContext,t)),t}var BK=jK();function FK(n){const{children:t,context:e,serverState:r,store:i}=n,a=j.useMemo(()=>{const c=TK(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=j.useMemo(()=>i.getState(),[i]);MK(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,o]);const l=e||BK;return j.createElement(l.Provider,{value:a},t)}var zK=FK,UK=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function qK(n,t){return n==null&&t==null?!0:typeof n=="number"&&typeof t=="number"?n===t||n!==n&&t!==t:n===t}function Bx(n,t){var e=new Set([...Object.keys(n),...Object.keys(t)]);for(var r of e)if(UK.has(r)){if(n[r]==null&&t[r]==null)continue;if(!DK(n[r],t[r]))return!1}else if(!qK(n[r],t[r]))return!1;return!0}var HK=["onMouseEnter","onMouseLeave","onClick"],$K=["value","background","tooltipPosition"],GK=["id"],WK=["onMouseEnter","onClick","onMouseLeave"];function ku(){return ku=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},ku.apply(null,arguments)}function UT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function Oa(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(e),!0).forEach(function(r){VK(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):UT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function VK(n,t,e){return(t=YK(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function YK(n){var t=KK(n,"string");return typeof t=="symbol"?t:t+""}function KK(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function _v(n,t){if(n==null)return{};var e,r,i=XK(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function XK(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var ZK=n=>{var{dataKey:t,name:e,fill:r,legendType:i,hide:a}=n;return[{inactive:a,dataKey:t,type:i,color:r,value:Zv(e,t),payload:n}]},QK=j.memo(n=>{var{dataKey:t,stroke:e,strokeWidth:r,fill:i,name:a,hide:o,unit:l,tooltipType:c}=n,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:e,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Zv(a,t),hide:o,type:c,color:i,unit:l}};return j.createElement(yM,{tooltipEntrySettings:h})});function JK(n){var t=ce(Ih),{data:e,dataKey:r,background:i,allOtherBarProps:a}=n,{onMouseEnter:o,onMouseLeave:l,onClick:c}=a,h=_v(a,HK),f=Rx(o,r),p=Ix(l),v=jx(c,r);if(!i||e==null)return null;var g=Zp(i);return j.createElement(Zo,{zIndex:xK(i,ea.barBackground)},e.map((w,y)=>{var{value:x,background:S,tooltipPosition:O}=w,C=_v(w,$K);if(!S)return null;var N=f(w,y),k=p(w,y),R=v(w,y),B=Oa(Oa(Oa(Oa(Oa({option:i,isActive:String(y)===t},C),{},{fill:"#eee"},S),g),Ag(h,w,y)),{},{onMouseEnter:N,onMouseLeave:k,onClick:R,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return j.createElement(Sv,ku({key:"background-bar-".concat(y)},B))}))}function tX(n){var{showLabels:t,children:e,rects:r}=n,i=r?.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Oa(Oa({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return j.createElement(vV,{value:t?i:void 0},e)}function eX(n){var{shape:t,activeBar:e,baseProps:r,entry:i,index:a,dataKey:o}=n,l=ce(Ih),c=ce(qL),h=e&&String(a)===l&&(c==null||o===c),f=h?e:t;return h?j.createElement(Zo,{zIndex:ea.activeBar},j.createElement(Sv,ku({},r,{name:String(r.name)},i,{isActive:h,option:f,index:a,dataKey:o}))):j.createElement(Sv,ku({},r,{name:String(r.name)},i,{isActive:h,option:f,index:a,dataKey:o}))}function nX(n){var{shape:t,baseProps:e,entry:r,index:i,dataKey:a}=n;return j.createElement(Sv,ku({},e,{name:String(e.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function rX(n){var t,{data:e,props:r}=n,i=(t=Vo(r))!==null&&t!==void 0?t:{},{id:a}=i,o=_v(i,GK),{shape:l,dataKey:c,activeBar:h}=r,{onMouseEnter:f,onClick:p,onMouseLeave:v}=r,g=_v(r,WK),w=Rx(f,c),y=Ix(v),x=jx(p,c);return e?j.createElement(j.Fragment,null,e.map((S,O)=>j.createElement(ka,ku({key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(O),className:"recharts-bar-rectangle"},Ag(g,S,O),{onMouseEnter:w(S,O),onMouseLeave:y(S,O),onClick:x(S,O)}),h?j.createElement(eX,{shape:l,activeBar:h,baseProps:o,entry:S,index:O,dataKey:c}):j.createElement(nX,{shape:l,baseProps:o,entry:S,index:O,dataKey:c})))):null}function iX(n){var{props:t,previousRectanglesRef:e}=n,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:h,onAnimationStart:f}=t,p=e.current,v=u1(t,"recharts-bar-"),[g,w]=j.useState(!1),y=!g,x=j.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),S=j.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return j.createElement(tX,{showLabels:y,rects:r},j.createElement(l1,{animationId:v,begin:o,duration:l,isActive:a,easing:c,onAnimationEnd:x,onAnimationStart:S,key:v},O=>{var C=O===1?r:r?.map((N,k)=>{var R=p&&p[k];if(R)return Oa(Oa({},N),{},{x:yi(R.x,N.x,O),y:yi(R.y,N.y,O),width:yi(R.width,N.width,O),height:yi(R.height,N.height,O)});if(i==="horizontal"){var B=yi(0,N.height,O),H=yi(N.stackedBarStart,N.y,O);return Oa(Oa({},N),{},{y:H,height:B})}var q=yi(0,N.width,O),rt=yi(N.stackedBarStart,N.x,O);return Oa(Oa({},N),{},{width:q,x:rt})});return O>0&&(e.current=C??null),C==null?null:j.createElement(ka,null,j.createElement(rX,{props:t,data:C}))}),j.createElement(hM,{label:t.label}),t.children)}function aX(n){var t=j.useRef(null);return j.createElement(iX,{previousRectanglesRef:t,props:n})}var TM=0,sX=(n,t)=>{var e=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:e,errorVal:vr(n,t)}};class oX extends j.PureComponent{render(){var{hide:t,data:e,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:l,background:c,id:h}=this.props;if(t||e==null)return null;var f=In("recharts-bar",i),p=h;return j.createElement(ka,{className:f,id:h},l&&j.createElement("defs",null,j.createElement(AK,{clipPathId:p,xAxisId:a,yAxisId:o})),j.createElement(ka,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(p,")"):void 0},j.createElement(JK,{data:e,dataKey:r,background:c,allOtherBarProps:this.props}),j.createElement(aX,this.props)))}}var lX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:TM,xAxisId:0,yAxisId:0,zIndex:ea.bar};function uX(n){var{xAxisId:t,yAxisId:e,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:h,isAnimationActive:f}=n,{needClip:p}=CM(t,e),v=r1(),g=is(),w=Dx(n.children,zg),y=ce(O=>jX(O,t,e,g,n.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var x,S=y?.[0];return S==null||S.height==null||S.width==null?x=0:x=v==="vertical"?S.height/2:S.width/2,j.createElement(wK,{xAxisId:t,yAxisId:e,data:y,dataPointFormatter:sX,errorBarOffset:x},j.createElement(oX,ku({},n,{layout:v,needClip:p,data:y,xAxisId:t,yAxisId:e,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:h,isAnimationActive:f})))}function cX(n){var{layout:t,barSettings:{dataKey:e,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:h,stackedData:f,displayedData:p,offset:v,cells:g,parentViewBox:w,dataStartIndex:y}=n,x=t==="horizontal"?l:o,S=f?x.scale.domain():null,O=qB({numericAxis:x}),C=x.scale(O);return p.map((N,k)=>{var R,B,H,q,rt,D;f?R=IB(f[k+y],S):(R=vr(N,e),Array.isArray(R)||(R=[O,R]));var z=fK(r,TM)(R[1],k);if(t==="horizontal"){var et,[tt,dt]=[l.scale(R[0]),l.scale(R[1])];B=iC({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:N,index:k}),H=(et=dt??tt)!==null&&et!==void 0?et:void 0,q=i.size;var V=tt-dt;if(rt=Yo(V)?0:V,D={x:B,y:v.top,width:q,height:v.height},Math.abs(z)>0&&Math.abs(rt)<Math.abs(z)){var J=Bi(rt||z)*(Math.abs(z)-Math.abs(rt));H-=J,rt+=J}}else{var[st,gt]=[o.scale(R[0]),o.scale(R[1])];if(B=st,H=iC({axis:l,ticks:h,bandSize:a,offset:i.offset,entry:N,index:k}),q=gt-st,rt=i.size,D={x:v.left,y:H,width:v.width,height:rt},Math.abs(z)>0&&Math.abs(q)<Math.abs(z)){var kt=Bi(q||z)*(Math.abs(z)-Math.abs(q));q+=kt}}if(B==null||H==null||q==null||rt==null)return null;var Z=Oa(Oa({},N),{},{stackedBarStart:C,x:B,y:H,width:q,height:rt,value:f?R:R[1],payload:N,background:D,tooltipPosition:{x:B+q/2,y:H+rt/2},parentViewBox:w},g&&g[k]&&g[k].props);return Z}).filter(Boolean)}function hX(n){var t=zi(n,lX),e=is();return j.createElement(wM,{id:t.id,type:"bar"},r=>j.createElement(j.Fragment,null,j.createElement(rY,{legendPayload:ZK(t)}),j.createElement(QK,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),j.createElement(mY,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:UB(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:e}),j.createElement(Zo,{zIndex:t.zIndex},j.createElement(uX,ku({},t,{id:r})))))}var d5=j.memo(hX,Bx);d5.displayName="Bar";function qT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function r0(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(e),!0).forEach(function(r){fX(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):qT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function fX(n,t,e){return(t=dX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function dX(n){var t=pX(n,"string");return typeof t=="symbol"?t:t+""}function pX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var gX=(n,t)=>t,mX=(n,t,e)=>e,vX=(n,t,e,r)=>r,yX=(n,t,e,r,i)=>i,Ug=Pt([nx,yX],(n,t)=>n.filter(e=>e.type==="bar").find(e=>e.id===t)),bX=Pt([Ug],n=>n?.maxBarSize),wX=(n,t,e,r,i,a)=>a,HT=(n,t,e)=>{var r=e??n;if(!Fi(r))return da(r,t,0)},AX=Pt([Sn,nx,gX,mX,vX],(n,t,e,r,i)=>t.filter(a=>n==="horizontal"?a.xAxisId===e:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),xX=(n,t,e,r)=>{var i=Sn(n);return i==="horizontal"?a5(n,"yAxis",e,r):a5(n,"xAxis",t,r)},SX=(n,t,e)=>{var r=Sn(n);return r==="horizontal"?B4(n,"xAxis",t):B4(n,"yAxis",e)},_X=(n,t,e)=>{var r={},i=n.filter(y1),a=n.filter(h=>h.stackId==null),o=i.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),r),l=Object.entries(o).map(h=>{var[f,p]=h,v=p.map(w=>w.dataKey),g=HT(t,e,p[0].barSize);return{stackId:f,dataKeys:v,barSize:g}}),c=a.map(h=>{var f=[h.dataKey].filter(v=>v!=null),p=HT(t,e,h.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...l,...c]},EX=Pt([AX,iH,SX],_X),CX=(n,t,e,r,i)=>{var a,o,l=Ug(n,t,e,r,i);if(l!=null){var c=Sn(n),h=H6(n),{maxBarSize:f}=l,p=Fi(f)?h:f,v,g;return c==="horizontal"?(v=Pd(n,"xAxis",t,r),g=Od(n,"xAxis",t,r)):(v=Pd(n,"yAxis",e,r),g=Od(n,"yAxis",e,r)),(a=(o=Z0(v,g,!0))!==null&&o!==void 0?o:p)!==null&&a!==void 0?a:0}},OM=(n,t,e,r)=>{var i=Sn(n),a,o;return i==="horizontal"?(a=Pd(n,"xAxis",t,r),o=Od(n,"xAxis",t,r)):(a=Pd(n,"yAxis",e,r),o=Od(n,"yAxis",e,r)),Z0(a,o)};function TX(n,t,e,r,i){var a=r.length;if(!(a<1)){var o=da(n,e,0,!0),l,c=[];if(Zr(r[0].barSize)){var h=!1,f=e/a,p=r.reduce((S,O)=>S+(O.barSize||0),0);p+=(a-1)*o,p>=e&&(p-=(a-1)*o,o=0),p>=e&&f>0&&(h=!0,f*=.9,p=a*f);var v=(e-p)/2>>0,g={offset:v-o,size:0};l=r.reduce((S,O)=>{var C,N={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:g.offset+g.size+o,size:h?f:(C=O.barSize)!==null&&C!==void 0?C:0}},k=[...S,N];return g=k[k.length-1].position,k},c)}else{var w=da(t,e,0,!0);e-2*w-(a-1)*o<=0&&(o=0);var y=(e-2*w-(a-1)*o)/a;y>1&&(y>>=0);var x=Zr(i)?Math.min(y,i):y;l=r.reduce((S,O,C)=>[...S,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:w+(y+o)*C+(y-x)/2,size:x}}],c)}return l}}var OX=(n,t,e,r,i,a,o)=>{var l=Fi(o)?t:o,c=TX(e,r,i!==a?i:a,n,l);return i!==a&&c!=null&&(c=c.map(h=>r0(r0({},h),{},{position:r0(r0({},h.position),{},{offset:h.position.offset-i/2})}))),c},PX=Pt([EX,H6,rH,$6,CX,OM,bX],OX),NX=(n,t,e,r)=>Pd(n,"xAxis",t,r),kX=(n,t,e,r)=>Pd(n,"yAxis",e,r),LX=(n,t,e,r)=>Od(n,"xAxis",t,r),MX=(n,t,e,r)=>Od(n,"yAxis",e,r),DX=Pt([PX,Ug],(n,t)=>{if(!(n==null||t==null)){var e=n.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(e!=null)return e.position}}),RX=(n,t)=>{var e=JA(t);if(!(!n||e==null||t==null)){var{stackId:r}=t;if(r!=null){var i=n[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===e)}}}},IX=Pt([xX,Ug],RX),jX=Pt([wi,dA,NX,kX,LX,MX,DX,Sn,$A,OM,IX,Ug,wX],(n,t,e,r,i,a,o,l,c,h,f,p,v)=>{var{chartData:g,dataStartIndex:w,dataEndIndex:y}=c;if(!(p==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||e==null||r==null||i==null||a==null||h==null)){var{data:x}=p,S;if(x!=null&&x.length>0?S=x:S=g?.slice(w,y+1),S!=null)return cX({layout:l,barSettings:p,pos:o,parentViewBox:t,bandSize:h,xAxis:e,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:f,displayedData:S,offset:n,cells:v,dataStartIndex:w})}}),PM=n=>{var{chartData:t}=n,e=tr(),r=is();return j.useEffect(()=>r?()=>{}:(e(Z4(t)),()=>{e(Z4(void 0))}),[t,e,r]),null},$T={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},NM=rs({name:"brush",initialState:$T,reducers:{setBrushSettings(n,t){return t.payload==null?$T:t.payload}}}),{setBrushSettings:$it}=NM.actions,BX=NM.reducer;function FX(n,t,e){return(t=zX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function zX(n){var t=UX(n,"string");return typeof t=="symbol"?t:t+""}function UX(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}class Fx{static create(t){return new Fx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:e,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(e){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var e=this.range(),r=e[0],i=e[e.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}FX(Fx,"EPS",1e-4);function qX(n){return(n%180+180)%180}var HX=function(t){var{width:e,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=qX(i),o=a*Math.PI/180,l=Math.atan(r/e),c=o>l&&o<Math.PI-l?r/Math.sin(o):e/Math.cos(o);return Math.abs(c)},$X={dots:[],areas:[],lines:[]},kM=rs({name:"referenceElements",initialState:$X,reducers:{addDot:(n,t)=>{n.dots.push(t.payload)},removeDot:(n,t)=>{var e=Wo(n).dots.findIndex(r=>r===t.payload);e!==-1&&n.dots.splice(e,1)},addArea:(n,t)=>{n.areas.push(t.payload)},removeArea:(n,t)=>{var e=Wo(n).areas.findIndex(r=>r===t.payload);e!==-1&&n.areas.splice(e,1)},addLine:(n,t)=>{n.lines.push(t.payload)},removeLine:(n,t)=>{var e=Wo(n).lines.findIndex(r=>r===t.payload);e!==-1&&n.lines.splice(e,1)}}}),{addDot:Git,removeDot:Wit,addArea:Vit,removeArea:Yit,addLine:Kit,removeLine:Xit}=kM.actions,GX=kM.reducer,WX=j.createContext(void 0),VX=n=>{var{children:t}=n,[e]=j.useState("".concat(Qp("recharts"),"-clip")),r=_M();if(r==null)return null;var{x:i,y:a,width:o,height:l}=r;return j.createElement(WX.Provider,{value:e},j.createElement("defs",null,j.createElement("clipPath",{id:e},j.createElement("rect",{x:i,y:a,height:l,width:o}))),t)};function LM(n,t){if(t<1)return[];if(t===1)return n;for(var e=[],r=0;r<n.length;r+=t)e.push(n[r]);return e}function YX(n,t,e){var r={width:n.width+t.width,height:n.height+t.height};return HX(r,e)}function KX(n,t,e){var r=e==="width",{x:i,y:a,width:o,height:l}=n;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Ev(n,t,e,r,i){if(n*t<n*r||n*t>n*i)return!1;var a=e();return n*(t-n*a/2-r)>=0&&n*(t+n*a/2-i)<=0}function XX(n,t){return LM(n,t+1)}function ZX(n,t,e,r,i){for(var a=(r||[]).slice(),{start:o,end:l}=t,c=0,h=1,f=o,p=function(){var w=r?.[c];if(w===void 0)return{v:LM(r,h)};var y=c,x,S=()=>(x===void 0&&(x=e(w,y)),x),O=w.coordinate,C=c===0||Ev(n,O,S,f,l);C||(c=0,f=o,h+=1),C&&(f=O+n*(S()/2+i),c+=h)},v;h<=a.length;)if(v=p(),v)return v.v;return[]}function GT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function ha(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(e),!0).forEach(function(r){QX(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):GT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function QX(n,t,e){return(t=JX(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function JX(n){var t=tZ(n,"string");return typeof t=="symbol"?t:t+""}function tZ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function eZ(n,t,e,r,i){for(var a=(r||[]).slice(),o=a.length,{start:l}=t,{end:c}=t,h=function(v){var g=a[v],w,y=()=>(w===void 0&&(w=e(g,v)),w);if(v===o-1){var x=n*(g.coordinate+n*y()/2-c);a[v]=g=ha(ha({},g),{},{tickCoord:x>0?g.coordinate-x*n:g.coordinate})}else a[v]=g=ha(ha({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var S=Ev(n,g.tickCoord,y,l,c);S&&(c=g.tickCoord-n*(y()/2+i),a[v]=ha(ha({},g),{},{isShow:!0}))}},f=o-1;f>=0;f--)h(f);return a}function nZ(n,t,e,r,i,a){var o=(r||[]).slice(),l=o.length,{start:c,end:h}=t;if(a){var f=r[l-1],p=e(f,l-1),v=n*(f.coordinate+n*p/2-h);if(o[l-1]=f=ha(ha({},f),{},{tickCoord:v>0?f.coordinate-v*n:f.coordinate}),f.tickCoord!=null){var g=Ev(n,f.tickCoord,()=>p,c,h);g&&(h=f.tickCoord-n*(p/2+i),o[l-1]=ha(ha({},f),{},{isShow:!0}))}}for(var w=a?l-1:l,y=function(O){var C=o[O],N,k=()=>(N===void 0&&(N=e(C,O)),N);if(O===0){var R=n*(C.coordinate-n*k()/2-c);o[O]=C=ha(ha({},C),{},{tickCoord:R<0?C.coordinate-R*n:C.coordinate})}else o[O]=C=ha(ha({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var B=Ev(n,C.tickCoord,k,c,h);B&&(c=C.tickCoord+n*(k()/2+i),o[O]=ha(ha({},C),{},{isShow:!0}))}},x=0;x<w;x++)y(x);return o}function zx(n,t,e){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:l,interval:c,tickFormatter:h,unit:f,angle:p}=n;if(!i||!i.length||!r)return[];if(he(c)||$h.isSsr){var v;return(v=XX(i,he(c)?c:0))!==null&&v!==void 0?v:[]}var g=[],w=l==="top"||l==="bottom"?"width":"height",y=f&&w==="width"?Wp(f,{fontSize:t,letterSpacing:e}):{width:0,height:0},x=(C,N)=>{var k=typeof h=="function"?h(C.value,N):C.value;return w==="width"?YX(Wp(k,{fontSize:t,letterSpacing:e}),y,p):Wp(k,{fontSize:t,letterSpacing:e})[w]},S=i.length>=2?Bi(i[1].coordinate-i[0].coordinate):1,O=KX(a,S,w);return c==="equidistantPreserveStart"?ZX(S,O,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=nZ(S,O,x,i,o,c==="preserveStartEnd"):g=eZ(S,O,x,i,o),g.filter(C=>C.isShow))}var rZ=n=>{var{ticks:t,label:e,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=n,o=0;if(t){Array.from(t).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var l=e?e.getBoundingClientRect().width:0,c=i+a,h=o+c+l+(e?r:0);return Math.round(h)}return 0},iZ=["axisLine","width","height","className","hide","ticks","axisType"];function aZ(n,t){if(n==null)return{};var e,r,i=sZ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function sZ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},jh.apply(null,arguments)}function WT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function si(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(e),!0).forEach(function(r){oZ(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):WT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function oZ(n,t,e){return(t=lZ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function lZ(n){var t=uZ(n,"string");return typeof t=="symbol"?t:t+""}function uZ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var _u={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ea.axis};function cZ(n){var{x:t,y:e,width:r,height:i,orientation:a,mirror:o,axisLine:l,otherSvgProps:c}=n;if(!l)return null;var h=si(si(si({},c),Vo(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);h=si(si({},h),{},{x1:t,y1:e+f*i,x2:t+r,y2:e+f*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);h=si(si({},h),{},{x1:t+p*r,y1:e,x2:t+p*r,y2:e+i})}return j.createElement("line",jh({},h,{className:In("recharts-cartesian-axis-line",Lh(l,"className"))}))}function hZ(n,t,e,r,i,a,o,l,c){var h,f,p,v,g,w,y=l?-1:1,x=n.tickSize||o,S=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(a){case"top":h=f=n.coordinate,v=e+ +!l*i,p=v-y*x,w=p-y*c,g=S;break;case"left":p=v=n.coordinate,f=t+ +!l*r,h=f-y*x,g=h-y*c,w=S;break;case"right":p=v=n.coordinate,f=t+ +l*r,h=f+y*x,g=h+y*c,w=S;break;default:h=f=n.coordinate,v=e+ +l*i,p=v+y*x,w=p+y*c,g=S;break}return{line:{x1:h,y1:p,x2:f,y2:v},tick:{x:g,y:w}}}function fZ(n,t){switch(n){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function dZ(n,t){switch(n){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function pZ(n){var{option:t,tickProps:e,value:r}=n,i,a=In(e.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))i=j.cloneElement(t,si(si({},e),{},{className:a}));else if(typeof t=="function")i=t(si(si({},e),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=In(o,t?.className)),i=j.createElement(C1,jh({},e,{className:o}),r)}return i}var gZ=j.forwardRef((n,t)=>{var{ticks:e=[],tick:r,tickLine:i,stroke:a,tickFormatter:o,unit:l,padding:c,tickTextProps:h,orientation:f,mirror:p,x:v,y:g,width:w,height:y,tickSize:x,tickMargin:S,fontSize:O,letterSpacing:C,getTicksConfig:N,events:k,axisType:R}=n,B=zx(si(si({},N),{},{ticks:e}),O,C),H=fZ(f,p),q=dZ(f,p),rt=Vo(N),D=Zp(r),z={};typeof i=="object"&&(z=i);var et=si(si({},rt),{},{fill:"none"},z),tt=B.map(J=>si({entry:J},hZ(J,v,g,w,y,f,x,p,S))),dt=tt.map(J=>{var{entry:st,line:gt}=J;return j.createElement(ka,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(st.value,"-").concat(st.coordinate,"-").concat(st.tickCoord)},i&&j.createElement("line",jh({},et,gt,{className:In("recharts-cartesian-axis-tick-line",Lh(i,"className"))})))}),V=tt.map((J,st)=>{var{entry:gt,tick:kt}=J,Z=si(si(si(si({textAnchor:H,verticalAnchor:q},rt),{},{stroke:"none",fill:a},D),kt),{},{index:st,payload:gt,visibleTicksCount:B.length,tickFormatter:o,padding:c},h);return j.createElement(ka,jh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(gt.value,"-").concat(gt.coordinate,"-").concat(gt.tickCoord)},Ag(k,gt,st)),r&&j.createElement(pZ,{option:r,tickProps:Z,value:"".concat(typeof o=="function"?o(gt.value,st):gt.value).concat(l||"")}))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},V.length>0&&j.createElement(Zo,{zIndex:ea.label},j.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},V)),dt.length>0&&j.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},dt))}),mZ=j.forwardRef((n,t)=>{var{axisLine:e,width:r,height:i,className:a,hide:o,ticks:l,axisType:c}=n,h=aZ(n,iZ),[f,p]=j.useState(""),[v,g]=j.useState(""),w=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return rZ({ticks:w.current,label:(x=n.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var y=j.useCallback(x=>{if(x){var S=x.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=S;var O=S[0];if(O){var C=window.getComputedStyle(O),N=C.fontSize,k=C.letterSpacing;(N!==f||k!==v)&&(p(N),g(k))}}},[f,v]);return o||r!=null&&r<=0||i!=null&&i<=0?null:j.createElement(Zo,{zIndex:n.zIndex},j.createElement(ka,{className:In("recharts-cartesian-axis",a)},j.createElement(cZ,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:e,otherSvgProps:Vo(n)}),j.createElement(gZ,{ref:y,axisType:c,events:h,fontSize:f,getTicksConfig:n,height:n.height,letterSpacing:v,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:l,unit:n.unit,width:n.width,x:n.x,y:n.y}),j.createElement(XW,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},j.createElement(sV,{label:n.label,labelRef:n.labelRef}),n.children)))}),Ux=j.forwardRef((n,t)=>{var e=zi(n,_u);return j.createElement(mZ,jh({},e,{ref:t}))});Ux.displayName="CartesianAxis";var vZ=["x1","y1","x2","y2","key"],yZ=["offset"],bZ=["xAxisId","yAxisId"],wZ=["xAxisId","yAxisId"];function VT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function fa(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(e),!0).forEach(function(r){AZ(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):VT(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function AZ(n,t,e){return(t=xZ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function xZ(n){var t=SZ(n,"string");return typeof t=="symbol"?t:t+""}function SZ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function xh(){return xh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},xh.apply(null,arguments)}function Cv(n,t){if(n==null)return{};var e,r,i=_Z(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function _Z(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var EZ=n=>{var{fill:t}=n;if(!t||t==="none")return null;var{fillOpacity:e,x:r,y:i,width:a,height:o,ry:l}=n;return j.createElement("rect",{x:r,y:i,ry:l,width:a,height:o,stroke:"none",fill:t,fillOpacity:e,className:"recharts-cartesian-grid-bg"})};function MM(n){var{option:t,lineItemProps:e}=n,r;if(j.isValidElement(t))r=j.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var i,{x1:a,y1:o,x2:l,y2:c,key:h}=e,f=Cv(e,vZ),p=(i=Vo(f))!==null&&i!==void 0?i:{},{offset:v}=p,g=Cv(p,yZ);r=j.createElement("line",xh({},g,{x1:a,y1:o,x2:l,y2:c,fill:"none",key:h}))}return r}function CZ(n){var{x:t,width:e,horizontal:r=!0,horizontalPoints:i}=n;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=n,l=Cv(n,bZ),c=i.map((h,f)=>{var p=fa(fa({},l),{},{x1:t,y1:h,x2:t+e,y2:h,key:"line-".concat(f),index:f});return j.createElement(MM,{key:"line-".concat(f),option:r,lineItemProps:p})});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function TZ(n){var{y:t,height:e,vertical:r=!0,verticalPoints:i}=n;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=n,l=Cv(n,wZ),c=i.map((h,f)=>{var p=fa(fa({},l),{},{x1:h,y1:t,x2:h,y2:t+e,key:"line-".concat(f),index:f});return j.createElement(MM,{option:r,lineItemProps:p,key:"line-".concat(f)})});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function OZ(n){var{horizontalFill:t,fillOpacity:e,x:r,y:i,width:a,height:o,horizontalPoints:l,horizontal:c=!0}=n;if(!c||!t||!t.length||l==null)return null;var h=l.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var f=h.map((p,v)=>{var g=!h[v+1],w=g?i+o-p:h[v+1]-p;if(w<=0)return null;var y=v%t.length;return j.createElement("rect",{key:"react-".concat(v),y:p,x:r,height:w,width:a,stroke:"none",fill:t[y],fillOpacity:e,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function PZ(n){var{vertical:t=!0,verticalFill:e,fillOpacity:r,x:i,y:a,width:o,height:l,verticalPoints:c}=n;if(!t||!e||!e.length)return null;var h=c.map(p=>Math.round(p+i-i)).sort((p,v)=>p-v);i!==h[0]&&h.unshift(0);var f=h.map((p,v)=>{var g=!h[v+1],w=g?i+o-p:h[v+1]-p;if(w<=0)return null;var y=v%e.length;return j.createElement("rect",{key:"react-".concat(v),x:p,y:a,width:w,height:l,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var NZ=(n,t)=>{var{xAxis:e,width:r,height:i,offset:a}=n;return yk(zx(fa(fa(fa({},_u),e),{},{ticks:bk(e),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},kZ=(n,t)=>{var{yAxis:e,width:r,height:i,offset:a}=n;return yk(zx(fa(fa(fa({},_u),e),{},{ticks:bk(e),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},LZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ea.grid};function DM(n){var t=gA(),e=mA(),r=Tk(),i=fa(fa({},zi(n,LZ)),{},{x:he(n.x)?n.x:r.left,y:he(n.y)?n.y:r.top,width:he(n.width)?n.width:r.width,height:he(n.height)?n.height:r.height}),{xAxisId:a,yAxisId:o,x:l,y:c,width:h,height:f,syncWithTicks:p,horizontalValues:v,verticalValues:g}=i,w=is(),y=ce(q=>F4(q,"xAxis",a,w)),x=ce(q=>F4(q,"yAxis",o,w));if(!Ml(h)||!Ml(f)||!he(l)||!he(c))return null;var S=i.verticalCoordinatesGenerator||NZ,O=i.horizontalCoordinatesGenerator||kZ,{horizontalPoints:C,verticalPoints:N}=i;if((!C||!C.length)&&typeof O=="function"){var k=v&&v.length,R=O({yAxis:x?fa(fa({},x),{},{ticks:k?v:x.ticks}):void 0,width:t??h,height:e??f,offset:r},k?!0:p);Q0(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(C=R)}if((!N||!N.length)&&typeof S=="function"){var B=g&&g.length,H=S({xAxis:y?fa(fa({},y),{},{ticks:B?g:y.ticks}):void 0,width:t??h,height:e??f,offset:r},B?!0:p);Q0(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(N=H)}return j.createElement(Zo,{zIndex:i.zIndex},j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(EZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),j.createElement(OZ,xh({},i,{horizontalPoints:C})),j.createElement(PZ,xh({},i,{verticalPoints:N})),j.createElement(CZ,xh({},i,{offset:r,horizontalPoints:C,xAxis:y,yAxis:x})),j.createElement(TZ,xh({},i,{offset:r,verticalPoints:N,xAxis:y,yAxis:x}))))}DM.displayName="CartesianGrid";var MZ=["domain","range"],DZ=["domain","range"];function YT(n,t){if(n==null)return{};var e,r,i=RZ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function RZ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function KT(n,t){return n===t?!0:Array.isArray(n)&&n.length===2&&Array.isArray(t)&&t.length===2?n[0]===t[0]&&n[1]===t[1]:!1}function RM(n,t){if(n===t)return!0;var{domain:e,range:r}=n,i=YT(n,MZ),{domain:a,range:o}=t,l=YT(t,DZ);return!KT(e,a)||!KT(r,o)?!1:Bx(i,l)}var IZ=["dangerouslySetInnerHTML","ticks"],jZ=["id"];function p5(){return p5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},p5.apply(null,arguments)}function XT(n,t){if(n==null)return{};var e,r,i=BZ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function BZ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function FZ(n){var t=tr(),e=j.useRef(null);return j.useLayoutEffect(()=>{e.current===null?t(VY(n)):e.current!==n&&t(YY({prev:e.current,next:n})),e.current=n},[n,t]),j.useLayoutEffect(()=>()=>{e.current&&(t(KY(e.current)),e.current=null)},[t]),null}var zZ=n=>{var{xAxisId:t,className:e}=n,r=ce(dA),i=is(),a="xAxis",o=ce(x=>Fd(x,a,t,i)),l=ce(x=>xL(x,a,t,i)),c=ce(x=>yL(x,t)),h=ce(x=>e$(x,t)),f=ce(x=>J6(x,t));if(c==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=n,g=XT(n,IZ),{id:w}=f,y=XT(f,jZ);return j.createElement(Ux,p5({},g,y,{scale:o,x:h.x,y:h.y,width:c.width,height:c.height,className:In("recharts-".concat(a," ").concat(a),e),viewBox:r,ticks:l,axisType:a}))},UZ={allowDataOverflow:Li.allowDataOverflow,allowDecimals:Li.allowDecimals,allowDuplicatedCategory:Li.allowDuplicatedCategory,angle:Li.angle,axisLine:_u.axisLine,height:Li.height,hide:!1,includeHidden:Li.includeHidden,interval:Li.interval,minTickGap:Li.minTickGap,mirror:Li.mirror,orientation:Li.orientation,padding:Li.padding,reversed:Li.reversed,scale:Li.scale,tick:Li.tick,tickCount:Li.tickCount,tickLine:_u.tickLine,tickSize:_u.tickSize,type:Li.type,xAxisId:0},qZ=n=>{var t=zi(n,UZ);return j.createElement(j.Fragment,null,j.createElement(FZ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),j.createElement(zZ,t))},IM=j.memo(qZ,RM);IM.displayName="XAxis";var HZ=["dangerouslySetInnerHTML","ticks"],$Z=["id"];function g5(){return g5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},g5.apply(null,arguments)}function ZT(n,t){if(n==null)return{};var e,r,i=GZ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function GZ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function WZ(n){var t=tr(),e=j.useRef(null);return j.useLayoutEffect(()=>{e.current===null?t(XY(n)):e.current!==n&&t(ZY({prev:e.current,next:n})),e.current=n},[n,t]),j.useLayoutEffect(()=>()=>{e.current&&(t(QY(e.current)),e.current=null)},[t]),null}var VZ=n=>{var{yAxisId:t,className:e,width:r,label:i}=n,a=j.useRef(null),o=j.useRef(null),l=ce(dA),c=is(),h=tr(),f="yAxis",p=ce(k=>Fd(k,f,t,c)),v=ce(k=>bL(k,t)),g=ce(k=>r$(k,t)),w=ce(k=>xL(k,f,t,c)),y=ce(k=>tL(k,t));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!v||kx(i)||j.isValidElement(i)||y==null)){var k=a.current;if(k){var R=k.getCalculatedWidth();Math.round(v.width)!==Math.round(R)&&h(JY({id:t,width:R}))}}},[w,v,h,i,t,r,y]),v==null||g==null||y==null)return null;var{dangerouslySetInnerHTML:x,ticks:S}=n,O=ZT(n,HZ),{id:C}=y,N=ZT(y,$Z);return j.createElement(Ux,g5({},O,N,{ref:a,labelRef:o,scale:p,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:In("recharts-".concat(f," ").concat(f),e),viewBox:l,ticks:w,axisType:f}))},YZ={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:Mi.allowDecimals,allowDuplicatedCategory:Mi.allowDuplicatedCategory,angle:Mi.angle,axisLine:_u.axisLine,hide:!1,includeHidden:Mi.includeHidden,interval:Mi.interval,minTickGap:Mi.minTickGap,mirror:Mi.mirror,orientation:Mi.orientation,padding:Mi.padding,reversed:Mi.reversed,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,tickLine:_u.tickLine,tickSize:_u.tickSize,type:Mi.type,width:Mi.width,yAxisId:0},KZ=n=>{var t=zi(n,YZ);return j.createElement(j.Fragment,null,j.createElement(WZ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),j.createElement(VZ,t))},jM=j.memo(KZ,RM);jM.displayName="YAxis";var XZ=(n,t)=>t,qx=Pt([XZ,Sn,Z6,xi,BL,Fu,vG,wi],_G),Hx=n=>{var t=n.currentTarget.getBoundingClientRect(),e=t.width/n.currentTarget.offsetWidth,r=t.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-t.left)/e),chartY:Math.round((n.clientY-t.top)/r)}},BM=oo("mouseClick"),FM=_g();FM.startListening({actionCreator:BM,effect:(n,t)=>{var e=n.payload,r=qx(t.getState(),Hx(e));r?.activeIndex!=null&&t.dispatch(v$({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var m5=oo("mouseMove"),zM=_g(),i0=null;zM.startListening({actionCreator:m5,effect:(n,t)=>{var e=n.payload;i0!==null&&cancelAnimationFrame(i0);var r=Hx(e);i0=requestAnimationFrame(()=>{var i=t.getState(),a=Ax(i,i.tooltip.settings.shared);if(a==="axis"){var o=qx(i,r);o?.activeIndex!=null?t.dispatch(NL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(PL())}i0=null})}});var QT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},UM=rs({name:"rootProps",initialState:QT,reducers:{updateOptions:(n,t)=>{var e;n.accessibilityLayer=t.payload.accessibilityLayer,n.barCategoryGap=t.payload.barCategoryGap,n.barGap=(e=t.payload.barGap)!==null&&e!==void 0?e:QT.barGap,n.barSize=t.payload.barSize,n.maxBarSize=t.payload.maxBarSize,n.stackOffset=t.payload.stackOffset,n.syncId=t.payload.syncId,n.syncMethod=t.payload.syncMethod,n.className=t.payload.className,n.baseValue=t.payload.baseValue,n.reverseStackOrder=t.payload.reverseStackOrder}}}),ZZ=UM.reducer,{updateOptions:QZ}=UM.actions,qM=rs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,t)=>t.payload}}),{updatePolarOptions:JZ}=qM.actions,tQ=qM.reducer,HM=oo("keyDown"),$M=oo("focus"),$x=_g();$x.startListening({actionCreator:HM,effect:(n,t)=>{var e=t.getState(),r=e.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=e.tooltip,a=n.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=xx(i,Ud(e),Rg(e),Fg(e)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var c=Fu(e);if(a==="Enter"){var h=bv(e,"axis","hover",String(i.index));t.dispatch(o5({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var f=o$(e),p=f==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,g=l+v*p;if(!(c==null||g>=c.length||g<0)){var w=bv(e,"axis","hover",String(g));t.dispatch(o5({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});$x.startListening({actionCreator:$M,effect:(n,t)=>{var e=t.getState(),r=e.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=e.tooltip;if(!i.active&&i.index==null){var a="0",o=bv(e,"axis","hover",String(a));t.dispatch(o5({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var no=oo("externalEvent"),GM=_g(),R2=new Map;GM.startListening({actionCreator:no,effect:(n,t)=>{var{handler:e,reactEvent:r}=n.payload;if(e!=null){r.persist();var i=r.type,a=R2.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:nG(l),activeDataKey:qL(l),activeIndex:Ih(l),activeLabel:UL(l),activeTooltipIndex:Ih(l),isTooltipActive:rG(l)};e(c,r)}finally{R2.delete(i)}});R2.set(i,o)}}});var eQ=Pt([zd],n=>n.tooltipItemPayloads),nQ=Pt([eQ,jg,(n,t,e)=>t,(n,t,e)=>e],(n,t,e,r)=>{var i=n.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,e);return o}}}),WM=oo("touchMove"),VM=_g();VM.startListening({actionCreator:WM,effect:(n,t)=>{var e=n.payload;if(!(e.touches==null||e.touches.length===0)){var r=t.getState(),i=Ax(r,r.tooltip.settings.shared);if(i==="axis"){var a=qx(r,Hx({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,currentTarget:e.currentTarget}));a?.activeIndex!=null&&t.dispatch(NL({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=e.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var h=c.getAttribute(Ak),f=(o=c.getAttribute(xk))!==null&&o!==void 0?o:void 0,p=nQ(t.getState(),h,f);t.dispatch(OL({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}}});var rQ=HN({brush:BX,cartesianAxis:tK,chartData:eW,errorBars:pK,graphicalItems:pY,layout:NB,legend:BF,options:XG,polarAxis:OV,polarOptions:tQ,referenceElements:GX,rootProps:ZZ,tooltip:y$,zIndex:BG}),iQ=function(t){return eB({reducer:rQ,preloadedState:t,middleware:e=>{var r;return e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([FM.middleware,zM.middleware,$x.middleware,GM.middleware,VM.middleware])},enhancers:e=>{var r=e;return typeof e=="function"&&(r=e()),r.concat(ik({type:"raf"}))},devTools:$h.devToolsEnabled})};function YM(n){var{preloadedState:t,children:e,reduxStoreName:r}=n,i=is(),a=j.useRef(null);if(i)return e;a.current==null&&(a.current=iQ(t));var o=iA;return j.createElement(zK,{context:o,store:a.current},e)}function aQ(n){var{layout:t,margin:e}=n,r=tr(),i=is();return j.useEffect(()=>{i||(r(TB(t)),r(CB(e)))},[r,i,t,e]),null}var KM=j.memo(aQ,Bx);function XM(n){var t=tr();return j.useEffect(()=>{t(QZ(n))},[t,n]),null}function JT(n){var{zIndex:t,isPanorama:e}=n,r=e?"recharts-zindex-panorama-":"recharts-zindex-",i=bM("".concat(r).concat(t)),a=tr();return j.useLayoutEffect(()=>(a(IG({zIndex:t,elementId:i,isPanorama:e})),()=>{a(jG({zIndex:t,isPanorama:e}))}),[a,t,i,e]),j.createElement("g",{id:i})}function tO(n){var{children:t,isPanorama:e}=n,r=ce(CG);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),a=r.filter(o=>o>0);return j.createElement(j.Fragment,null,i.map(o=>j.createElement(JT,{key:o,zIndex:o,isPanorama:e})),t,a.map(o=>j.createElement(JT,{key:o,zIndex:o,isPanorama:e})))}var sQ=["children"];function oQ(n,t){if(n==null)return{};var e,r,i=lQ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function lQ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function Tv(){return Tv=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Tv.apply(null,arguments)}var uQ={width:"100%",height:"100%",display:"block"},cQ=j.forwardRef((n,t)=>{var e=gA(),r=mA(),i=Bk();if(!Ml(e)||!Ml(r))return null;var{children:a,otherAttributes:o,title:l,desc:c}=n,h,f;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0),j.createElement(Y5,Tv({},o,{title:l,desc:c,role:f,tabIndex:h,width:e,height:r,style:uQ,ref:t}),a)}),hQ=n=>{var{children:t}=n,e=ce(e1);if(!e)return null;var{width:r,height:i,y:a,x:o}=e;return j.createElement(Y5,{width:r,height:i,x:o,y:a},t)},eO=j.forwardRef((n,t)=>{var{children:e}=n,r=oQ(n,sQ),i=is();return i?j.createElement(hQ,null,j.createElement(tO,{isPanorama:!0},e)):j.createElement(cQ,Tv({ref:t},r),j.createElement(tO,{isPanorama:!1},e))});function fQ(){var n=tr(),[t,e]=j.useState(null),r=ce(YB);return j.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Zr(a)&&a!==r&&n(PB(a))}},[t,n,r]),e}function nO(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function dQ(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(e),!0).forEach(function(r){pQ(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):nO(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function pQ(n,t,e){return(t=gQ(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function gQ(n){var t=mQ(n,"string");return typeof t=="symbol"?t:t+""}function mQ(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Bh.apply(null,arguments)}var vQ=()=>(cW(),null);function Ov(n){if(typeof n=="number")return n;if(typeof n=="string"){var t=parseFloat(n);if(!Number.isNaN(t))return t}return 0}var yQ=j.forwardRef((n,t)=>{var e,r,i=j.useRef(null),[a,o]=j.useState({containerWidth:Ov((e=n.style)===null||e===void 0?void 0:e.width),containerHeight:Ov((r=n.style)===null||r===void 0?void 0:r.height)}),l=j.useCallback((h,f)=>{o(p=>{var v=Math.round(h),g=Math.round(f);return p.containerWidth===v&&p.containerHeight===g?p:{containerWidth:v,containerHeight:g}})},[]),c=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=h.getBoundingClientRect();l(f,p);var v=w=>{var{width:y,height:x}=w[0].contentRect;l(y,x)},g=new ResizeObserver(v);g.observe(h),i.current=g}},[t,l]);return j.useEffect(()=>()=>{var h=i.current;h?.disconnect()},[l]),j.createElement(j.Fragment,null,j.createElement(i1,{width:a.containerWidth,height:a.containerHeight}),j.createElement("div",Bh({ref:c},n)))}),bQ=j.forwardRef((n,t)=>{var{width:e,height:r}=n,[i,a]=j.useState({containerWidth:Ov(e),containerHeight:Ov(r)}),o=j.useCallback((c,h)=>{a(f=>{var p=Math.round(c),v=Math.round(h);return f.containerWidth===p&&f.containerHeight===v?f:{containerWidth:p,containerHeight:v}})},[]),l=j.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:h,height:f}=c.getBoundingClientRect();o(h,f)}},[t,o]);return j.createElement(j.Fragment,null,j.createElement(i1,{width:i.containerWidth,height:i.containerHeight}),j.createElement("div",Bh({ref:l},n)))}),wQ=j.forwardRef((n,t)=>{var{width:e,height:r}=n;return j.createElement(j.Fragment,null,j.createElement(i1,{width:e,height:r}),j.createElement("div",Bh({ref:t},n)))}),AQ=j.forwardRef((n,t)=>{var{width:e,height:r}=n;return Eu(e)||Eu(r)?j.createElement(bQ,Bh({},n,{ref:t})):j.createElement(wQ,Bh({},n,{ref:t}))});function xQ(n){return n===!0?yQ:AQ}var SQ=j.forwardRef((n,t)=>{var{children:e,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:v,onTouchEnd:g,onTouchMove:w,onTouchStart:y,style:x,width:S,responsive:O,dispatchTouchEvents:C=!0}=n,N=j.useRef(null),k=tr(),[R,B]=j.useState(null),[H,q]=j.useState(null),rt=fQ(),D=pA(),z=D?.width>0?D.width:S,et=D?.height>0?D.height:i,tt=j.useCallback(ut=>{rt(ut),typeof t=="function"&&t(ut),B(ut),q(ut),ut!=null&&(N.current=ut)},[rt,t,B,q]),dt=j.useCallback(ut=>{k(BM(ut)),k(no({handler:a,reactEvent:ut}))},[k,a]),V=j.useCallback(ut=>{k(m5(ut)),k(no({handler:h,reactEvent:ut}))},[k,h]),J=j.useCallback(ut=>{k(PL()),k(no({handler:f,reactEvent:ut}))},[k,f]),st=j.useCallback(ut=>{k(m5(ut)),k(no({handler:p,reactEvent:ut}))},[k,p]),gt=j.useCallback(()=>{k($M())},[k]),kt=j.useCallback(ut=>{k(HM(ut.key))},[k]),Z=j.useCallback(ut=>{k(no({handler:o,reactEvent:ut}))},[k,o]),I=j.useCallback(ut=>{k(no({handler:l,reactEvent:ut}))},[k,l]),G=j.useCallback(ut=>{k(no({handler:c,reactEvent:ut}))},[k,c]),X=j.useCallback(ut=>{k(no({handler:v,reactEvent:ut}))},[k,v]),lt=j.useCallback(ut=>{k(no({handler:y,reactEvent:ut}))},[k,y]),ct=j.useCallback(ut=>{C&&k(WM(ut)),k(no({handler:w,reactEvent:ut}))},[k,C,w]),ht=j.useCallback(ut=>{k(no({handler:g,reactEvent:ut}))},[k,g]),_t=xQ(O);return j.createElement(KL.Provider,{value:R},j.createElement(sN.Provider,{value:H},j.createElement(_t,{width:z??x?.width,height:et??x?.height,className:In("recharts-wrapper",r),style:dQ({position:"relative",cursor:"default",width:z,height:et},x),onClick:dt,onContextMenu:Z,onDoubleClick:I,onFocus:gt,onKeyDown:kt,onMouseDown:G,onMouseEnter:V,onMouseLeave:J,onMouseMove:st,onMouseUp:X,onTouchEnd:ht,onTouchMove:ct,onTouchStart:lt,ref:tt},j.createElement(vQ,null),e)))}),_Q=["width","height","responsive","children","className","style","compact","title","desc"];function EQ(n,t){if(n==null)return{};var e,r,i=CQ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function CQ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var ZM=j.forwardRef((n,t)=>{var{width:e,height:r,responsive:i,children:a,className:o,style:l,compact:c,title:h,desc:f}=n,p=EQ(n,_Q),v=Vo(p);return c?j.createElement(j.Fragment,null,j.createElement(i1,{width:e,height:r}),j.createElement(eO,{otherAttributes:v,title:h,desc:f},a)):j.createElement(SQ,{className:o,style:l,width:e,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},j.createElement(eO,{otherAttributes:v,title:h,desc:f,ref:t},j.createElement(VX,null,a)))});function v5(){return v5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},v5.apply(null,arguments)}var TQ={top:5,right:5,bottom:5,left:5},OQ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TQ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},PQ=j.forwardRef(function(t,e){var r,i=zi(t.categoricalChartProps,OQ),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:h}=t,f={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return j.createElement(YM,{preloadedState:{options:f},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:a},j.createElement(PM,{chartData:h.data}),j.createElement(KM,{layout:i.layout,margin:i.margin}),j.createElement(XM,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(ZM,v5({},i,{ref:e})))}),NQ=["axis","item"],kQ=j.forwardRef((n,t)=>j.createElement(PQ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NQ,tooltipPayloadSearcher:XL,categoricalChartProps:n,ref:t}));function LQ(n){var t=tr();return j.useEffect(()=>{t(JZ(n))},[t,n]),null}var MQ=["layout"];function y5(){return y5=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},y5.apply(null,arguments)}function DQ(n,t){if(n==null)return{};var e,r,i=RQ(n,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)e=a[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function RQ(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}var IQ={top:5,right:5,bottom:5,left:5},jQ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:IQ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},BQ=j.forwardRef(function(t,e){var r,i=zi(t.categoricalChartProps,jQ),{layout:a}=i,o=DQ(i,MQ),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:f}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:h,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(YM,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},j.createElement(PM,{chartData:i.data}),j.createElement(KM,{layout:a,margin:i.margin}),j.createElement(XM,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),j.createElement(LQ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),j.createElement(ZM,y5({},o,{ref:e})))}),FQ=["item"],zQ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},UQ=j.forwardRef((n,t)=>{var e=zi(n,zQ);return j.createElement(BQ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:FQ,tooltipPayloadSearcher:XL,categoricalChartProps:e,ref:t})});const qQ=({data:n,calculations:t,lang:e,i18n:r})=>{const i=r[e],a=[{name:i.salary,value:parseFloat(t.grandIncome)-parseFloat(t.otTotal)-parseFloat(t.perDiemTotal)},{name:i.ot_pay,value:parseFloat(t.otTotal)},{name:i.per_diem,value:parseFloat(t.perDiemTotal)}].filter(c=>c.value>0),o=["#3B82F6","#10B981","#F59E0B"],l=n.map(c=>({date:c.dateStr.split(".").slice(0,2).join("/"),netHours:c.netHours,otHours:Object.values(c.ot).reduce((h,f)=>h+f,0),status:c.statusKey}));return n.length===0?null:Lt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[Lt.jsxs("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[Lt.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Income Distribution"}),Lt.jsx("div",{className:"h-64 w-full min-w-0",children:Lt.jsx(gC,{width:"100%",height:"100%",children:Lt.jsxs(UQ,{children:[Lt.jsx(xM,{data:a,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:a.map((c,h)=>Lt.jsx(zg,{fill:o[h%o.length]},`cell-${h}`))}),Lt.jsx(nT,{formatter:c=>`${c.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}),Lt.jsx(qw,{})]})})})]}),Lt.jsxs("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[Lt.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Daily Work Hours"}),Lt.jsx("div",{className:"h-64 w-full min-w-0",children:Lt.jsx(gC,{width:"100%",height:"100%",children:Lt.jsxs(kQ,{data:l,margin:{top:5,right:30,left:20,bottom:5},children:[Lt.jsx(DM,{strokeDasharray:"3 3",vertical:!1}),Lt.jsx(IM,{dataKey:"date",tick:{fontSize:12},interval:2}),Lt.jsx(jM,{}),Lt.jsx(nT,{}),Lt.jsx(qw,{}),Lt.jsx(d5,{dataKey:"netHours",name:i.net_hours,fill:"#3B82F6",stackId:"a"}),Lt.jsx(d5,{dataKey:"otHours",name:i.total_ot,fill:"#10B981",stackId:"a"})]})})})]})]})},HQ=({data:n,setData:t,selectedRows:e,setSelectedRows:r,filter:i,search:a,lang:o,i18n:l})=>{const c=l[o],h=j.useRef(null),f=(y,x)=>{const S=[...n];S[y]={...S[y],...x},t(S)},p=(y,x)=>{f(y,{workType:x})},v=(y,x,S)=>{const O=[...n];O[y].ot={...O[y].ot,[x]:parseFloat(S)||0},t(O)},g=(y,x)=>{if(x.ctrlKey||x.metaKey){const S=new Set(e);S.has(y)?S.delete(y):S.add(y),r(S)}else r(new Set([y]))},w=n.map((y,x)=>({...y,originalIndex:x})).filter(y=>{const x=i==="all"||y.statusKey===i,S=a===""||y.dateStr.includes(a)||c[y.statusKey].toLowerCase().includes(a.toLowerCase());return x&&S});return Lt.jsx("div",{className:"overflow-auto max-h-[60vh] rounded-b-xl border bg-white shadow-sm",children:Lt.jsxs("table",{className:"min-w-full text-sm",children:[Lt.jsx("thead",{className:"text-xs uppercase text-gray-500 bg-gray-50 sticky top-0 z-20",children:Lt.jsxs("tr",{children:[Lt.jsx("th",{className:"px-3 py-2 text-left w-28 col-date bg-gray-50",children:c.date}),Lt.jsx("th",{className:"px-3 py-2 text-left w-36",children:c.work_type}),Lt.jsx("th",{className:"px-3 py-2 text-left w-44",children:c.in_out}),Lt.jsx("th",{className:"px-3 py-2 text-center w-20",children:c.hrs}),Lt.jsx("th",{className:"px-2 py-2 text-center w-20",children:"OT 1.0"}),Lt.jsx("th",{className:"px-2 py-2 text-center w-20",children:"OT 1.5"}),Lt.jsx("th",{className:"px-2 py-2 text-center w-20",children:"OT 2.0"}),Lt.jsx("th",{className:"px-2 py-2 text-center w-20",children:"OT 3.0"}),Lt.jsx("th",{className:"px-3 py-2 text-center w-28",children:c.status})]})}),Lt.jsx("tbody",{ref:h,children:w.map(y=>{const x=e.has(y.originalIndex),S=c[y.statusKey],O=y.clockIn&&y.clockOut?`${y.clockIn} - ${y.clockOut}`:c.no_data;return Lt.jsxs("tr",{className:`${y.originalIndex%2===0?"bg-white":"bg-gray-50"} ${x?"row-selected":""} hover:bg-blue-50 cursor-pointer`,onClick:C=>g(y.originalIndex,C),children:[Lt.jsx("td",{className:`px-3 py-2 text-left col-date font-mono ${x?"bg-blue-50":y.originalIndex%2===0?"bg-white":"bg-gray-50"}`,children:y.dateStr}),Lt.jsx("td",{className:"px-3 py-2",onClick:C=>C.stopPropagation(),children:Lt.jsxs("select",{className:"border rounded-md p-1 text-xs w-full",value:y.workType,onChange:C=>p(y.originalIndex,C.target.value),children:[Lt.jsx("option",{value:"normal",children:c.normal}),Lt.jsx("option",{value:"province",children:c.province}),Lt.jsx("option",{value:"border",children:c.border})]})}),Lt.jsx("td",{className:"px-3 py-2 text-left font-mono",children:O}),Lt.jsx("td",{className:"px-3 py-2 text-center font-mono",children:y.netHours.toFixed(1)}),["1.0","1.5","2.0","3.0"].map(C=>Lt.jsx("td",{className:"px-2 py-1 text-center",onClick:N=>N.stopPropagation(),children:Lt.jsx("input",{type:"number",min:"0",step:"0.5",className:"ot-input border rounded-md p-1 w-16 text-center",value:y.ot[C],onChange:N=>v(y.originalIndex,C,N.target.value),onFocus:N=>N.target.select()})},C)),Lt.jsx("td",{className:"px-3 py-2 text-center",children:Lt.jsx("span",{className:`badge b-${y.statusKey}`,children:S})})]},y.id)})})]})})},Ca=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),b5=[.001,0,0,.001,0,0],I2=1.35,Es={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ec={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},fg="pdfjs_internal_editor_",We={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},fn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},$Q={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},w5={TRIANGLES:1,LATTICE:2},Zi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},O0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ai={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Zf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},N1={ERRORS:0,WARNINGS:1,INFOS:5},dg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Dp={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},GQ={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k1=N1.WARNINGS;function WQ(n){Number.isInteger(n)&&(k1=n)}function VQ(){return k1}function L1(n){k1>=N1.INFOS&&console.info(`Info: ${n}`)}function He(n){k1>=N1.WARNINGS&&console.warn(`Warning: ${n}`)}function Zn(n){throw new Error(n)}function dn(n,t){n||Zn(t)}function YQ(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function QM(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=JQ(n)}catch{}const r=t?URL.parse(n,t):URL.parse(n);return YQ(r)?r:null}function JM(n,t,e=!1){const r=URL.parse(n);return r?(r.hash=t,r.href):e&&QM(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Ve(n,t,e,r=!1){return Object.defineProperty(n,t,{value:e,enumerable:!r,configurable:!0,writable:!1}),e}const Vh=(function(){function t(e,r){this.message=e,this.name=r}return t.prototype=new Error,t.constructor=t,t})();class rO extends Vh{constructor(t,e){super(t,"PasswordException"),this.code=e}}class j2 extends Vh{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class A5 extends Vh{constructor(t){super(t,"InvalidPDFException")}}class Pv extends Vh{constructor(t,e,r){super(t,"ResponseException"),this.status=e,this.missing=r}}class KQ extends Vh{constructor(t){super(t,"FormatError")}}class kc extends Vh{constructor(t){super(t,"AbortException")}}function tD(n){(typeof n!="object"||n?.length===void 0)&&Zn("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<t;i+=e){const a=Math.min(i+e,t),o=n.subarray(i,a);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function qg(n){typeof n!="string"&&Zn("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let r=0;r<t;++r)e[r]=n.charCodeAt(r)&255;return e}function XQ(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function ZQ(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function QQ(){try{return new Function(""),!0}catch{return!1}}class na{static get isLittleEndian(){return Ve(this,"isLittleEndian",ZQ())}static get isEvalSupported(){return Ve(this,"isEvalSupported",QQ())}static get isOffscreenCanvasSupported(){return Ve(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ve(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ve(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ve(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Ve(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Ve(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const B2=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class ie{static makeHexColor(t,e,r){return`#${B2[t]}${B2[e]}${B2[r]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let r;t[0]?(t[0]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[3],e[3]*=t[3]):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,t[1]<0&&(r=e[1],e[1]=e[3],e[3]=r),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(r=e[0],e[0]=e[2],e[2]=r),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,r=0){const i=t[r],a=t[r+1];t[r]=i*e[0]+a*e[2]+e[4],t[r+1]=i*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,r=0){const i=e[0],a=e[1],o=e[2],l=e[3],c=e[4],h=e[5];for(let f=0;f<6;f+=2){const p=t[r+f],v=t[r+f+1];t[r+f]=p*i+v*o+c,t[r+f+1]=p*a+v*l+h}}static applyInverseTransform(t,e){const r=t[0],i=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(r*e[3]-i*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-r*e[1]+i*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,r){const i=e[0],a=e[1],o=e[2],l=e[3],c=e[4],h=e[5],f=t[0],p=t[1],v=t[2],g=t[3];let w=i*f+c,y=w,x=i*v+c,S=x,O=l*p+h,C=O,N=l*g+h,k=N;if(a!==0||o!==0){const R=a*f,B=a*v,H=o*p,q=o*g;w+=H,S+=H,x+=q,y+=q,O+=R,k+=R,N+=B,C+=B}r[0]=Math.min(r[0],w,x,y,S),r[1]=Math.min(r[1],O,N,C,k),r[2]=Math.max(r[2],w,x,y,S),r[3]=Math.max(r[3],O,N,C,k)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const r=t[0],i=t[1],a=t[2],o=t[3],l=r**2+i**2,c=r*a+i*o,h=a**2+o**2,f=(l+h)/2,p=Math.sqrt(f**2-(l*h-c**2));e[0]=Math.sqrt(f+p||1),e[1]=Math.sqrt(f-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const r=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(r>i)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>o?null:[r,a,i,o]}static pointBoundingBox(t,e,r){r[0]=Math.min(r[0],t),r[1]=Math.min(r[1],e),r[2]=Math.max(r[2],t),r[3]=Math.max(r[3],e)}static rectBoundingBox(t,e,r,i,a){a[0]=Math.min(a[0],t,r),a[1]=Math.min(a[1],e,i),a[2]=Math.max(a[2],t,r),a[3]=Math.max(a[3],e,i)}static#t(t,e,r,i,a,o,l,c,h,f){if(h<=0||h>=1)return;const p=1-h,v=h*h,g=v*h,w=p*(p*(p*t+3*h*e)+3*v*r)+g*i,y=p*(p*(p*a+3*h*o)+3*v*l)+g*c;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],y),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],y)}static#e(t,e,r,i,a,o,l,c,h,f,p,v){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#t(t,e,r,i,a,o,l,c,-p/f,v);return}const g=f**2-4*p*h;if(g<0)return;const w=Math.sqrt(g),y=2*h;this.#t(t,e,r,i,a,o,l,c,(-f+w)/y,v),this.#t(t,e,r,i,a,o,l,c,(-f-w)/y,v)}static bezierBoundingBox(t,e,r,i,a,o,l,c,h){h[0]=Math.min(h[0],t,l),h[1]=Math.min(h[1],e,c),h[2]=Math.max(h[2],t,l),h[3]=Math.max(h[3],e,c),this.#e(t,r,a,l,e,i,o,c,3*(-t+3*(r-a)+l),6*(t-2*r+a),3*(r-t),h),this.#e(t,r,a,l,e,i,o,c,3*(-e+3*(i-o)+c),6*(e-2*i+o),3*(i-e),h)}}function JQ(n){return decodeURIComponent(escape(n))}let F2=null,iO=null;function tJ(n){return F2||(F2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,iO=new Map([["","t"]])),n.replaceAll(F2,(t,e,r)=>e?e.normalize("NFKC"):iO.get(r))}function eD(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),tD(n)}const id="pdfjs_internal_id_";function eJ(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[r,i,...a]=e;if(!n(r)&&!Number.isInteger(r)||!t(i))return!1;const o=a.length;let l=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;l=!1;break;default:return!1}for(const c of a)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function Ta(n,t,e){return Math.min(Math.max(n,t),e)}function nD(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(tD(n))}function nJ(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):qg(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class pg{static textContent(t){const e=[],r={items:e,styles:Object.create(null)};function i(a){if(!a)return;let o=null;const l=a.name;if(l==="#text")o=a.value;else if(pg.shouldBuildText(l))a?.attributes?.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&e.push({str:o}),!!a.children)for(const c of a.children)i(c)}return i(t),r}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class rD{static setupStorage(t,e,r,i,a){const o=i.getValue(e,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),a==="print")break;t.addEventListener("input",l=>{i.setValue(e,{value:l.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?t.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",l=>{i.setValue(e,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),a==="print")break;t.addEventListener("input",l=>{i.setValue(e,{value:l.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const l of r.children)l.attributes.value===o.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const c=l.target.options,h=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(e,{value:h})});break}}static setAttributes({html:t,element:e,storage:r=null,intent:i,linkService:a}){const{attributes:o}=e,l=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,h]of Object.entries(o))if(h!=null)switch(c){case"class":h.length&&t.setAttribute(c,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!l||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,h)}l&&a.addLinkAttributes(t,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(t,o.dataId,e,r)}static render(t){const e=t.annotationStorage,r=t.linkService,i=t.xfaHtml,a=t.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:a,linkService:r});const l=a!=="richText",c=t.div;if(c.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=p}l&&c.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),l&&pg.shouldBuildText(i.name)&&h.push(p)}return{textDivs:h}}const f=[[i,-1,o]];for(;f.length>0;){const[p,v,g]=f.at(-1);if(v+1===p.children.length){f.pop();continue}const w=p.children[++f.at(-1)[1]];if(w===null)continue;const{name:y}=w;if(y==="#text"){const S=document.createTextNode(w.value);h.push(S),g.append(S);continue}const x=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,y):document.createElement(y);if(g.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:e,intent:a,linkService:r}),w.children?.length>0)f.push([w,-1,x]);else if(w.value){const S=document.createTextNode(w.value);l&&pg.shouldBuildText(y)&&h.push(S),x.append(S)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const du="http://www.w3.org/2000/svg";class Nd{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Hg(n,t="text"){if(Hp(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class $g{constructor({viewBox:t,userUnit:e,scale:r,rotation:i,offsetX:a=0,offsetY:o=0,dontFlip:l=!1}){this.viewBox=t,this.userUnit=e,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=o,r*=e;const c=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let f,p,v,g;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,p=0,v=0,g=1;break;case 90:f=0,p=1,v=1,g=0;break;case 270:f=0,p=-1,v=-1,g=0;break;case 0:f=1,p=0,v=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,g=-g);let w,y,x,S;f===0?(w=Math.abs(h-t[1])*r+a,y=Math.abs(c-t[0])*r+o,x=(t[3]-t[1])*r,S=(t[2]-t[0])*r):(w=Math.abs(c-t[0])*r+a,y=Math.abs(h-t[1])*r+o,x=(t[2]-t[0])*r,S=(t[3]-t[1])*r),this.transform=[f*r,p*r,v*r,g*r,w-f*r*c-v*r*h,y-p*r*c-g*r*h],this.width=x,this.height=S}get rawDims(){const t=this.viewBox;return Ve(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new $g({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(t,e){const r=[t,e];return ie.applyTransform(r,this.transform),r}convertToViewportRectangle(t){const e=[t[0],t[1]];ie.applyTransform(e,this.transform);const r=[t[2],t[3]];return ie.applyTransform(r,this.transform),[e[0],e[1],r[0],r[1]]}convertToPdfPoint(t,e){const r=[t,e];return ie.applyInverseTransform(r,this.transform),r}}class Gx extends Vh{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function M1(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Wx(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function rJ(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function iJ(n,t="document.pdf"){if(typeof n!="string")return t;if(M1(n))return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const r=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return t;const i=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},a=/\.pdf$/i,o=r.pathname.split("/").at(-1);if(a.test(o))return i(o);if(r.searchParams.size>0){const l=Array.from(r.searchParams.values()).reverse();for(const h of l)if(a.test(h))return i(h);const c=Array.from(r.searchParams.keys()).reverse();for(const h of c)if(a.test(h))return i(h)}if(r.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(c)return i(c[0])}return t}class aO{started=Object.create(null);times=[];time(t){t in this.started&&He(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||He(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:r}of this.times)e=Math.max(r.length,e);for(const{name:r,start:i,end:a}of this.times)t.push(`${r.padEnd(e)} ${a-i}ms
`);return t.join("")}}function Hp(n,t){const e=t?URL.parse(n,t):URL.parse(n);return e?.protocol==="http:"||e?.protocol==="https:"}function uo(n){n.preventDefault()}function Ur(n){n.preventDefault(),n.stopPropagation()}function aJ(n){console.log("Deprecated API usage: "+n)}class x5{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const r=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let l=parseInt(e[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const h=e[7]||"Z";let f=parseInt(e[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=f,l+=p):h==="+"&&(o-=f,l-=p),new Date(Date.UTC(r,i,a,o,l,c))}}function sJ(n,{scale:t=1,rotation:e=0}){const{width:r,height:i}=n.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new $g({viewBox:a,userUnit:1,scale:t,rotation:e})}function Gg(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(He(`Not a valid color format: "${n}"`),[0,0,0])}function oJ(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const r=window.getComputedStyle(t).color;n.set(e,Gg(r))}t.remove()}function Tr(n){const{a:t,b:e,c:r,d:i,e:a,f:o}=n.getTransform();return[t,e,r,i,a,o]}function xl(n){const{a:t,b:e,c:r,d:i,e:a,f:o}=n.getTransform().invertSelf();return[t,e,r,i,a,o]}function Fh(n,t,e=!1,r=!0){if(t instanceof $g){const{pageWidth:i,pageHeight:a}=t.rawDims,{style:o}=n,l=na.isCSSRoundSupported,c=`var(--total-scale-factor) * ${i}px`,h=`var(--total-scale-factor) * ${a}px`,f=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,p=l?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!e||t.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}r&&n.setAttribute("data-main-rotation",t.rotation)}class Rl{constructor(){const{pixelRatio:t}=Rl;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,r,i,a=-1){let o=1/0,l=1/0,c=1/0;r=Rl.capPixels(r,a),r>0&&(o=Math.sqrt(r/(t*e))),i!==-1&&(l=i/t,c=i/e);const h=Math.min(o,l,c);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,r):r}return t}}const S5=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class lJ{static get isDarkMode(){return Ve(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class uJ{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:r}=window.getComputedStyle(t);return t.remove(),Ve(this,"commentForegroundColor",Gg(r))}}function cJ(n,t,e,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),t=Math.round(t*r+i),e=Math.round(e*r+i),[n,t,e]}function sO(n,t){const e=n[0]/255,r=n[1]/255,i=n[2]/255,a=Math.max(e,r,i),o=Math.min(e,r,i),l=(a+o)/2;if(a===o)t[0]=t[1]=0;else{const c=a-o;switch(t[1]=l<.5?c/(a+o):c/(2-a-o),a){case e:t[0]=((r-i)/c+(r<i?6:0))*60;break;case r:t[0]=((i-e)/c+2)*60;break;case i:t[0]=((e-r)/c+4)*60;break}}t[2]=l}function _5(n,t){const e=n[0],r=n[1],i=n[2],a=(1-Math.abs(2*i-1))*r,o=a*(1-Math.abs(e/60%2-1)),l=i-a/2;switch(Math.floor(e/60)){case 0:t[0]=a+l,t[1]=o+l,t[2]=l;break;case 1:t[0]=o+l,t[1]=a+l,t[2]=l;break;case 2:t[0]=l,t[1]=a+l,t[2]=o+l;break;case 3:t[0]=l,t[1]=o+l,t[2]=a+l;break;case 4:t[0]=o+l,t[1]=l,t[2]=a+l;break;case 5:case 6:t[0]=a+l,t[1]=l,t[2]=o+l;break}}function oO(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function lO(n,t,e){_5(n,e),e.map(oO);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];_5(t,e),e.map(oO);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const uO=new Map;function hJ(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let r=uO.get(e);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),o=i.subarray(3,6);sO(n,o);const l=i.subarray(6,9);sO(t,l);const c=l[2]<.5,h=c?12:4.5;if(o[2]=c?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),lO(o,l,a)<h){let f,p;c?(f=o[2],p=1):(f=0,p=o[2]);const v=.005;for(;p-f>v;){const g=o[2]=(f+p)/2;c===lO(o,l,a)<h?f=g:p=g}o[2]=c?p:f}return _5(o,a),r=ie.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),uO.set(e,r),r}function iD({html:n,dir:t,className:e},r){const i=document.createDocumentFragment();if(typeof n=="string"){const a=document.createElement("p");a.dir=t||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let l=0,c=o.length;l<c;++l){const h=o[l];a.append(document.createTextNode(h)),l<c-1&&a.append(document.createElement("br"))}i.append(a)}else rD.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",e),r.append(i)}function aD(n){const t=new Path2D;if(!n)return t;for(let e=0,r=n.length;e<r;)switch(n[e++]){case Dp.moveTo:t.moveTo(n[e++],n[e++]);break;case Dp.lineTo:t.lineTo(n[e++],n[e++]);break;case Dp.curveTo:t.bezierCurveTo(n[e++],n[e++],n[e++],n[e++],n[e++],n[e++]);break;case Dp.quadraticCurveTo:t.quadraticCurveTo(n[e++],n[e++],n[e++],n[e++]);break;case Dp.closePath:t.closePath();break;default:He(`Unrecognized drawing path operator: ${n[e-1]}`);break}return t}class Vp{#t=null;#e=null;#r;#n=null;#s=null;#a=null;#i=null;#o=null;static#u=null;constructor(t){this.#r=t,Vp.#u||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#r._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",uo,{signal:e}),t.addEventListener("pointerdown",Vp.#l,{signal:e}));const r=this.#n=document.createElement("div");r.className="buttons",t.append(r);const i=this.#r.toolbarPosition;if(i){const{style:a}=t,o=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#f(t){this.#r._focusEventsAllowed=!1,Ur(t)}#h(t){this.#r._focusEventsAllowed=!0,Ur(t)}#d(t){const e=this.#r._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#f.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",uo,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#s?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",Vp.#u[t]),this.#d(r)&&r.addEventListener("click",i=>{e.delete()},{signal:e._signal}),this.#n.append(r)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#d(e),this.#n.append(e,this.#m),this.#s=t}addComment(t,e=null){if(this.#a)return;const r=t.renderForToolbar();if(!r)return;this.#d(r);const i=this.#i=this.#m;e?(this.#n.insertBefore(r,e),this.#n.insertBefore(i,e)):this.#n.append(r,i),this.#a=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#d(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#r);this.#d(e),this.#n.append(e,this.#m)}removeButton(t){switch(t){case"comment":this.#a?.removeToolbarCommentButton(),this.#a=null,this.#i?.remove(),this.#i=null;break}}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,r){if(!e&&t==="comment")return;const i=this.#n.querySelector(r);i&&t==="comment"&&this.addComment(e,i)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class fJ{#t=null;#e=null;#r;constructor(t){this.#r=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#r._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",uo,{signal:e});const r=this.#t=document.createElement("div");return r.className="buttons",t.append(r),this.#r.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),t}#s(t,e){let r=0,i=0;for(const a of t){const o=a.y+a.height;if(o<r)continue;const l=a.x+(e?a.width:0);if(o>r){i=l,r=o;continue}e?l>i&&(i=l):l<i&&(i=l)}return[e?1-i:i,r]}show(t,e,r){const[i,a]=this.#s(e,r),{style:o}=this.#e||=this.#n();t.append(this.#e),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#a(t,e,r,i){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const o=document.createElement("span");a.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",r);const l=this.#r._signal;l instanceof AbortSignal&&!l.aborted&&(a.addEventListener("contextmenu",uo,{signal:l}),a.addEventListener("click",i,{signal:l})),this.#t.append(a)}}function sD(n,t,e){for(const r of e)t.addEventListener(r,n[r].bind(n))}class On{static#t=NaN;static#e=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(t){(On.#e||=new Set).add(t)}static setPointer(t,e){On.#t||=e,On.#n??=t}static setTimeStamp(t){On.#r=t}static isSamePointerId(t){return On.#t===t}static isSamePointerIdOrRemove(t){return On.#t===t?!0:(On.#e?.delete(t),!1)}static isSamePointerType(t){return On.#n===t}static isInitializedAndDifferentPointerType(t){return On.#n!==null&&!On.isSamePointerType(t)}static isSameTimeStamp(t){return On.#r===t}static isUsingMultiplePointers(){return On.#e?.size>=1}static clearPointerType(){On.#n=null}static clearPointerIds(){On.#t=NaN,On.#e=null}static clearTimeStamp(){On.#r=NaN}}class dJ{#t=0;get id(){return`${fg}${this.#t++}`}}class Vx{#t=eD();#e=0;#r=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Ve(this,"_isSVGFittingCanvas",a)}async#n(t,e){this.#r||=new Map;let r=this.#r.get(t);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let i;if(typeof e=="string"?(r.url=e,i=await Hg(e,"blob")):e instanceof File?i=r.file=e:e instanceof Blob&&(i=e),i.type==="image/svg+xml"){const a=Vx._isSVGFittingCanvas,o=new FileReader,l=new Image,c=new Promise((h,f)=>{l.onload=()=>{r.bitmap=l,r.isSvg=!0,h()},o.onload=async()=>{const p=r.svgUrl=o.result;l.src=await a?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=o.onerror=f});o.readAsDataURL(i),await c}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){He(i),r=null}return this.#r.set(t,r),r&&this.#r.set(r.id,r),r}async getFromFile(t){const{lastModified:e,name:r,size:i,type:a}=t;return this.#n(`${e}_${r}_${i}_${a}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const r=await e;return this.#n(t,r)}async getFromId(t){this.#r||=new Map;const e=this.#r.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:r}=e;return delete e.blobPromise,this.getFromBlob(e.id,r)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#r||=new Map;let r=this.#r.get(t);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(e.width,e.height);return i.getContext("2d").drawImage(e,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#r.set(t,r),this.#r.set(r.id,r),r}getSvgUrl(t){const e=this.#r.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#r||=new Map;const e=this.#r.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:r}=e;if(!e.url&&!e.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),e.blobPromise=i.convertToBlob()}r.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class pJ{#t=[];#e=!1;#r;#n=-1;constructor(t=128){this.#r=t}add({cmd:t,undo:e,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:l=!1}){if(i&&t(),this.#e)return;const c={cmd:t,undo:e,post:r,type:a};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(c);return}if(o&&this.#t[this.#n].type===a){l&&(c.undo=this.#t[this.#n].undo),this.#t[this.#n]=c;return}const h=this.#n+1;h===this.#r?this.#t.splice(0,1):(this.#n=h,h<this.#t.length&&this.#t.splice(h)),this.#t.push(c)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Wg{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=na.platform;for(const[r,i,a={}]of t)for(const o of r){const l=o.startsWith("mac+");e&&l?(this.callbacks.set(o.slice(4),{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1))):!e&&!l&&(this.callbacks.set(o,{callback:i,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const r=this.callbacks.get(this.#t(e));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:o=[],checker:l=null}}=r;l&&!l(t,e)||(i.bind(t,...o,e)(),a||Ur(e))}}class Yx{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return oJ(t),Ve(this,"_colors",t)}convert(t){const e=Gg(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[r,i]of this._colors)if(i.every((a,o)=>a===e[o]))return Yx._colorsMapping.get(r);return e}getHexCode(t){const e=this._colors.get(t);return e?ie.makeHexColor(...e):t}}class Lc{#t=new AbortController;#e=null;#r=null;#n=new Map;#s=new Map;#a=null;#i=null;#o=null;#u=new pJ;#l=null;#f=null;#h=null;#d=0;#m=new Set;#g=null;#c=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#E=null;#S=null;#A=null;#T=null;#w=!1;#_=null;#N=new dJ;#O=!1;#P=!1;#j=!1;#L=null;#D=null;#B=null;#R=null;#$=null;#C=We.NONE;#x=new Set;#M=null;#F=null;#U=null;#V=null;#W=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#q=[0,0];#I=null;#G=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Lc.prototype,e=o=>o.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new Wg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],t.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:r}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&o.#G.contains(l)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:l})=>!(l instanceof HTMLButtonElement)&&o.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,r,i,a,o,l,c,h,f,p,v,g,w,y,x){const S=this._signal=this.#t.signal;this.#G=t,this.#Q=e,this.#J=r,this.#a=i,this.#l=a,this.#F=o,this.#W=c,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:S}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),l._on("setpreference",this.onSetPreference.bind(this),{signal:S}),l._on("switchannotationeditorparams",O=>this.updateParams(O.type,O.value),{signal:S}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:S}),this.#st(),this.#ft(),this.#et(),this.#i=c.annotationStorage,this.#E=c.filterFactory,this.#U=h,this.#T=f||null,this.#v=p,this.#b=v,this.#y=g,this.#$=w||null,this.viewParameters={realScale:Nd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=x!==!1,a?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#R?.clear(),this.#e=null,this.#x.clear(),this.#u.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#_?.hide(),this.#_=null,this.#B?.destroy(),this.#B=null,this.#r=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#W=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ve(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ve(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ve(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Ve(this,"highlightColors",null);const e=new Map,r=!!this.#U;for(const[i,a]of t){const o=i.endsWith("_HCM");if(r&&o){e.set(i.replace("_HCM",""),a);continue}!r&&!o&&e.set(i,a)}return Ve(this,"highlightColors",e)}get highlightColorNames(){return Ve(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#B=t}editAltText(t,e=!1){this.#a?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,r,i){this.#l?.showDialog(this,t,e,r,i)}selectComment(t,e){this.#s.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,r=void 0){this.#l?.toggleCommentPopup(t,e,r)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#s.has(t-1))return;const{resolve:e,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===t&&(this._eventBus._off("editorsrendered",i),e())};this._eventBus.on("editorsrendered",i),await r}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#G.focus()}findParent(t,e){for(const r of this.#s.values()){const{x:i,y:a,width:o,height:l}=r.div.getBoundingClientRect();if(t>=i&&t<=i+o&&e>=a&&e<=a+l)return r}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Nd.PDF_TO_CSS_UNITS;for(const e of this.#p)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const r of this.#s.values())if(r.hasTextLayer(t))return r;return null}highlightSelection(t="",e=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:l}=r,c=r.toString(),f=this.#Z(r).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;r.empty();const v=this.#tt(f),g=this.#C===We.NONE,w=()=>{const y=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:i,anchorOffset:a,focusNode:o,focusOffset:l,text:c});g&&this.showAllEditors("highlight",!0,!0),e&&y?.editComment()};if(g){this.switchToMode(We.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#it(){const t=document.getSelection();if(!t||t.isCollapsed)return;const r=this.#Z(t).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#_||=new fJ(this),this.#_.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#i)return null;const e=`${fg}${t}`,r=this.#i.getRawValue(e);return r&&this.#i.remove(e),r}addToAnnotationStorage(t){!t.isEmpty()&&this.#i&&!this.#i.has(t.id)&&this.#i.setValue(t.id,t)}a11yAlert(t,e=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",t),e?r.setAttribute("data-l10n-args",JSON.stringify(e)):r.removeAttribute("data-l10n-args"))}#at(){const t=document.getSelection();if(!t||t.isCollapsed){this.#M&&(this.#_?.hide(),this.#M=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#M)return;const i=this.#Z(t).closest(".textLayer");if(!i){this.#M&&(this.#_?.hide(),this.#M=null,this.#k({hasSelectedText:!1}));return}if(this.#_?.hide(),this.#M=e,this.#k({hasSelectedText:!0}),!(this.#C!==We.HIGHLIGHT&&this.#C!==We.NONE)&&(this.#C===We.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#C===We.HIGHLIGHT?this.#tt(i):null;if(a?.toggleDrawing(),this.#P){const o=new AbortController,l=this.combinedSignal(o),c=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),a?.toggleDrawing(!0),h.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",c,{signal:l}),window.addEventListener("blur",c,{signal:l})}else a?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===We.HIGHLIGHT?this.highlightSelection(t):this.#v&&this.#it()}#st(){document.addEventListener("selectionchange",this.#at.bind(this),{signal:this._signal})}#ot(){if(this.#A)return;this.#A=new AbortController;const t=this.combinedSignal(this.#A);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#A?.abort(),this.#A=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#x)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#L)return;this.#L=new AbortController;const t=this.combinedSignal(this.#L);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ut(){this.#L?.abort(),this.#L=null}#ct(){if(this.#f)return;this.#f=new AbortController;const t=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ht(){this.#f?.abort(),this.#f=null}#ft(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ut(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const r of this.#c)if(r.isHandlingMimeForPasting(e.type)){r.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const r of this.#x){const i=r.serialize(!0);i&&e.push(i)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const o of this.#c)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let r=e.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){He(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const c of r){const h=await i.deserialize(c);if(!h)return;a.push(h)}const o=()=>{for(const c of a)this.#nt(c);this.#rt(a)},l=()=>{for(const c of a)c.remove()};this.addCommands({cmd:o,undo:l,mustExec:!0})}catch(a){He(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==We.NONE&&!this.isEditorHandlingKeyboard&&Lc._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(t){Object.entries(t).some(([r,i])=>this.#Y[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===We.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#H([[fn.HIGHLIGHT_FREE,!0]]))}#H(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ct(),this.#k({isEditing:this.#C!==We.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:this.#u.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#ht(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#c){this.#c=t;for(const e of this.#c)this.#H(e.defaultPropertiesToUpdate)}}getId(){return this.#N.id}get currentLayer(){return this.#s.get(this.#d)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#s.set(t.pageIndex,t),this.#O?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}async updateMode(t,e=null,r=!1,i=!1,a=!1){if(this.#C!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===We.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===We.NONE){this.setEditingState(!1),this.#pt();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();t===We.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#dt(),this.unselectAll();for(const o of this.#s.values())o.updateMode(t);if(t===We.POPUP){this.#r||=await this.#W.getAnnotationsByType(new Set(this.#c.map(c=>c._editorType)));const o=new Set,l=[];for(const c of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=c;h&&o.add(h),f&&!p&&l.push(c.getData())}for(const c of this.#r){const{id:h,popupRef:f,contentsObj:p}=c;f&&p?.str&&!o.has(h)&&!this.#m.has(h)&&l.push(c)}this.#l?.showSidebar(l)}if(!e){r&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const o of this.#n.values())o.uid===e?(this.setSelected(o),a?o.editComment():i?o.enterInEditMode():o.focus()):o.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#c){switch(t){case fn.CREATE:this.currentLayer.addNewEditor(e);return;case fn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const r of this.#x)r.updateParams(t,e);else for(const r of this.#c)r.updateDefaultParams(t,e)}}showAllEditors(t,e,r=!1){for(const a of this.#n.values())a.editorType===t&&a.show(e);(this.#V?.get(fn.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#H([[fn.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#j!==t){this.#j=t;for(const e of this.#s.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#dt(){if(!this.#O){this.#O=!0;const t=[];for(const e of this.#s.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#O){this.#O=!1;for(const t of this.#s.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#R?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#i?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const e=this.#s.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#H(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#x);return t}updateUI(t){this.#gt===t&&this.#H(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#H(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#x.has(t)){this.#x.delete(t),t.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#x.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#h?.commitOrRemove();for(const e of this.#x)e!==t&&e.unselect();this.#x.clear(),this.#x.add(t),t.select(),this.#H(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(t){return this.#x.has(t)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(t){t.unselect(),this.#x.delete(t),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#u.undo(),this.#k({hasSomethingToUndo:this.#u.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#u.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#u.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(t){this.#u.add(t),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(t){this.#u.cleanType(t)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#x],r=()=>{this._editorUndoBar?.show(i,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},i=()=>{for(const a of e)this.#nt(a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#x)e.unselect();this.#x.clear();for(const e of t)e.isEmpty()||(this.#x.add(e),e.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#x)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==We.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#x)t.unselect();this.#x.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#q[0]+=t,this.#q[1]+=e;const[i,a]=this.#q,o=[...this.#x],l=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#q[0]=this.#q[1]=0,this.addCommands({cmd:()=>{for(const c of o)this.#n.has(c.id)&&(c.translateInPage(i,a),c.translationDone())},undo:()=>{for(const c of o)this.#n.has(c.id)&&(c.translateInPage(-i,-a),c.translationDone())},mustExec:!1})},l);for(const c of o)c.translateInPage(t,e),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const t of this.#x)this.#g.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const t=this.#g;this.#g=null;let e=!1;for(const[{x:i,y:a,pageIndex:o},l]of t)l.newX=i,l.newY=a,l.newPageIndex=o,e||=i!==l.savedX||a!==l.savedY||o!==l.savedPageIndex;if(!e)return!1;const r=(i,a,o,l)=>{if(this.#n.has(i.id)){const c=this.#s.get(l);c?i._setParentAndPosition(c,a,o):(i.pageIndex=l,i.x=a,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:o,newPageIndex:l}]of t)r(i,a,o,l)},undo:()=>{for(const[i,{savedX:a,savedY:o,savedPageIndex:l}]of t)r(i,a,o,l)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#g)for(const r of this.#g.keys())r.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==We.NONE}get imageManager(){return Ve(this,"imageManager",new Vx)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let h=0,f=e.rangeCount;h<f;h++)if(!t.contains(e.getRangeAt(h).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:o}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(h,f,p,v)=>({x:(f-i)/o,y:1-(h+p-r)/a,width:v/o,height:p/a});break;case"180":l=(h,f,p,v)=>({x:1-(h+p-r)/a,y:1-(f+v-i)/o,width:p/a,height:v/o});break;case"270":l=(h,f,p,v)=>({x:1-(f+v-i)/o,y:(h-r)/a,width:v/o,height:p/a});break;default:l=(h,f,p,v)=>({x:(h-r)/a,y:(f-i)/o,width:p/a,height:v/o});break}const c=[];for(let h=0,f=e.rangeCount;h<f;h++){const p=e.getRangeAt(h);if(!p.collapsed)for(const{x:v,y:g,width:w,height:y}of p.getClientRects())w===0||y===0||c.push(l(v,g,w,y))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const r=this.#i.getRawValue(e);r&&(this.#C===We.NONE&&!r.hasBeenModified||r.renderAnnotationElement(t))}setMissingCanvas(t,e,r){const i=this.#R?.get(t);i&&(i.setCanvas(e,r),this.#R.delete(t))}addMissingCanvas(t,e){(this.#R||=new Map).set(t,e)}}class Tl{#t=null;#e=!1;#r=null;#n=null;#s=null;#a=null;#i=!1;#o=null;#u=null;#l=null;#f=null;#h=!1;static#d=null;static _l10n=null;constructor(t){this.#u=t,this.#h=t._uiManager.useNewAltTextFlow,Tl.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Tl._l10n??=t}async render(){const t=this.#r=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Tl.#d.missing),e.setAttribute("data-l10n-id",Tl.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#u._uiManager._signal;t.addEventListener("contextmenu",uo,{signal:r}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#h&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",i,{capture:!0,signal:r}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#i=!0,i(a))},{signal:r}),await this.#g(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#f=await Tl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#u.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#f),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#f}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(this.#l=r,this.#f=i),!(this.#t===t&&this.#e===e)&&(a||(this.#t=t,this.#e=e),this.#g())}toggle(t=!1){this.#r&&(!t&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#r.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#g(){const t=this.#r;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Tl.#d[this.#m]),this.#n?.setAttribute("data-l10n-id",Tl.#d[`${this.#m}-label`]),!this.#t){this.#s?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#s;if(!e){this.#s=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#u.id}`;const i=100,a=this.#u._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:a})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#u.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class a0{#t=null;#e=null;#r=!1;#n=null;#s=null;#a=null;#i=null;#o=null;#u=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#f(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:r}=t;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#f(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:r}=this.#t.getBoundingClientRect(),{x:i,y:a,width:o,height:l}=this.#n.parent.boundingClientRect;return[(t-i)/o,(e+r-a)/l]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#f(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return t;t.addEventListener("contextmenu",uo,{signal:r}),e&&(t.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,Ur(a)},{capture:!0,signal:r}),t.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,Ur(a)},{capture:!0,signal:r})),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",i,{capture:!0,signal:r}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#r=!0,i(a))},{signal:r}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),t}edit(t){const e=this.commentPopupPositionInLayer;let r,i;if(e)[r,i]=e;else{[r,i]=this.#n.commentButtonPosition;const{width:f,height:p,x:v,y:g}=this.#n;r=v+r*f,i=g+i*p}const a=this.#n.parent.boundingClientRect,{x:o,y:l,width:c,height:h}=a;this.#n._uiManager.editComment(this.#n,o+r*c,l+i*h,{...t,parentDimensions:a})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#u||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#s}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#i&&(this.#a=null),t===null){this.#i="",this.#u=!0;return}this.#i=t,this.#o=new Date,this.#u=!1}setInitialText(t,e=null){this.#s=t,this.data=t,this.#o=null,this.#a=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#i="",this.#a=null,this.#o=null,this.#n=null,this.#r=!1,this.#u=!1}}class D1{#t;#e=!1;#r=null;#n;#s;#a;#i;#o=null;#u;#l=null;#f;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:o=null,signal:l}){this.#t=t,this.#r=r,this.#n=e,this.#s=i,this.#a=a,this.#i=o,this.#f=new AbortController,this.#u=AbortSignal.any([l,this.#f.signal]),t.addEventListener("touchstart",this.#d.bind(this),{passive:!1,signal:this.#u})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Rl.pixelRatio}#d(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,a=AbortSignal.any([this.#u,i.signal]),o=this.#t,l={capture:!0,signal:a,passive:!1},c=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Ur(h),c(h))},l),o.addEventListener("pointerup",c,l),o.addEventListener("pointercancel",c,l);return}if(!this.#h){this.#h=new AbortController;const i=AbortSignal.any([this.#u,this.#h.signal]),a=this.#t,o={signal:i,capture:!1,passive:!1};a.addEventListener("touchmove",this.#m.bind(this),o);const l=this.#g.bind(this);a.addEventListener("touchend",l,o),a.addEventListener("touchcancel",l,o),o.capture=!0,a.addEventListener("pointerdown",Ur,o),a.addEventListener("pointermove",Ur,o),a.addEventListener("pointercancel",Ur,o),a.addEventListener("pointerup",Ur,o),this.#s?.()}if(Ur(t),t.touches.length!==2||this.#r?.()){this.#l=null;return}let[e,r]=t.touches;e.identifier>r.identifier&&([e,r]=[r,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;Ur(t);let[e,r]=t.touches;e.identifier>r.identifier&&([e,r]=[r,e]);const{screenX:i,screenY:a}=e,{screenX:o,screenY:l}=r,c=this.#l,{touch0X:h,touch0Y:f,touch1X:p,touch1Y:v}=c,g=p-h,w=v-f,y=o-i,x=l-a,S=Math.hypot(y,x)||1,O=Math.hypot(g,w)||1;if(!this.#e&&Math.abs(O-S)<=D1.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=i,c.touch0Y=a,c.touch1X=o,c.touch1Y=l,!this.#e){this.#e=!0;return}const C=[(i+o)/2,(a+l)/2];this.#a?.(C,O,S)}#g(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#i?.()),this.#l&&(Ur(t),this.#l=null,this.#e=!1))}destroy(){this.#f?.abort(),this.#f=null,this.#o?.abort(),this.#o=null}}class Se{#t=null;#e=null;#r=null;#n=null;#s=null;#a=!1;#i=null;#o="";#u=null;#l=null;#f=null;#h=null;#d=null;#m="";#g=!1;#c=null;#p=!1;#v=!1;#b=!1;#y=null;#E=0;#S=0;#A=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#_=Se._zIndex++;static _borderLineWidth=-1;static _colorManager=new Yx;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Se.prototype._resizeWithKeyboard,e=Lc.TRANSLATE_SMALL,r=Lc.TRANSLATE_BIG;return Ve(this,"_resizerKeyboardManager",new Wg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,r]}],[["Escape","mac+Escape"],Se.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,o];const[l,c]=this.parentDimensions;this.x=t.x/l,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ve(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new gJ({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Se._l10n??=t,Se._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Se._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Se._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Zn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#I(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,r,i){const[a,o]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(t+r)/a,this.y=(e+i)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[r,i]=this.parentDimensions;this.setAt(t*r,e*i,this.width*r,this.height*i),this._onTranslated()}#N([t,e],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/t,this.y+=i/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#N(this.parentDimensions,t,e)}translateInPage(t,e){this.#c||=[this.x,this.y,this.width,this.height],this.#N(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#c||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,a]}=this;if(this.x+=t/i,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:l}=this;const[c,h]=this.getBaseTranslation();o+=c,l+=h;const{style:f}=r;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*l).toFixed(2)}%`,this._onTranslating(o,l),r.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#c&&(this.#c[0]!==this.x||this.#c[1]!==this.y)}get _hasBeenResized(){return!!this.#c&&(this.#c[2]!==this.width||this.#c[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:r}=Se,i=r/t,a=r/e;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[r,i]}=this;let{x:a,y:o,width:l,height:c}=this;if(l*=r,c*=i,a*=r,o*=i,this._mustFixPosition)switch(t){case 0:a=Ta(a,0,r-l),o=Ta(o,0,i-c);break;case 90:a=Ta(a,0,r-c),o=Ta(o,l,i);break;case 180:a=Ta(a,l,r),o=Ta(o,c,i);break;case 270:a=Ta(a,c,r),o=Ta(o,0,i-l);break}this.x=a/=r,this.y=o/=i;const[h,f]=this.getBaseTranslation();a+=h,o+=f,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#O(t,e,r){switch(r){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Se.#O(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Se.#O(t,e,360-this.parentRotation)}#P(t){switch(t){case 90:{const[e,r]=this.pageDimensions;return[0,-e/r,r/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,r]=this.pageDimensions;return[0,e/r,-r/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,r]}=this;return[e*t,r*t]}setDims(){const{div:{style:t},width:e,height:r}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#j(){if(this.#u)return;this.#u=document.createElement("div"),this.#u.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const r of t){const i=document.createElement("div");this.#u.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#L.bind(this,r),{signal:e}),i.addEventListener("contextmenu",uo,{signal:e}),i.tabIndex=-1}this.div.prepend(this.#u)}#L(t,e){e.preventDefault();const{isMac:r}=na.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Ur,{passive:!1,signal:o}),window.addEventListener("contextmenu",uo,{signal:o}),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const h=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=l,this.div.style.cursor=c,this.#B()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#D(t,e,r,i){this.width=r,this.height=i,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#f)return;const{savedX:t,savedY:e,savedWidth:r,savedHeight:i}=this.#f;this.#f=null;const a=this.x,o=this.y,l=this.width,c=this.height;a===t&&o===e&&l===r&&c===i||this.addCommands({cmd:this.#D.bind(this,a,o,l,c),undo:this.#D.bind(this,t,e,r,i),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#R(t,e){const[r,i]=this.parentDimensions,a=this.x,o=this.y,l=this.width,c=this.height,h=Se.MIN_SIZE/r,f=Se.MIN_SIZE/i,p=this.#P(this.rotation),v=(V,J)=>[p[0]*V+p[2]*J,p[1]*V+p[3]*J],g=this.#P(360-this.rotation),w=(V,J)=>[g[0]*V+g[2]*J,g[1]*V+g[3]*J];let y,x,S=!1,O=!1;switch(t){case"topLeft":S=!0,y=(V,J)=>[0,0],x=(V,J)=>[V,J];break;case"topMiddle":y=(V,J)=>[V/2,0],x=(V,J)=>[V/2,J];break;case"topRight":S=!0,y=(V,J)=>[V,0],x=(V,J)=>[0,J];break;case"middleRight":O=!0,y=(V,J)=>[V,J/2],x=(V,J)=>[0,J/2];break;case"bottomRight":S=!0,y=(V,J)=>[V,J],x=(V,J)=>[0,0];break;case"bottomMiddle":y=(V,J)=>[V/2,J],x=(V,J)=>[V/2,0];break;case"bottomLeft":S=!0,y=(V,J)=>[0,J],x=(V,J)=>[V,0];break;case"middleLeft":O=!0,y=(V,J)=>[0,J/2],x=(V,J)=>[V,J/2];break}const C=y(l,c),N=x(l,c);let k=v(...N);const R=Se._round(a+k[0]),B=Se._round(o+k[1]);let H=1,q=1,rt,D;if(e.fromKeyboard)({deltaX:rt,deltaY:D}=e);else{const{screenX:V,screenY:J}=e,[st,gt]=this.#l;[rt,D]=this.screenToPageTranslation(V-st,J-gt),this.#l[0]=V,this.#l[1]=J}if([rt,D]=w(rt/r,D/i),S){const V=Math.hypot(l,c);H=q=Math.max(Math.min(Math.hypot(N[0]-C[0]-rt,N[1]-C[1]-D)/V,1/l,1/c),h/l,f/c)}else O?H=Ta(Math.abs(N[0]-C[0]-rt),h,1)/l:q=Ta(Math.abs(N[1]-C[1]-D),f,1)/c;const z=Se._round(l*H),et=Se._round(c*q);k=v(...x(z,et));const tt=R-k[0],dt=B-k[1];this.#c||=[this.x,this.y,this.width,this.height],this.width=z,this.height=et,this.x=tt,this.y=dt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Vp(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,r]of t)await this._editToolbar.addButton(e,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(Tl.initialize(Se._l10n),this.#r=new Tl(this),this.#t&&(this.#r.data=this.#t,this.#t=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(t){this.#r&&(this.#r.data=t)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(t){await this.#r?.setGuessedText(t)}serializeAltText(t){return this.#r?.serialize(t)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new a0(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:r,deleted:i}}=this.#n;return{text:e,richText:t,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new a0(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:r}){if(!e||(this.#n||=new a0(this),this.#n.setInitialText(t,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new a0(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,i]=t.rect,[a]=this.pageDimensions,[o]=this.pageTranslation,l=o+a+1,c=i-100,h=l+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,c,h,i]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#a?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*r/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),sD(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new D1({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#$.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#x.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#$(){this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,r){let a=.7*(r/e)+1-.7;if(a===1)return;const o=this.#P(this.rotation),l=(R,B)=>[o[0]*R+o[2]*B,o[1]*R+o[3]*B],[c,h]=this.parentDimensions,f=this.x,p=this.y,v=this.width,g=this.height,w=Se.MIN_SIZE/c,y=Se.MIN_SIZE/h;a=Math.max(Math.min(a,1/v,1/g),w/v,y/g);const x=Se._round(v*a),S=Se._round(g*a);if(x===v&&S===g)return;this.#c||=[f,p,v,g];const O=l(v/2,g/2),C=Se._round(f+O[0]),N=Se._round(p+O[1]),k=l(x/2,S/2);this.x=C-k[0],this.y=N-k[1],this.width=x,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#x(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(t){const{isMac:e}=na.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#F(t);return}this.#M(t)}#M(t){const{isMac:e}=na.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:a},l=h=>{i.abort(),this.#i=null,this.#g=!1,this._uiManager.endDragSession()||this.#M(h),r&&this._onStopDragging()};e&&(this.#E=t.clientX,this.#S=t.clientY,this.#i=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",h=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:v}=h;if(v!==this.#i){Ur(h);return}const[g,w]=this.screenToPageTranslation(f-this.#E,p-this.#S);this.#E=f,this.#S=p,this._uiManager.dragSelectedEditors(g,w)},o),window.addEventListener("touchmove",Ur,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#T||h.isPrimary)&&l(h),Ur(h)},o));const c=h=>{if(!this.#i||this.#i===h.pointerId){l(h);return}Ur(h)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,r){t.changeParent(this),this.x=e,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,r=this.rotation){const i=this.parentScale,[a,o]=this.pageDimensions,[l,c]=this.pageTranslation,h=t/i,f=e/i,p=this.x*a,v=this.y*o,g=this.width*a,w=this.height*o;switch(r){case 0:return[p+h+l,o-v-f-w+c,p+h+g+l,o-v-f+c];case 90:return[p+f+l,o-v+h+c,p+f+w+l,o-v+h+g+c];case 180:return[p-h-g+l,o-v+f+c,p-h+l,o-v+f+w+c];case 270:return[p-f-w+l,o-v-h-g+c,p-f+l,o-v-h+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[r,i,a,o]=t,l=a-r,c=o-i;switch(this.rotation){case 0:return[r,e-o,l,c];case 90:return[r,e-i,c,l];case 180:return[a,e-i,l,c];case 270:return[a,e-o,c,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Se._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:r,opacity:i,deleted:a,richText:o},uid:l,pageIndex:c,creationDate:h,modificationDate:f}=this;return{id:l,pageIndex:c,rect:this.getPDFRect(),richText:o,contentsObj:{str:t},creationDate:h,modificationDate:r||f,popupRef:!a,color:e,opacity:i}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return e<o&&i>0&&t<a&&r>0}#U(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,r){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:r,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});i.rotation=t.rotation,i.#t=t.accessibilityData,i._isCopy=t.isCopy||!1;const[a,o]=i.pageDimensions,[l,c,h,f]=i.getRectInCurrentCoords(t.rect,o);return i.x=l/a,i.y=c/o,i.width=h/a,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#I(),this.removeEditToolbar(),this.#A){for(const t of this.#A.values())clearTimeout(t);this.#A=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#j(),this.#u.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[r,i,a,o]=this.getPDFRect();return[Se._round(r+(a-r)*t),Se._round(i+(o-i)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#f={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#u.children;if(!this.#e){this.#e=Array.from(e);const o=this.#V.bind(this),l=this.#W.bind(this),c=this._uiManager._signal;for(const h of this.#e){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:c}),h.addEventListener("blur",l,{signal:c}),h.addEventListener("focus",this.#Y.bind(this,f),{signal:c}),h.setAttribute("data-l10n-id",Se._l10nResizer[f])}}const r=this.#e[0];let i=0;for(const o of e){if(o===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==i){if(a<i)for(let l=0;l<i-a;l++)this.#u.append(this.#u.firstChild);else if(a>i)for(let l=0;l<a-i;l++)this.#u.firstChild.before(this.#u.lastChild);let o=0;for(const l of e){const h=this.#e[o++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Se._l10nResizer[h])}}this.#q(0),this.#b=!0,this.#u.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#V(t){Se._resizerKeyboardManager.exec(this,t)}#W(t){this.#b&&t.relatedTarget?.parentNode!==this.#u&&this.#I()}#Y(t){this.#m=this.#b?t:""}#q(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#R(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#I(){this.#b=!1,this.#q(-1),this.#B()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#u?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#A||=new Map;const{action:r}=t;let i=this.#A.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),this.#A.delete(r),this.#A.size===0&&(this.#A=null)},Se._telemetryTimeout),this.#A.set(r,i);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const r=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),r.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class gJ extends Se{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cO=3285377520,to=4294901760,Sl=65535;class oD{constructor(t){this.h1=t?t&4294967295:cO,this.h2=t?t&4294967295:cO}update(t){let e,r;if(typeof t=="string"){e=new Uint8Array(t.length*2),r=0;for(let y=0,x=t.length;y<x;y++){const S=t.charCodeAt(y);S<=255?e[r++]=S:(e[r++]=S>>>8,e[r++]=S&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),r=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,o=new Uint32Array(e.buffer,0,i);let l=0,c=0,h=this.h1,f=this.h2;const p=3432918353,v=461845907,g=p&Sl,w=v&Sl;for(let y=0;y<i;y++)y&1?(l=o[y],l=l*p&to|l*g&Sl,l=l<<15|l>>>17,l=l*v&to|l*w&Sl,h^=l,h=h<<13|h>>>19,h=h*5+3864292196):(c=o[y],c=c*p&to|c*g&Sl,c=c<<15|c>>>17,c=c*v&to|c*w&Sl,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,a){case 3:l^=e[i*4+2]<<16;case 2:l^=e[i*4+1]<<8;case 1:l^=e[i*4],l=l*p&to|l*g&Sl,l=l<<15|l>>>17,l=l*v&to|l*w&Sl,i&1?h^=l:f^=l}this.h1=h,this.h2=f}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&to|t*36045&Sl,e=e*4283543511&to|((e<<16|t>>>16)*2950163797&to)>>>16,t^=e>>>1,t=t*444984403&to|t*60499&Sl,e=e*3301882366&to|((e<<16|t>>>16)*3120437893&to)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const E5=Object.freeze({map:null,hash:"",transfer:void 0});class Kx{#t=!1;#e=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const r=this.#n.get(t);return r===void 0?e:Object.assign(e,r)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Se&&this.#r.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof Se)return;this.onAnnotationEditor(null)}}setValue(t,e){const r=this.#n.get(t);let i=!1;if(r!==void 0)for(const[a,o]of Object.entries(e))r[a]!==o&&(i=!0,r[a]=o);else i=!0,this.#n.set(t,e);i&&this.#s(),e instanceof Se&&((this.#r||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#s(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new lD(this)}get serializable(){if(this.#n.size===0)return E5;const t=new Map,e=new oD,r=[],i=Object.create(null);let a=!1;for(const[o,l]of this.#n){const c=l instanceof Se?l.serialize(!1,i):l;c&&(t.set(o,c),e.update(`${o}:${JSON.stringify(c)}`),a||=!!c.bitmap)}if(a)for(const o of t.values())o.bitmap&&r.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:r}:E5}get editorStats(){let t=null;const e=new Map;let r=0,i=0;for(const a of this.#n.values()){if(!(a instanceof Se)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:l}=o;e.has(l)||e.set(l,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const c=t[l]||=new Map;for(const[h,f]of Object.entries(o)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const v=p.get(f)??0;p.set(f,v+1)}}if((i>0||r>0)&&(t||=Object.create(null),t.comments={deleted:i,edited:r}),!t)return null;for(const[a,o]of e)t[a]=o.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const r=this.#r?.get(t);return r?(r.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#r?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#r)for(const e of this.#r.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class lD extends Kx{#t;constructor(t){super();const{map:e,hash:r,transfer:i}=t.serializable,a=structuredClone(e,i?{transfer:i}:null);this.#t={map:a,hash:r,transfer:i}}get print(){Zn("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Ve(this,"modifiedIds",{ids:new Set,hash:""})}}class mJ{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:r}){if(!(!t||this.#t.has(t.loadedName))){if(dn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:o}=t,l=new FontFace(i,a,o);this.addNativeFontFace(l);try{await l.load(),this.#t.add(i),r?.(t)}catch{He(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Zn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const r=t.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw He(`Failed to load font '${r.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Ve(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Ve(this,"isSyncFontLoadingSupported",Ca||na.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(dn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:e,callback:t};return r.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ve(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function r(N,k){return N.charCodeAt(k)<<24|N.charCodeAt(k+1)<<16|N.charCodeAt(k+2)<<8|N.charCodeAt(k+3)&255}function i(N,k,R,B){const H=N.substring(0,k),q=N.substring(k+R);return H+B+q}let a,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let h=0;function f(N,k){if(++h>30){He("Load test font never loaded."),k();return}if(c.font="30px "+N,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(f.bind(null,N,k))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=i(v,976,p.length,p);const w=16,y=1482184792;let x=r(v,w);for(a=0,o=p.length-3;a<o;a+=4)x=x-y+r(p,a)|0;a<p.length&&(x=x-y+r(p+"XXX",a)|0),v=i(v,w,4,XQ(x));const S=`url(data:font/opentype;base64,${btoa(v)});`,O=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(O);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const N of[t.loadedName,p]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=N,C.append(k)}this._document.body.append(C),f(p,()=>{C.remove(),e.complete()})}}class vJ{#t;constructor(t,e=null,r,i){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${nD(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const r=this.loadedName+"_path_"+e;let i;try{i=t.get(r)}catch(o){He(`getPathGenerator - ignoring character: "${o}".`)}const a=aD(i);return this.fontExtraProperties||t.delete(r),this.compiledGlyphs[e]=a}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class cd{#t;#e;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,r={};let i=0;for(const h of cd.strings){const f=e.encode(t[h]);r[h]=f,i+=4+f.length}const a=new ArrayBuffer(i),o=new Uint8Array(a),l=new DataView(a);let c=0;for(const h of cd.strings){const f=r[h],p=f.length;l.setUint32(c,p),o.set(f,c+4),c+=4+p}return dn(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#r=new TextDecoder}#n(t){dn(t<cd.strings.length,"Invalid string index");let e=0;for(let i=0;i<t;i++)e+=this.#e.getUint32(e)+4;const r=this.#e.getUint32(e);return this.#r.decode(new Uint8Array(this.#t,e+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class hd{#t;#e;#r;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,r={};let i=0;for(const v of hd.strings){const g=e.encode(t[v]);r[v]=g,i+=4+g.length}i+=4;let a,o,l=1+i;t.style&&(a=e.encode(t.style.style),o=e.encode(t.style.weight),l+=4+a.length+4+o.length);const c=new ArrayBuffer(l),h=new Uint8Array(c),f=new DataView(c);let p=0;f.setUint8(p++,t.guessFallback?1:0),f.setUint32(p,0),p+=4,i=0;for(const v of hd.strings){const g=r[v],w=g.length;i+=4+w,f.setUint32(p,w),h.set(g,p+4),p+=4+w}return f.setUint32(p-i-4,i),t.style&&(f.setUint32(p,a.length),h.set(a,p+4),p+=4+a.length,f.setUint32(p,o.length),h.set(o,p+4),p+=4+o.length),dn(p<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(p)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#r=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){dn(t<hd.strings.length,"Invalid string index");let e=5;for(let i=0;i<t;i++)e+=this.#e.getUint32(e)+4;const r=this.#e.getUint32(e);return this.#r.decode(new Uint8Array(this.#t,e+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),r=this.#r.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const i=this.#e.getUint32(t),a=this.#r.decode(new Uint8Array(this.#t,t+4,i));return{style:r,weight:a}}}class Gn{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#r=this.#e+1+8;static#n=this.#r+1+48;static#s=this.#n+1+6;#a;#i;#o;constructor({data:t,extra:e}){this.#a=t,this.#i=new TextDecoder,this.#o=new DataView(this.#a),e&&Object.assign(this,e)}#u(t){dn(t<Gn.bools.length,"Invalid boolean index");const e=Math.floor(t/4),r=t*2%8,i=this.#o.getUint8(e)>>r&3;return i===0?void 0:i===2}get black(){return this.#u(0)}get bold(){return this.#u(1)}get disableFontFace(){return this.#u(2)}get fontExtraProperties(){return this.#u(3)}get isInvalidPDFjsFont(){return this.#u(4)}get isType3Font(){return this.#u(5)}get italic(){return this.#u(6)}get missingFile(){return this.#u(7)}get remeasure(){return this.#u(8)}get vertical(){return this.#u(9)}#l(t){return dn(t<Gn.numbers.length,"Invalid number index"),this.#o.getFloat64(Gn.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Gn.#e;if(this.#o.getUint8(t)===0)return;t+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(t,!0)),t+=2;return r}get fontMatrix(){let t=Gn.#r;if(this.#o.getUint8(t)===0)return;t+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(t,!0)),t+=8;return r}get defaultVMetrics(){let t=Gn.#n;if(this.#o.getUint8(t)===0)return;t+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(t,!0)),t+=2;return r}#f(t){dn(t<Gn.strings.length,"Invalid string index");let e=Gn.#s+4;for(let a=0;a<t;a++)e+=this.#o.getUint32(e)+4;const r=this.#o.getUint32(e),i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,e+4,r)),this.#i.decode(i)}get fallbackName(){return this.#f(0)}get loadedName(){return this.#f(1)}get mimetype(){return this.#f(2)}get name(){return this.#f(3)}get data(){let t=Gn.#s;const e=this.#o.getUint32(t);t+=4+e;const r=this.#o.getUint32(t);t+=4+r;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);if(a!==0)return new Uint8Array(this.#a,t+4,a)}clearData(){let t=Gn.#s;const e=this.#o.getUint32(t);t+=4+e;const r=this.#o.getUint32(t);t+=4+r;const i=this.#o.getUint32(t);t+=4+i;const a=this.#o.getUint32(t);new Uint8Array(this.#a,t+4,a).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Gn.#s;const e=this.#o.getUint32(t);t+=4+e;const r=this.#o.getUint32(t);t+=4+r;const i=this.#o.getUint32(t);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(this.#a,t+4,i)),new cd(a.buffer)}get systemFontInfo(){let t=Gn.#s;const e=this.#o.getUint32(t);t+=4+e;const r=this.#o.getUint32(t);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#a,t+4,r)),new hd(i.buffer)}static write(t){const e=t.systemFontInfo?hd.write(t.systemFontInfo):null,r=t.cssFontInfo?cd.write(t.cssFontInfo):null,i=new TextEncoder,a={};let o=0;for(const y of Gn.strings)a[y]=i.encode(t[y]),o+=4+a[y].length;const l=Gn.#s+4+o+4+(e?e.byteLength:0)+4+(r?r.byteLength:0)+4+(t.data?t.data.length:0),c=new ArrayBuffer(l),h=new Uint8Array(c),f=new DataView(c);let p=0;const v=Gn.bools.length;let g=0,w=0;for(let y=0;y<v;y++){const x=t[Gn.bools[y]];g|=(x===void 0?0:x?2:1)<<w,w+=2,(w===8||y===v-1)&&(f.setUint8(p++,g),g=0,w=0)}dn(p===Gn.#t,"FontInfo.write: Boolean properties offset mismatch");for(const y of Gn.numbers)f.setFloat64(p,t[y]),p+=8;if(dn(p===Gn.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){f.setUint8(p++,4);for(const y of t.bbox)f.setInt16(p,y,!0),p+=2}else f.setUint8(p++,0),p+=8;if(dn(p===Gn.#r,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){f.setUint8(p++,6);for(const y of t.fontMatrix)f.setFloat64(p,y,!0),p+=8}else f.setUint8(p++,0),p+=48;if(dn(p===Gn.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){f.setUint8(p++,1);for(const y of t.defaultVMetrics)f.setInt16(p,y,!0),p+=2}else f.setUint8(p++,0),p+=6;dn(p===Gn.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(Gn.#s,0),p+=4;for(const y of Gn.strings){const x=a[y],S=x.length;f.setUint32(p,S),h.set(x,p+4),p+=4+S}if(f.setUint32(Gn.#s,p-Gn.#s-4),!e)f.setUint32(p,0),p+=4;else{const y=e.byteLength;f.setUint32(p,y),dn(p+4+y<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(e),p+4),p+=4+y}if(!r)f.setUint32(p,0),p+=4;else{const y=r.byteLength;f.setUint32(p,y),dn(p+4+y<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(r),p+4),p+=4+y}return t.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,t.data.length),h.set(t.data,p+4),p+=4+t.data.length),dn(p<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(p)}}class Di{static#t=0;static#e=1;static#r=2;static#n=3;static#s=4;static#a=8;static#i=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,r=null,i=[],a=[],o=[],l=[],c=null,h=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,r=t[2],o=t[3],e===1?i.push(...t[4],...t[5]):i.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,c=t[1],i=t[2],a=t[3],l=t[4]||[],r=t[6],h=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const f=Math.floor(i.length/2),p=Math.floor(a.length/3),v=o.length,g=l.length;let w=0;for(const k of l)w+=1,w=Math.ceil(w/4)*4,w+=4+k.coords.length*4,w+=4+k.colors.length*4,k.verticesPerRow!==void 0&&(w+=4);const y=20+f*8+p*3+v*8+(r?16:0)+(h?3:0)+w,x=new ArrayBuffer(y),S=new DataView(x),O=new Uint8Array(x);S.setUint8(Di.#t,e),S.setUint8(Di.#e,r?1:0),S.setUint8(Di.#r,h?1:0),S.setUint8(Di.#n,c),S.setUint32(Di.#s,f,!0),S.setUint32(Di.#a,p,!0),S.setUint32(Di.#i,v,!0),S.setUint32(Di.#o,g,!0);let C=20;new Float32Array(x,C,f*2).set(i),C+=f*8,O.set(a,C),C+=p*3;for(const[k,R]of o)S.setFloat32(C,k,!0),C+=4,S.setUint32(C,parseInt(R.slice(1),16),!0),C+=4;if(r)for(const k of r)S.setFloat32(C,k,!0),C+=4;h&&(O.set(h,C),C+=3);for(let k=0;k<l.length;k++){const R=l[k];S.setUint8(C,R.type),C+=1,C=Math.ceil(C/4)*4,S.setUint32(C,R.coords.length,!0),C+=4,new Int32Array(x,C,R.coords.length).set(R.coords),C+=R.coords.length*4,S.setUint32(C,R.colors.length,!0),C+=4,new Int32Array(x,C,R.colors.length).set(R.colors),C+=R.colors.length*4,R.verticesPerRow!==void 0&&(S.setUint32(C,R.verticesPerRow,!0),C+=4)}return x}getIR(){const t=this.view,e=this.data[Di.#t],r=!!this.data[Di.#e],i=!!this.data[Di.#r],a=t.getUint32(Di.#s,!0),o=t.getUint32(Di.#a,!0),l=t.getUint32(Di.#i,!0),c=t.getUint32(Di.#o,!0);let h=20;const f=new Float32Array(this.buffer,h,a*2);h+=a*8;const p=new Uint8Array(this.buffer,h,o*3);h+=o*3;const v=[];for(let x=0;x<l;++x){const S=t.getFloat32(h,!0);h+=4;const O=t.getUint32(h,!0);h+=4,v.push([S,`#${O.toString(16).padStart(6,"0")}`])}let g=null;if(r){g=[];for(let x=0;x<4;++x)g.push(t.getFloat32(h,!0)),h+=4}let w=null;i&&(w=new Uint8Array(this.buffer,h,3),h+=3);const y=[];for(let x=0;x<c;++x){const S=t.getUint8(h);h+=1,h=Math.ceil(h/4)*4;const O=t.getUint32(h,!0);h+=4;const C=new Int32Array(this.buffer,h,O);h+=O*4;const N=t.getUint32(h,!0);h+=4;const k=new Int32Array(this.buffer,h,N);h+=N*4;const R={type:S,coords:C,colors:k};S===w5.LATTICE&&(R.verticesPerRow=t.getUint32(h,!0),h+=4),y.push(R)}if(e===1)return["RadialAxial","axial",g,v,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",g,v,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(e===3){const x=this.data[Di.#n];let S=null;if(f.length>0){let O=f[0],C=f[0],N=f[1],k=f[1];for(let R=0;R<f.length;R+=2){const B=f[R],H=f[R+1];O=O>B?B:O,N=N>H?H:N,C=C<B?B:C,k=k<H?H:k}S=[O,N,C,k]}return["Mesh",x,f,p,y,S,g,w]}throw new Error(`Unsupported pattern kind: ${e}`)}}function yJ(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ca)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function bJ(n){if(Ca&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return qg(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function s0(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const C5=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,wJ=n=>typeof n=="object"&&typeof n?.name=="string",AJ=eJ.bind(null,C5,wJ);class xJ{#t=new Map;#e=Promise.resolve();postMessage(t,e){const r={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[i]of this.#t)i.call(this,r)})}addEventListener(t,e,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:a}=r;if(a.aborted){He("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);i=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}this.#t.set(e,i)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const o0={DATA:1,ERROR:2},ii={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function hO(){}function Ja(n){if(n instanceof kc||n instanceof A5||n instanceof rO||n instanceof Pv||n instanceof j2)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Zn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new kc(n.message);case"InvalidPDFException":return new A5(n.message);case"PasswordException":return new rO(n.message,n.code);case"ResponseException":return new Pv(n.message,n.status,n.missing);case"UnknownErrorException":return new j2(n.message,n.details)}return new j2(n.message,n.toString())}class $p{#t=new AbortController;constructor(t,e,r){this.sourceName=t,this.targetName=e,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const r=t.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],t.callback===o0.DATA)i.resolve(t.data);else if(t.callback===o0.ERROR)i.reject(Ja(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const r=this.sourceName,i=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(o){a.postMessage({sourceName:r,targetName:i,callback:o0.DATA,callbackId:t.callbackId,data:o})},function(o){a.postMessage({sourceName:r,targetName:i,callback:o0.ERROR,callbackId:t.callbackId,reason:Ja(o)})});return}if(t.streamId){this.#r(t);return}e(t.data)}on(t,e){const r=this.actionHandler;if(r[t])throw new Error(`There is already an actionName called "${t}"`);r[t]=e}send(t,e,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},r)}sendWithPromise(t,e,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},r)}catch(o){a.reject(o)}return a.promise}sendWithStream(t,e,r,i){const a=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:l,action:t,streamId:a,data:e,desiredSize:h.desiredSize},i),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,c.postMessage({sourceName:o,targetName:l,stream:ii.PULL,streamId:a,desiredSize:h.desiredSize}),f.promise},cancel:h=>{dn(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:ii.CANCEL,streamId:a,reason:Ja(h)}),f.promise}},r)}#r(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,a=this.comObj,o=this,l=this.actionHandler[t.action],c={enqueue(h,f=1,p){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=f,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:ii.ENQUEUE,streamId:e,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:ii.CLOSE,streamId:e}),delete o.streamSinks[e])},error(h){dn(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:ii.ERROR,streamId:e,reason:Ja(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,Promise.try(l,t.data,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:ii.START_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:r,targetName:i,stream:ii.START_COMPLETE,streamId:e,reason:Ja(h)})})}#n(t){const e=t.streamId,r=this.sourceName,i=t.sourceName,a=this.comObj,o=this.streamControllers[e],l=this.streamSinks[e];switch(t.stream){case ii.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Ja(t.reason));break;case ii.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Ja(t.reason));break;case ii.PULL:if(!l){a.postMessage({sourceName:r,targetName:i,stream:ii.PULL_COMPLETE,streamId:e,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,Promise.try(l.onPull||hO).then(function(){a.postMessage({sourceName:r,targetName:i,stream:ii.PULL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:r,targetName:i,stream:ii.PULL_COMPLETE,streamId:e,reason:Ja(h)})});break;case ii.ENQUEUE:if(dn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ii.CLOSE:if(dn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,e);break;case ii.ERROR:dn(o,"error should have stream controller"),o.controller.error(Ja(t.reason)),this.#s(o,e);break;case ii.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Ja(t.reason)),this.#s(o,e);break;case ii.CANCEL:if(!l)break;const c=Ja(t.reason);Promise.try(l.onCancel||hO,c).then(function(){a.postMessage({sourceName:r,targetName:i,stream:ii.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:r,targetName:i,stream:ii.CANCEL_COMPLETE,streamId:e,reason:Ja(h)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#s(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class uD{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(t,e);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,r){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||r<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=r}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Zn("Abstract method `_createCanvas` called.")}}class SJ extends uD{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const r=this._document.createElement("canvas");return r.width=t,r.height=e,r}}class cD{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Zn("Abstract method `_fetch` called.")}}class fO extends cD{async _fetch(t){const e=await Hg(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):qg(e)}}class hD{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,r,i,a){return"none"}destroy(t=!1){}}class _J extends hD{#t;#e;#r;#n;#s;#a;#i=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#s=e}get#o(){return this.#e||=new Map}get#u(){return this.#a||=new Map}get#l(){if(!this.#r){const t=this.#s.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const r=this.#s.createElementNS(du,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#s.createElementNS(du,"defs"),t.append(r),r.append(this.#r),this.#s.body.append(t)}return this.#r}#f(t){if(t.length===1){const c=t[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=c[p]/255;const f=h.join(",");return[f,f,f]}const[e,r,i]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=e[c]/255,o[c]=r[c]/255,l[c]=i[c]/255;return[a.join(","),o.join(","),l.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#s.URL;e!==this.#s.baseURI&&(M1(e)?He('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=JM(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[r,i,a]=this.#f(t),o=t.length===1?r:`${r}${i}${a}`;if(e=this.#o.get(o),e)return this.#o.set(t,e),e;const l=`g_${this.#n}_transfer_map_${this.#i++}`,c=this.#h(l);this.#o.set(t,c),this.#o.set(o,c);const h=this.#g(l);return this.#p(r,i,a,h),c}addHCMFilter(t,e){const r=`${t}-${e}`,i="base";let a=this.#u.get(i);if(a?.key===r||(a?(a.filter?.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},this.#u.set(i,a)),!t||!e))return a.url;const o=this.#b(t);t=ie.makeHexColor(...o);const l=this.#b(e);if(e=ie.makeHexColor(...l),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const c=new Array(256);for(let g=0;g<=255;g++){const w=g/255;c[g]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=c.join(","),f=`g_${this.#n}_hcm_filter`,p=a.filter=this.#g(f);this.#p(h,h,h,p),this.#m(p);const v=(g,w)=>{const y=o[g]/255,x=l[g]/255,S=new Array(w+1);for(let O=0;O<=w;O++)S[O]=y+O/w*(x-y);return S.join(",")};return this.#p(v(0,5),v(1,5),v(2,5),p),a.url=this.#h(f),a.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[r]=this.#f([t]),i=`alpha_${r}`;if(e=this.#o.get(i),e)return this.#o.set(t,e),e;const a=`g_${this.#n}_alpha_map_${this.#i++}`,o=this.#h(a);this.#o.set(t,o),this.#o.set(i,o);const l=this.#g(a);return this.#v(r,l),o}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let r,i;if(t?([r]=this.#f([t]),i=`luminosity_${r}`):i="luminosity",e=this.#o.get(i),e)return this.#o.set(t,e),e;const a=`g_${this.#n}_luminosity_map_${this.#i++}`,o=this.#h(a);this.#o.set(t,o),this.#o.set(i,o);const l=this.#g(a);return this.#d(l),t&&this.#v(r,l),o}addHighlightHCMFilter(t,e,r,i,a){const o=`${e}-${r}-${i}-${a}`;let l=this.#u.get(t);if(l?.key===o||(l?(l.filter?.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},this.#u.set(t,l)),!e||!r))return l.url;const[c,h]=[e,r].map(this.#b.bind(this));let f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[v,g]=[i,a].map(this.#b.bind(this));p<f&&([f,p,v,g]=[p,f,g,v]),this.#l.style.color="";const w=(S,O,C)=>{const N=new Array(256),k=(p-f)/C,R=S/255,B=(O-S)/(255*C);let H=0;for(let q=0;q<=C;q++){const rt=Math.round(f+q*k),D=R+q*B;for(let z=H;z<=rt;z++)N[z]=D;H=rt+1}for(let q=H;q<256;q++)N[q]=N[H-1];return N.join(",")},y=`g_${this.#n}_hcm_${t}_filter`,x=l.filter=this.#g(y);return this.#m(x),this.#p(w(v[0],g[0],5),w(v[1],g[1],5),w(v[2],g[2],5),x),l.url=this.#h(y),l.url}destroy(t=!1){t&&this.#a?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#e?.clear(),this.#e=null,this.#a?.clear(),this.#a=null,this.#i=0)}#d(t){const e=this.#s.createElementNS(du,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#s.createElementNS(du,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#s.createElementNS(du,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#c(t,e,r){const i=this.#s.createElementNS(du,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),t.append(i)}#p(t,e,r,i){const a=this.#s.createElementNS(du,"feComponentTransfer");i.append(a),this.#c(a,"feFuncR",t),this.#c(a,"feFuncG",e),this.#c(a,"feFuncB",r)}#v(t,e){const r=this.#s.createElementNS(du,"feComponentTransfer");e.append(r),this.#c(r,"feFuncA",t)}#b(t){return this.#l.style.color=t,Gg(getComputedStyle(this.#l).getPropertyValue("color"))}}class fD{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(r=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Zn("Abstract method `_fetch` called.")}}class dO extends fD{async _fetch(t){const e=await Hg(t,"arraybuffer");return new Uint8Array(e)}}class dD{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(r=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Zn("Abstract method `_fetch` called.")}}class pO extends dD{async _fetch(t){const e=await Hg(t,"arraybuffer");return new Uint8Array(e)}}Ca&&He("Please use the `legacy` build in Node.js environments.");async function Xx(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class EJ extends hD{}class CJ extends uD{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class TJ extends cD{async _fetch(t){return Xx(t)}}class OJ extends fD{async _fetch(t){return Xx(t)}}class PJ extends dD{async _fetch(t){return Xx(t)}}const Gf="__forcedDependency",{floor:gO,ceil:mO}=Math;function l0(n,t,e,r,i,a){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],r),n[t*4+2]=Math.max(n[t*4+2],i),n[t*4+3]=Math.max(n[t*4+3],a)}const T5=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class NJ{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===T5}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const u0=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};class kJ{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Gf]:[]};#r=new Map;#n=[];#s=[];#a=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#u=-1;#l=new Set;#f=new Map;#h=new Map;#d;#m;#g;#c;#p;constructor(t,e,r=!1){this.#d=t.width,this.#m=t.height,this.#v(e),r&&(this.#p=new Map)}growOperationsCount(t){t>=this.#c.length&&this.#v(t,this.#c)}#v(t,e){const r=new ArrayBuffer(t*4);this.#g=new Uint8ClampedArray(r),this.#c=new Uint32Array(r),e&&e.length>0?(this.#c.set(e),this.#c.fill(T5,e.length)):this.#c.fill(T5)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Gf]:{__proto__:this.#e[Gf]}},this.#i={__proto__:this.#i},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(u0(this.#p,t)?.dependencies.add(r),this.#c[t]=this.#c[r]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(u0(this.#p,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}beginMarkedContent(t){return this.#s.push(t),this}endMarkedContent(t){const e=this.#s.pop();return e!==void 0&&(u0(this.#p,t)?.dependencies.add(e),this.#c[t]=this.#c[e]),this}pushBaseTransform(t){return this.#a.push(ie.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#r.set(t,e),this}recordSimpleDataFromNamed(t,e,r){this.#t[t]=this.#r.get(e)??r}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Gf,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Gf,t);return this}resetBBox(t){return this.#u!==t&&(this.#u=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,r,i,a,o){const l=ie.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform()),c=[1/0,1/0,-1/0,-1/0];ie.axialAlignedBoundingBox([r,a,i,o],l,c);const h=ie.intersect(this.#i,c);return h?(this.#i[0]=h[0],this.#i[1]=h[1],this.#i[2]=h[2],this.#i[3]=h[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(t,e,r,i,a,o){const l=this.#i;if(l[0]===1/0)return this;const c=ie.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform());if(l[0]===-1/0)return ie.axialAlignedBoundingBox([r,a,i,o],c,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return ie.axialAlignedBoundingBox([r,a,i,o],c,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],l[3])),this}recordCharacterBBox(t,e,r,i=1,a=0,o=0,l){const c=r.bbox;let h,f;if(c&&(h=c[2]!==c[0]&&c[3]!==c[1]&&this.#h.get(r),h!==!1&&(f=[0,0,0,0],ie.axialAlignedBoundingBox(c,r.fontMatrix,f),(i!==1||a!==0||o!==0)&&ie.scaleMinMax([i,0,0,-i,a,o],f),h)))return this.recordBBox(t,e,f[0],f[2],f[1],f[3]);if(!l)return this.recordFullPageBBox(t);const p=l();return c&&f&&h===void 0&&(h=f[0]<=a-p.actualBoundingBoxLeft&&f[2]>=a+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,this.#h.set(r,h),h)?this.recordBBox(t,e,f[0],f[2],f[1],f[3]):this.recordBBox(t,e,a-p.actualBoundingBoxLeft,a+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#d,this.#i[2]),this.#o[3]=Math.min(this.#m,this.#i[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const r=this.#l,i=this.#t,a=this.#e;for(const o of e)o in this.#t?r.add(i[o]):o in a&&a[o].forEach(r.add,r);return this}recordNamedDependency(t,e){return this.#r.has(e)&&this.#l.add(this.#r.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Gf]),this.#p){const r=u0(this.#p,t),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#s.forEach(i.add,i),i.delete(t),r.isRenderingOperation=!0}if(this.#u===t){const r=gO(this.#o[0]*256/this.#d),i=gO(this.#o[1]*256/this.#m),a=mO(this.#o[2]*256/this.#d),o=mO(this.#o[3]*256/this.#m);l0(this.#g,t,r,i,a,o);for(const l of this.#l)l!==t&&l0(this.#g,l,r,i,a,o);for(const l of this.#n)l!==t&&l0(this.#g,l,r,i,a,o);for(const l of this.#s)l!==t&&l0(this.#g,l,r,i,a,o);e||(this.#l.clear(),this.#u=-1)}return this}recordShowTextOperation(t,e=!1){const r=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#u===t&&(this.#u=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#f.get(t);return this.#f.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new NJ(this.#c,this.#g)}takeDebugMetadata(){return this.#p}}class Nv{#t;#e;#r;#n=0;#s=0;constructor(t,e,r){if(t instanceof Nv&&t.#r===!!r)return t;this.#t=t,this.#e=e,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#s++,this.#t.save(this.#e),this}restore(t){return this.#s>0&&(this.#t.restore(this.#e),this.#s--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,r){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#r||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,r,i,a,o){return this.#r||this.#t.recordClipBox(this.#e,e,r,i,a,o),this}recordBBox(t,e,r,i,a,o){return this.#r||this.#t.recordBBox(this.#e,e,r,i,a,o),this}recordCharacterBBox(t,e,r,i,a,o,l){return this.#r||this.#t.recordCharacterBBox(this.#e,e,r,i,a,o,l),this}recordFullPageBBox(t){return this.#r||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#r||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const eo={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ta={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function O5(n,t){if(!t)return;const e=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,r),n.clip(i)}class Zx{isModifyingCurrentTransform(){return!1}getPattern(){Zn("Abstract method `getPattern` called.")}}class LJ extends Zx{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)e.addColorStop(r[0],r[1]);return e}getPattern(t,e,r,i){let a;if(i===ta.STROKE||i===ta.FILL){const o=e.current.getClippedPathBoundingBox(i,Tr(t))||[0,0,0,0],l=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,h=e.cachedCanvases.getCanvas("pattern",l,c),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),r=ie.transform(r,[1,0,0,1,o[0],o[1]]),f.transform(...e.baseTransform),this.matrix&&f.transform(...this.matrix),O5(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=t.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(r);a.setTransform(p)}else O5(t,this._bbox),a=this._createGradient(t);return a}}function z2(n,t,e,r,i,a,o,l){const c=t.coords,h=t.colors,f=n.data,p=n.width*4;let v;c[e+1]>c[r+1]&&(v=e,e=r,r=v,v=a,a=o,o=v),c[r+1]>c[i+1]&&(v=r,r=i,i=v,v=o,o=l,l=v),c[e+1]>c[r+1]&&(v=e,e=r,r=v,v=a,a=o,o=v);const g=(c[e]+t.offsetX)*t.scaleX,w=(c[e+1]+t.offsetY)*t.scaleY,y=(c[r]+t.offsetX)*t.scaleX,x=(c[r+1]+t.offsetY)*t.scaleY,S=(c[i]+t.offsetX)*t.scaleX,O=(c[i+1]+t.offsetY)*t.scaleY;if(w>=O)return;const C=h[a],N=h[a+1],k=h[a+2],R=h[o],B=h[o+1],H=h[o+2],q=h[l],rt=h[l+1],D=h[l+2],z=Math.round(w),et=Math.round(O);let tt,dt,V,J,st,gt,kt,Z;for(let I=z;I<=et;I++){if(I<x){const ht=I<w?0:(w-I)/(w-x);tt=g-(g-y)*ht,dt=C-(C-R)*ht,V=N-(N-B)*ht,J=k-(k-H)*ht}else{let ht;I>O?ht=1:x===O?ht=0:ht=(x-I)/(x-O),tt=y-(y-S)*ht,dt=R-(R-q)*ht,V=B-(B-rt)*ht,J=H-(H-D)*ht}let G;I<w?G=0:I>O?G=1:G=(w-I)/(w-O),st=g-(g-S)*G,gt=C-(C-q)*G,kt=N-(N-rt)*G,Z=k-(k-D)*G;const X=Math.round(Math.min(tt,st)),lt=Math.round(Math.max(tt,st));let ct=p*I+X*4;for(let ht=X;ht<=lt;ht++)G=(tt-ht)/(tt-st),G<0?G=0:G>1&&(G=1),f[ct++]=dt-(dt-gt)*G|0,f[ct++]=V-(V-kt)*G|0,f[ct++]=J-(J-Z)*G|0,f[ct++]=255}}function MJ(n,t,e){const r=t.coords,i=t.colors;let a,o;switch(t.type){case w5.LATTICE:const l=t.verticesPerRow,c=Math.floor(r.length/l)-1,h=l-1;for(a=0;a<c;a++){let f=a*l;for(let p=0;p<h;p++,f++)z2(n,e,r[f],r[f+1],r[f+l],i[f],i[f+1],i[f+l]),z2(n,e,r[f+l+1],r[f+1],r[f+l],i[f+l+1],i[f+1],i[f+l])}break;case w5.TRIANGLES:for(a=0,o=r.length;a<o;a+=3)z2(n,e,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class DJ extends Zx{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,r){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(f*t[1]*1.1)),3e3),g=h/p,w=f/v,y={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/g,scaleY:1/w},x=p+4,S=v+4,O=r.getCanvas("mesh",x,S),C=O.context,N=C.createImageData(p,v);if(e){const R=N.data;for(let B=0,H=R.length;B<H;B+=4)R[B]=e[0],R[B+1]=e[1],R[B+2]=e[2],R[B+3]=255}for(const R of this._figures)MJ(N,R,y);return C.putImageData(N,2,2),{canvas:O.canvas,offsetX:l-2*g,offsetY:c-2*w,scaleX:g,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,r,i){O5(t,this._bbox);const a=new Float32Array(2);if(i===ta.SHADING)ie.singularValueDecompose2dScale(Tr(t),a);else if(this.matrix){ie.singularValueDecompose2dScale(this.matrix,a);const[l,c]=a;ie.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=l,a[1]*=c}else ie.singularValueDecompose2dScale(e.baseTransform,a);const o=this._createMeshCanvas(a,i===ta.SHADING?null:this._background,e.cachedCanvases);return i!==ta.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class RJ extends Zx{getPattern(){return"hotpink"}}function IJ(n){switch(n[0]){case"RadialAxial":return new LJ(n);case"Mesh":return new DJ(n);case"Dummy":return new RJ}throw new Error(`Unknown IR type: ${n[0]}`)}const vO={COLORED:1,UNCOLORED:2};class Qx{static MAX_PATTERN_SIZE=3e3;constructor(t,e,r,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(t,e){const{bbox:r,operatorList:i,paintType:a,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),L1("TilingType: "+o);const p=r[0],v=r[1],g=r[2],w=r[3],y=g-p,x=w-v,S=new Float32Array(2);ie.singularValueDecompose2dScale(this.matrix,S);const[O,C]=S;ie.singularValueDecompose2dScale(this.baseTransform,S);const N=O*S[0],k=C*S[1];let R=y,B=x,H=!1,q=!1;const rt=Math.ceil(h*N),D=Math.ceil(f*k),z=Math.ceil(y*N),et=Math.ceil(x*k);rt>=z?R=h:H=!0,D>=et?B=f:q=!0;const tt=this.getSizeAndScale(R,this.ctx.canvas.width,N),dt=this.getSizeAndScale(B,this.ctx.canvas.height,k),V=t.cachedCanvases.getCanvas("pattern",tt.size,dt.size),J=V.context,st=c.createCanvasGraphics(J,e);if(st.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(st,a,l),J.translate(-tt.scale*p,-dt.scale*v),st.transform(0,tt.scale,0,0,dt.scale,0,0),J.save(),st.dependencyTracker?.save(),this.clipBbox(st,p,v,g,w),st.baseTransform=Tr(st.ctx),st.executeOperatorList(i),st.endDrawing(),st.dependencyTracker?.restore(),J.restore(),H||q){const gt=V.canvas;H&&(R=h),q&&(B=f);const kt=this.getSizeAndScale(R,this.ctx.canvas.width,N),Z=this.getSizeAndScale(B,this.ctx.canvas.height,k),I=kt.size,G=Z.size,X=t.cachedCanvases.getCanvas("pattern-workaround",I,G),lt=X.context,ct=H?Math.floor(y/h):0,ht=q?Math.floor(x/f):0;for(let _t=0;_t<=ct;_t++)for(let ut=0;ut<=ht;ut++)lt.drawImage(gt,I*_t,G*ut,I,G,0,0,I,G);return{canvas:X.canvas,scaleX:kt.scale,scaleY:Z.scale,offsetX:p,offsetY:v}}return{canvas:V.canvas,scaleX:tt.scale,scaleY:dt.scale,offsetX:p,offsetY:v}}getSizeAndScale(t,e,r){const i=Math.max(Qx.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*r);return a>=i?a=i:r=a/t,{scale:r,size:a}}clipBbox(t,e,r,i,a){const o=i-e,l=a-r;t.ctx.rect(e,r,o,l),ie.axialAlignedBoundingBox([e,r,i,a],Tr(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,r){const i=t.ctx,a=t.current;switch(e){case vO.COLORED:const{fillStyle:o,strokeStyle:l}=this.ctx;i.fillStyle=a.fillColor=o,i.strokeStyle=a.strokeColor=l;break;case vO.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new KQ(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,r,i,a){let o=r;i!==ta.SHADING&&(o=ie.transform(o,e.baseTransform),this.matrix&&(o=ie.transform(o,this.matrix)));const l=this.createPatternCanvas(e,a);let c=new DOMMatrix(o);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const h=t.createPattern(l.canvas,"repeat");return h.setTransform(c),h}}function jJ({src:n,srcPos:t=0,dest:e,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const l=na.isLittleEndian?4278190080:255,[c,h]=o?[a,l]:[l,a],f=r>>3,p=r&7,v=n.length;e=new Uint32Array(e.buffer);let g=0;for(let w=0;w<i;w++){for(const x=t+f;t<x;t++){const S=t<v?n[t]:255;e[g++]=S&128?h:c,e[g++]=S&64?h:c,e[g++]=S&32?h:c,e[g++]=S&16?h:c,e[g++]=S&8?h:c,e[g++]=S&4?h:c,e[g++]=S&2?h:c,e[g++]=S&1?h:c}if(p===0)continue;const y=t<v?n[t++]:255;for(let x=0;x<p;x++)e[g++]=y&1<<7-x?h:c}return{srcPos:t,destPos:g}}const yO=16,bO=100,BJ=15,wO=10,es=16,U2=new DOMMatrix,Ts=new Float32Array(2),ad=new Float32Array([1/0,1/0,-1/0,-1/0]);function FJ(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,r){t.translate(e,r),this.__originalTranslate(e,r)},n.scale=function(e,r){t.scale(e,r),this.__originalScale(e,r)},n.transform=function(e,r,i,a,o,l){t.transform(e,r,i,a,o,l),this.__originalTransform(e,r,i,a,o,l)},n.setTransform=function(e,r,i,a,o,l){t.setTransform(e,r,i,a,o,l),this.__originalSetTransform(e,r,i,a,o,l)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},n.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},n.bezierCurveTo=function(e,r,i,a,o,l){t.bezierCurveTo(e,r,i,a,o,l),this.__originalBezierCurveTo(e,r,i,a,o,l)},n.rect=function(e,r,i,a){t.rect(e,r,i,a),this.__originalRect(e,r,i,a)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class zJ{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,r){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,r)):(i=this.canvasFactory.create(e,r),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function c0(n,t,e,r,i,a,o,l,c,h){const[f,p,v,g,w,y]=Tr(n);if(p===0&&v===0){const O=o*f+w,C=Math.round(O),N=l*g+y,k=Math.round(N),R=(o+c)*f+w,B=Math.abs(Math.round(R)-C)||1,H=(l+h)*g+y,q=Math.abs(Math.round(H)-k)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(g),C,k),n.drawImage(t,e,r,i,a,0,0,B,q),n.setTransform(f,p,v,g,w,y),[B,q]}if(f===0&&g===0){const O=l*v+w,C=Math.round(O),N=o*p+y,k=Math.round(N),R=(l+h)*v+w,B=Math.abs(Math.round(R)-C)||1,H=(o+c)*p+y,q=Math.abs(Math.round(H)-k)||1;return n.setTransform(0,Math.sign(p),Math.sign(v),0,C,k),n.drawImage(t,e,r,i,a,0,0,q,B),n.setTransform(f,p,v,g,w,y),[q,B]}n.drawImage(t,e,r,i,a,o,l,c,h);const x=Math.hypot(f,p),S=Math.hypot(v,g);return[x*c,S*h]}class AO{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=b5;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Zi.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,r){r?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=ad.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ta.FILL,e=null){const r=this.minMax.slice();if(t===ta.STROKE){e||Zn("Stroke bounding box must include transform."),ie.singularValueDecompose2dScale(e,Ts);const i=Ts[0]*this.lineWidth/2,a=Ts[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const t=ie.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(ad,0)}getClippedPathBoundingBox(t=ta.FILL,e=null){return ie.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function xO(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,r=t.width,i=e%es,a=(e-i)/es,o=i===0?a:a+1,l=n.createImageData(r,es);let c=0,h;const f=t.data,p=l.data;let v,g,w,y;if(t.kind===O0.GRAYSCALE_1BPP){const x=f.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),O=S.length,C=r+7>>3,N=4294967295,k=na.isLittleEndian?4278190080:255;for(v=0;v<o;v++){for(w=v<a?es:i,h=0,g=0;g<w;g++){const R=x-c;let B=0;const H=R>C?r:R*8-7,q=H&-8;let rt=0,D=0;for(;B<q;B+=8)D=f[c++],S[h++]=D&128?N:k,S[h++]=D&64?N:k,S[h++]=D&32?N:k,S[h++]=D&16?N:k,S[h++]=D&8?N:k,S[h++]=D&4?N:k,S[h++]=D&2?N:k,S[h++]=D&1?N:k;for(;B<H;B++)rt===0&&(D=f[c++],rt=128),S[h++]=D&rt?N:k,rt>>=1}for(;h<O;)S[h++]=0;n.putImageData(l,0,v*es)}}else if(t.kind===O0.RGBA_32BPP){for(g=0,y=r*es*4,v=0;v<a;v++)p.set(f.subarray(c,c+y)),c+=y,n.putImageData(l,0,g),g+=es;v<o&&(y=r*i*4,p.set(f.subarray(c,c+y)),n.putImageData(l,0,g))}else if(t.kind===O0.RGB_24BPP)for(w=es,y=r*w,v=0;v<o;v++){for(v>=a&&(w=i,y=r*w),h=0,g=y;g--;)p[h++]=f[c++],p[h++]=f[c++],p[h++]=f[c++],p[h++]=255;n.putImageData(l,0,v*es)}else throw new Error(`bad image kind: ${t.kind}`)}function SO(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,r=t.width,i=e%es,a=(e-i)/es,o=i===0?a:a+1,l=n.createImageData(r,es);let c=0;const h=t.data,f=l.data;for(let p=0;p<o;p++){const v=p<a?es:i;({srcPos:c}=jJ({src:h,srcPos:c,dest:f,width:r,height:v,nonBlackColor:0})),n.putImageData(l,0,p*es)}}function Rp(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of e)n[r]!==void 0&&(t[r]=n[r]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function h0(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function _O(n,t){if(t)return!0;ie.singularValueDecompose2dScale(n,Ts);const e=Math.fround(Rl.pixelRatio*Nd.PDF_TO_CSS_UNITS);return Ts[0]<=e&&Ts[1]<=e}const UJ=["butt","round","square"],qJ=["miter","round","bevel"],HJ={},EO={};class fd{constructor(t,e,r,i,a,{optionalContentConfig:o,markedContentStack:l=null},c,h,f){this.ctx=t,this.current=new AO(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=o,this.cachedCanvases=new zJ(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(t,e,r=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):r}beginDrawing({transform:t,viewport:e,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=l,r){const c=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Tr(this.compositeCtx))}this.ctx.save(),h0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Tr(this.ctx)}executeOperatorList(t,e,r,i,a){const o=t.argsArray,l=t.fnArray;let c=e||0;const h=o.length;if(h===c)return c;const f=h-c>wO&&typeof r=="function",p=f?Date.now()+BJ:0;let v=0;const g=this.commonObjs,w=this.objs;let y,x;for(;;){if(i!==void 0&&c===i.nextBreakPoint)return i.breakIt(c,r),c;if(!a||a(c))if(y=l[c],x=o[c]??null,y!==dg.dependency)x===null?this[y](c):this[y](c,...x);else for(const S of x){this.dependencyTracker?.recordNamedData(S,c);const O=S.startsWith("g_")?g:w;if(!O.has(S))return O.get(S,r),c}if(c++,c===h)return c;if(f&&++v>wO){if(Date.now()>p)return r(),c;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const r=t.width??t.displayWidth,i=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),l=r,c=i,h="prescale1",f,p;for(;a>2&&l>1||o>2&&c>1;){let v=l,g=c;a>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),a/=l/v),o>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/g),f=this.cachedCanvases.getCanvas(h,v,g),p=f.context,p.clearRect(0,0,v,g),p.drawImage(t,0,0,l,c,0,0,v,g),t=f.canvas,l=v,c=g,h=h==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:c}}_createMaskCanvas(t,e){const r=this.ctx,{width:i,height:a}=e,o=this.current.fillColor,l=this.current.patternFill,c=Tr(r);let h,f,p,v;if((e.bitmap||e.data)&&e.count>1){const rt=e.bitmap||e.data.buffer;f=JSON.stringify(l?c:[c.slice(0,4),o]),h=this._cachedBitmapsMap.get(rt),h||(h=new Map,this._cachedBitmapsMap.set(rt,h));const D=h.get(f);if(D&&!l){const z=Math.round(Math.min(c[0],c[2])+c[4]),et=Math.round(Math.min(c[1],c[3])+c[5]);return this.dependencyTracker?.recordDependencies(t,eo.transformAndFill),{canvas:D,offsetX:z,offsetY:et}}p=D}p||(v=this.cachedCanvases.getCanvas("maskCanvas",i,a),SO(v.context,e));let g=ie.transform(c,[1/i,0,0,-1/a,0,0]);g=ie.transform(g,[1,0,0,1,0,-a]);const w=ad.slice();ie.axialAlignedBoundingBox([0,0,i,a],g,w);const[y,x,S,O]=w,C=Math.round(S-y)||1,N=Math.round(O-x)||1,k=this.cachedCanvases.getCanvas("fillCanvas",C,N),R=k.context,B=y,H=x;R.translate(-B,-H),R.transform(...g),p||(p=this._scaleImage(v.canvas,xl(R)),p=p.img,h&&l&&h.set(f,p)),R.imageSmoothingEnabled=_O(Tr(R),e.interpolate),c0(R,p,0,0,p.width,p.height,0,0,i,a),R.globalCompositeOperation="source-in";const q=ie.transform(xl(R),[1,0,0,1,-B,-H]);return R.fillStyle=l?o.getPattern(r,this,q,ta.FILL,t):o,R.fillRect(0,0,i,a),h&&!l&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,k.canvas)),this.dependencyTracker?.recordDependencies(t,eo.transformAndFill),{canvas:k.canvas,offsetX:Math.round(B),offsetY:Math.round(H)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=UJ[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=qJ[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,r){this.dependencyTracker?.recordSimpleData("dash",t);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=r)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[r,i]of e)switch(r){case"LW":this.setLineWidth(t,i);break;case"LC":this.setLineCap(t,i);break;case"LJ":this.setLineJoin(t,i);break;case"ML":this.setMiterLimit(t,i);break;case"D":this.setDash(t,i[0],i[1]);break;case"RI":this.setRenderingIntent(t,i);break;case"FL":this.setFlatness(t,i);break;case"Font":this.setFont(t,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,e,r);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),Rp(this.suspendedCtx,o),FJ(o,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Rp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,r,i){const a=i[0],o=i[1],l=i[2]-a,c=i[3]-o;l===0||c===0||(this.genericComposeSMask(e.context,r,l,c,e.subtype,e.backdrop,e.transferMap,a,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(r.canvas,0,0),t.restore())}genericComposeSMask(t,e,r,i,a,o,l,c,h,f,p){let v=t.canvas,g=c-f,w=h-p;if(o)if(g<0||w<0||g+r>v.width||w+i>v.height){const x=this.cachedCanvases.getCanvas("maskExtension",r,i),S=x.context;S.drawImage(v,-g,-w),S.globalCompositeOperation="destination-atop",S.fillStyle=o,S.fillRect(0,0,r,i),S.globalCompositeOperation="source-over",v=x.canvas,g=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(g,w,r,i),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(g,w,r,i),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&l?e.filter=this.filterFactory.addAlphaFilter(l):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(l));const y=new Path2D;y.rect(c,h,r,i),e.clip(y),e.globalCompositeOperation="destination-in",e.drawImage(v,g,w,r,i,c,h,r,i),e.restore()}save(t){this.inSMaskMode&&Rp(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Rp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,r,i,a,o,l){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,r,i,a,o,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,r,i){let[a]=r;if(!i){a||=r[0]=new Path2D,this[e](t,a);return}if(this.dependencyTracker!==null){const o=e===dg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(t,["transform"])}a instanceof Path2D||(a=r[0]=aD(a)),ie.axialAlignedBoundingBox(i,Tr(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,r=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,xl(i),ta.STROKE,t),o){const l=new Path2D;l.addPath(e,i.getTransform().invertSelf().multiplySelf(o)),e=l}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,eo.stroke),r&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(ta.STROKE,Tr(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,r=!0){const i=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let l=!1;if(o){const h=a.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(t),i.save(),i.fillStyle=a.getPattern(i,this,xl(i),ta.FILL,t),h){const f=new Path2D;f.addPath(e,i.getTransform().invertSelf().multiplySelf(h)),e=f}l=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),this.dependencyTracker?.recordDependencies(t,eo.fill),l&&(i.restore(),this.dependencyTracker?.restore(t)),r&&this.consumePath(t,e,c)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,eo.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=HJ}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=EO}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;e!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",t),i.recordCloseMarker(t)}if(e!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:o,x:l,y:c,fontSize:h,path:f}of e)f&&i.addPath(f,new DOMMatrix(o).preMultiplySelf(a).translate(l,c).scale(h,-h));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,r){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const i=this.commonObjs.get(e),a=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=i.fontMatrix||b5,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&He("Invalid font matrix for font "+e),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const o=i.loadedName||"sans-serif",l=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let c="normal";i.black?c="900":i.bold&&(c="bold");const h=i.italic?"italic":"normal";let f=r;r<yO?f=yO:r>bO&&(f=bO),this.current.fontSizeScale=r/f,this.ctx.font=`${h} ${c} ${f}px ${l}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(t,e,r){this.setLeading(t,-r),this.moveText(t,e,r)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:r}=this;r.textMatrix=e,r.textMatrixScale=Math.hypot(e[0],e[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#r(t,e,r){const i=new Path2D;return i.addPath(t,new DOMMatrix(r).invertSelf().multiplySelf(e)),i}paintChar(t,e,r,i,a,o){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,v=f&Zi.FILL_STROKE_MASK,g=!!(f&Zi.ADD_TO_PATH_FLAG),w=c.patternFill&&!h.missingFile,y=c.patternStroke&&!h.missingFile;let x;if((h.disableFontFace||g||w||y)&&!h.missingFile&&(x=h.getPathGenerator(this.commonObjs,e)),x&&(h.disableFontFace||w||y)){l.save(),l.translate(r,i),l.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(t,l,h);let S;if(v===Zi.FILL||v===Zi.FILL_STROKE)if(a){S=l.getTransform(),l.setTransform(...a);const O=this.#r(x,S,a);l.fill(O)}else l.fill(x);if(v===Zi.STROKE||v===Zi.FILL_STROKE)if(o){S||=l.getTransform(),l.setTransform(...o);const{a:O,b:C,c:N,d:k}=S,R=ie.inverseTransform(o),B=ie.transform([O,C,N,k,0,0],R);ie.singularValueDecompose2dScale(B,Ts),l.lineWidth*=Math.max(Ts[0],Ts[1])/p,l.stroke(this.#r(x,S,o))}else l.lineWidth/=p,l.stroke(x);l.restore()}else(v===Zi.FILL||v===Zi.FILL_STROKE)&&(l.fillText(e,r,i),this.dependencyTracker?.recordCharacterBBox(t,l,h,p,r,i,()=>l.measureText(e))),(v===Zi.STROKE||v===Zi.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,l,h,p,r,i,()=>l.measureText(e)).recordDependencies(t,eo.stroke),l.strokeText(e,r,i));g&&((this.pendingTextPaths||=[]).push({transform:Tr(l),x:r,y:i,fontSize:p,path:x}),this.dependencyTracker?.recordCharacterBBox(t,l,h,p,r,i))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){r=!0;break}return Ve(this,"isFontSubpixelAAEnabled",r)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,eo.showText).resetBBox(t),this.current.textRenderingMode&Zi.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const a=r.fontSize;if(a===0){this.dependencyTracker?.recordOperation(t);return}const o=this.ctx,l=r.fontSizeScale,c=r.charSpacing,h=r.wordSpacing,f=r.fontDirection,p=r.textHScale*f,v=e.length,g=i.vertical,w=g?1:-1,y=i.defaultVMetrics,x=a*r.fontMatrix[0],S=r.textRenderingMode===Zi.FILL&&!i.disableFontFace&&!r.patternFill;o.save(),r.textMatrix&&o.transform(...r.textMatrix),o.translate(r.x,r.y+r.textRise),f>0?o.scale(p,-1):o.scale(p,1);let O,C;if(r.patternFill){o.save();const H=r.fillColor.getPattern(o,this,xl(o),ta.FILL,t);O=Tr(o),o.restore(),o.fillStyle=H}if(r.patternStroke){o.save();const H=r.strokeColor.getPattern(o,this,xl(o),ta.STROKE,t);C=Tr(o),o.restore(),o.strokeStyle=H}let N=r.lineWidth;const k=r.textMatrixScale;if(k===0||N===0){const H=r.textRenderingMode&Zi.FILL_STROKE_MASK;(H===Zi.STROKE||H===Zi.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=k;if(l!==1&&(o.scale(l,l),N/=l),o.lineWidth=N,i.isInvalidPDFjsFont){const H=[];let q=0;for(const D of e)H.push(D.unicode),q+=D.width;const rt=H.join("");if(o.fillText(rt,0,0),this.dependencyTracker!==null){const D=o.measureText(rt);this.dependencyTracker.recordBBox(t,this.ctx,-D.actualBoundingBoxLeft,D.actualBoundingBoxRight,-D.actualBoundingBoxAscent,D.actualBoundingBoxDescent).recordShowTextOperation(t)}r.x+=q*x*p,o.restore(),this.compose();return}let R=0,B;for(B=0;B<v;++B){const H=e[B];if(typeof H=="number"){R+=w*H*a/1e3;continue}let q=!1;const rt=(H.isSpace?h:0)+c,D=H.fontChar,z=H.accent;let et,tt,dt=H.width;if(g){const st=H.vmetric||y,gt=-(H.vmetric?st[1]:dt*.5)*x,kt=st[2]*x;dt=st?-st[0]:dt,et=gt/l,tt=(R+kt)/l}else et=R/l,tt=0;let V;if(i.remeasure&&dt>0){V=o.measureText(D);const st=V.width*1e3/a*l;if(dt<st&&this.isFontSubpixelAAEnabled){const gt=dt/st;q=!0,o.save(),o.scale(gt,1),et/=gt}else dt!==st&&(et+=(dt-st)/2e3*a/l)}if(this.contentVisible&&(H.isInFont||i.missingFile)){if(S&&!z)o.fillText(D,et,tt),this.dependencyTracker?.recordCharacterBBox(t,o,V?{bbox:null}:i,a/l,et,tt,()=>V??o.measureText(D));else if(this.paintChar(t,D,et,tt,O,C),z){const st=et+a*z.offset.x/l,gt=tt-a*z.offset.y/l;this.paintChar(t,z.fontChar,st,gt,O,C)}}const J=g?dt*x-rt*f:dt*x+rt*f;R+=J,q&&o.restore()}g?r.y-=R:r.x+=R*p,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const r=this.ctx,i=this.current,a=i.font,o=i.fontSize,l=i.fontDirection,c=a.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,p=i.textHScale*l,v=i.fontMatrix||b5,g=e.length,w=i.textRenderingMode===Zi.INVISIBLE;let y,x,S,O;if(w||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(p,l);const C=this.dependencyTracker;for(this.dependencyTracker=C?new Nv(C,t):null,y=0;y<g;++y){if(x=e[y],typeof x=="number"){O=c*x*o/1e3,this.ctx.translate(O,0),i.x+=O*p;continue}const N=(x.isSpace?f:0)+h,k=a.charProcOperatorList[x.operatorListId];k?this.contentVisible&&(this.save(),r.scale(o,o),r.transform(...v),this.executeOperatorList(k),this.restore()):He(`Type3 character "${x.operatorListId}" is not available.`);const R=[x.width,0];ie.applyTransform(R,v),S=R[0]*o+N,r.translate(S,0),i.x+=S*p}r.restore(),C&&(this.dependencyTracker=C)}setCharWidth(t,e,r){}setCharWidthAndBounds(t,e,r,i,a,o,l){const c=new Path2D;c.rect(i,a,o-i,l-a),this.ctx.clip(c),this.dependencyTracker?.recordBBox(t,this.ctx,i,o,a,l).recordClipBox(t,this.ctx,i,o,a,l),this.endPath(t)}getColorN_Pattern(t,e){let r;if(e[0]==="TilingPattern"){const i=this.baseTransform||Tr(this.ctx),a={createCanvasGraphics:(o,l)=>new fd(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Nv(this.dependencyTracker,l,!0):null)};r=new Qx(e,this.ctx,a,i)}else r=this._getPattern(t,e[1],e[2]);return r}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,r=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=IJ(this.getObject(t,e)),this.cachedPatterns.set(e,i)),r&&(i.matrix=r),i}shadingFill(t,e){if(!this.contentVisible)return;const r=this.ctx;this.save(t);const i=this._getPattern(t,e);r.fillStyle=i.getPattern(r,this,xl(r),ta.SHADING,t);const a=xl(r);if(a){const{width:o,height:l}=r.canvas,c=ad.slice();ie.axialAlignedBoundingBox([0,0,o,l],a,c);const[h,f,p,v]=c;this.ctx.fillRect(h,f,p-h,v-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,eo.transform).recordDependencies(t,eo.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Zn("Should not call beginInlineImage")}beginImageData(){Zn("Should not call beginImageData")}paintFormXObjectBegin(t,e,r){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Tr(this.ctx),r)){ie.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,a,o,l]=r,c=new Path2D;c.rect(i,a,o-i,l-a),this.ctx.clip(c),this.dependencyTracker?.recordClipBox(t,this.ctx,i,o,a,l),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||L1("TODO: Support non-isolated groups."),e.knockout&&He("Knockout groups not supported.");const i=Tr(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=ad.slice();ie.axialAlignedBoundingBox(e.bbox,Tr(r),a);const o=[0,0,r.canvas.width,r.canvas.height];a=ie.intersect(a,o)||[0,0,0,0];const l=Math.floor(a[0]),c=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-l,1),f=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(p,h,f),g=v.context;g.translate(-l,-c),g.transform(...i);let w=new Path2D;const[y,x,S,O]=e.bbox;if(w.rect(y,x,S-y,O-x),e.matrix){const C=new Path2D;C.addPath(w,new DOMMatrix(e.matrix)),w=C}g.clip(w),e.smask&&this.smaskStack.push({canvas:v.canvas,context:g,offsetX:l,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(l,c),r.save()),Rp(r,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Tr(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const o=ad.slice();ie.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,e,r,i,a,o){if(this.#t(),h0(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const l=r[2]-r[0],c=r[3]-r[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=l,r[3]=c,ie.singularValueDecompose2dScale(Tr(this.ctx),Ts);const{viewportScale:h}=this,f=Math.ceil(l*this.outputScaleX*h),p=Math.ceil(c*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:v,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Ts[0],0,0,-Ts[1],0,c*Ts[1]),h0(this.ctx)}else{h0(this.ctx),this.endPath(t);const h=new Path2D;h.rect(r[0],r[1],l,c),this.ctx.clip(h)}}this.current=new AO(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...i),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(t,e.data,e),e.count=r;const i=this.ctx,a=this._createMaskCanvas(t,e),o=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+o.width,a.offsetY,a.offsetY+o.height).recordOperation(t),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,r,i=0,a=0,o,l){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const c=this.ctx;c.save();const h=Tr(c);c.transform(r,i,a,o,0,0);const f=this._createMaskCanvas(t,e);c.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(t);for(let p=0,v=l.length;p<v;p+=2){const g=ie.transform(h,[r,i,a,o,l[p],l[p+1]]);c.drawImage(f.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(t,this.ctx,g[4],g[4]+f.canvas.width,g[5],g[5]+f.canvas.height)}c.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,eo.transformAndFill);for(const o of e){const{data:l,width:c,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",c,h),v=p.context;v.save();const g=this.getObject(t,l,o);SO(v,g),v.globalCompositeOperation="source-in",v.fillStyle=a?i.getPattern(v,this,xl(r),ta.FILL,t):i,v.fillRect(0,0,c,h),v.restore(),r.save(),r.transform(...f),r.scale(1,-1),c0(r,p.canvas,0,0,c,h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,c,0,h),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const r=this.getObject(t,e);if(!r){He("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,r)}paintImageXObjectRepeat(t,e,r,i,a){if(!this.contentVisible)return;const o=this.getObject(t,e);if(!o){He("Dependent image isn't ready yet");return}const l=o.width,c=o.height,h=[];for(let f=0,p=a.length;f<p;f+=2)h.push({transform:[r,0,0,i,a[f],a[f+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(t,o,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:r,height:i}=t,a=this.cachedCanvases.getCanvas("inlineImage",r,i),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",a.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const r=e.width,i=e.height,a=this.ctx;this.save(t);const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/r,-1/i);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",r,i).context;xO(f,e),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,xl(a));a.imageSmoothingEnabled=_O(Tr(a),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,a,0,r,-i,0).recordDependencies(t,eo.imageXObject).recordOperation(t),c0(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-i,r,i),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,r){if(!this.contentVisible)return;const i=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const o=e.width,l=e.height,h=this.cachedCanvases.getCanvas("inlineImage",o,l).context;xO(h,e),a=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(t);for(const o of r)i.save(),i.transform(...o.transform),i.scale(1,-1),c0(i,a,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,eo.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,r){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,r){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===EO?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Tr(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),r=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:r,c:i,d:a}=this.ctx.getTransform();let o,l;if(r===0&&i===0){const c=Math.abs(e),h=Math.abs(a);if(c===h)if(t===0)o=l=1/c;else{const f=c*t;o=l=f<1?1/f:1}else if(t===0)o=1/c,l=1/h;else{const f=c*t,p=h*t;o=f<1?1/f:1,l=p<1?1/p:1}}else{const c=Math.abs(e*a-r*i),h=Math.hypot(e,r),f=Math.hypot(i,a);if(t===0)o=f/c,l=h/c;else{const p=t*c;o=f>p?f/p:1,l=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:r,current:{lineWidth:i}}=this,[a,o]=this.getScaleForStroking();if(a===o){r.lineWidth=(i||1)*a,r.stroke(t);return}const l=r.getLineDash();e&&r.save(),r.scale(a,o),U2.a=1/a,U2.d=1/o;const c=new Path2D;if(c.addPath(t,U2),l.length>0){const h=Math.max(a,o);r.setLineDash(l.map(f=>f/h)),r.lineDashOffset/=h}r.lineWidth=i||1,r.stroke(c),e&&r.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const n in dg)fd.prototype[n]!==void 0&&(fd.prototype[dg[n]]=fd.prototype[n]);class dd{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class $J{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Qf=Symbol("INTERNAL");class GJ{#t=!1;#e=!1;#r=!1;#n=!0;constructor(t,{name:e,intent:r,usage:i,rbGroups:a}){this.#t=!!(t&Es.DISPLAY),this.#e=!!(t&Es.PRINT),this.name=e,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,r=!1){t!==Qf&&Zn("Internal method `_setVisible` called."),this.#r=r,this.#n=e}}class WJ{#t=null;#e=new Map;#r=null;#n=null;constructor(t,e=Es.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const r of t.groups)this.#e.set(r.id,new GJ(e,r));if(t.baseState==="OFF")for(const r of this.#e.values())r._setVisible(Qf,!1);for(const r of t.on)this.#e.get(r)._setVisible(Qf,!0);for(const r of t.off)this.#e.get(r)._setVisible(Qf,!1);this.#r=this.getHash()}}#s(t){const e=t.length;if(e<2)return!0;const r=t[0];for(let i=1;i<e;i++){const a=t[i];let o;if(Array.isArray(a))o=this.#s(a);else if(this.#e.has(a))o=this.#e.get(a).visible;else return He(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return L1("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(He(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#s(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return He(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return He(`Unknown optional content policy ${t.policy}.`),!0}return He(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,r=!0){const i=this.#e.get(t);if(!i){He(`Optional content group not found: ${t}`);return}if(r&&e&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==t&&this.#e.get(o)?._setVisible(Qf,!1,!0);i._setVisible(Qf,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let r;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=this.#e.get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,e);break;case"OFF":this.setVisibility(i,!1,e);break;case"Toggle":this.setVisibility(i,!a.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new oD;for(const[e,r]of this.#e)t.update(`${e}:${r.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class VJ{constructor(t,{disableRange:e=!1,disableStream:r=!1}){dn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:o,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=l,a?.length>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!r,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,h)=>{this._onReceiveData({begin:c,chunk:h})}),t.addProgressListener((c,h)=>{this._onProgress({loaded:c,total:h})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const r=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(r),!0)});dn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){dn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new YJ(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new KJ(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class YJ{constructor(t,e,r=!1,i=null){this._stream=t,this._done=r||!1,this._filename=Wx(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class KJ{constructor(t,e,r){this._stream=t,this._begin=e,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function XJ(n){let t=!0,e=r("filename\\*","i").exec(n);if(e){e=e[1];let f=l(e);return f=unescape(f),f=c(f),f=h(f),a(f)}if(e=o(n),e){const f=h(e);return a(f)}if(e=r("filename","i").exec(n),e){e=e[1];let f=l(e);return f=h(f),a(f)}function r(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const v=new TextDecoder(f,{fatal:!0}),g=qg(p);p=v.decode(g),t=!1}catch{}}return p}function a(f){return t&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),t&&(f=i("iso-8859-1",f))),f}function o(f){const p=[];let v;const g=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=g.exec(f))!==null;){let[,y,x,S]=v;if(y=parseInt(y,10),y in p){if(y===0)break;continue}p[y]=[x,S]}const w=[];for(let y=0;y<p.length&&y in p;++y){let[x,S]=p[y];S=l(S),x&&(S=unescape(S),y===0&&(S=c(S))),w.push(S)}return w.join("")}function l(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let v=0;v<p.length;++v){const g=p[v].indexOf('"');g!==-1&&(p[v]=p[v].slice(0,g),p.length=v+1),p[v]=p[v].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function c(f){const p=f.indexOf("'");if(p===-1)return f;const v=f.slice(0,p),w=f.slice(p+1).replace(/^[^']*'/,"");return i(v,w)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,v,g,w){if(g==="q"||g==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,x){return String.fromCharCode(parseInt(x,16))}),i(v,w);try{w=atob(w)}catch{}return i(v,w)})}return""}function pD(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const r in t){const i=t[r];i!==void 0&&e.append(r,i)}return e}function R1(n){return URL.parse(n)?.origin??null}function gD({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*e)||r||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function mD(n){const t=n.get("Content-Disposition");if(t){let e=XJ(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Wx(e))return e}return null}function Vg(n,t){return new Pv(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function vD(n){return n===200||n===206}function yD(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function bD(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(He(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class ZJ{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=pD(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return dn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new QJ(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new JJ(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class QJ{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const r=new Headers(t.headers),i=e.url;fetch(i,yD(r,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=R1(a.url),!vD(a.status))throw Vg(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const o=a.headers,{allowRangeRequests:l,suggestedLength:c}=gD({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=mD(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new kc("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:bD(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class JJ{constructor(t,e,r){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${r-1}`);const o=i.url;fetch(o,yD(a,this._withCredentials,this._abortController)).then(l=>{const c=R1(l.url);if(c!==t._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${t._responseOrigin}".`);if(!vD(l.status))throw Vg(l.status,o);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:bD(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const q2=200,H2=206;function ttt(n){const t=n.response;return typeof t!="string"?t:qg(t).buffer}class ett{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:r}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=pD(this.isHttp,e),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,o]of this.headers)e.setRequestHeader(a,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=H2):i.expectedStatus=q2,e.responseType="arraybuffer",dn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,r),e.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),r}onProgress(t,e){const r=this.pendingRequests[t];r&&r.onProgress?.(e)}onStateChange(t,e){const r=this.pendingRequests[t];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||q2;if(!(a===q2&&r.expectedStatus===H2)&&a!==r.expectedStatus){r.onError(i.status);return}const l=ttt(i);if(a===H2){const c=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);h?r.onDone({begin:parseInt(h[1],10),chunk:l}):(He('Missing or invalid "Content-Range" header.'),r.onError(0))}else l?r.onDone({begin:0,chunk:l}):r.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class ntt{constructor(t){this._source=t,this._manager=new ett(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return dn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new rtt(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const r=new itt(this._manager,t,e);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class rtt{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=R1(e.responseURL);const r=e.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:o}=gD({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=mD(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Vg(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class itt{constructor(t,e,r){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=R1(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Vg(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const att=/^[a-z][a-z0-9\-+.]+:/i;function stt(n){if(att.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class ott{constructor(t){this.source=t,this.url=stt(t.url),dn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return dn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new ltt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const r=new utt(this,t,e);return this._rangeRequestReaders.push(r),r}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class ltt{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Vg(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new kc("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class utt{constructor(t,e,r){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ip=Symbol("INITIAL_DATA");class wD{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Ip}}get(t,e=null){if(e){const i=this.#e(t);return i.promise.then(()=>e(i.data)),null}const r=this.#t[t];if(!r||r.data===Ip)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return r.data}has(t){const e=this.#t[t];return!!e&&e.data!==Ip}delete(t){const e=this.#t[t];return!e||e.data===Ip?!1:(delete this.#t[t],!0)}resolve(t,e=null){const r=this.#e(t);r.data=e,r.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Ip&&(yield[t,e])}}}const ctt=1e5,CO=30;class Ea{#t=Promise.withResolvers();#e=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#i=0;#o=0;#u=null;#l=null;#f=0;#h=0;#d=Object.create(null);#m=[];#g=null;#c=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#E=new WeakMap;static#S=null;static#A=new Set;constructor({textContentSource:t,container:e,viewport:r}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(c){c.enqueue(t),c.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=r.scale*Rl.pixelRatio,this.#f=r.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:a,pageX:o,pageY:l}=r.rawDims;this.#v=[1,0,0,-1,-o,l+a],this.#o=i,this.#i=a,Ea.#P(),Fh(e,r),this.#t.promise.finally(()=>{Ea.#A.delete(this),this.#a=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=na.platform;return Ve(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:e,done:r})=>{if(r){this.#t.resolve();return}this.#s??=e.lang,Object.assign(this.#d,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#u=this.#g.getReader(),Ea.#A.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const r=t.scale*Rl.pixelRatio,i=t.rotation;if(i!==this.#f&&(e?.(),this.#f=i,Fh(this.#l,{rotation:i})),r!==this.#h){e?.(),this.#h=r;const a={div:null,properties:null,ctx:Ea.#N(this.#s)};for(const o of this.#c)a.properties=this.#p.get(o),a.div=o,this.#_(a)}}cancel(){const t=new kc("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#m}#T(t){if(this.#r)return;this.#a.ctx??=Ea.#N(this.#s);const e=this.#c,r=this.#m;for(const i of t){if(e.length>ctt){He("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),i.id&&this.#e.setAttribute("id",`${i.id}`),a.append(this.#e)}else i.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}r.push(i.str),this.#w(i)}}#w(t){const e=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#c.push(e);const i=ie.transform(this.#v,t.transform);let a=Math.atan2(i[1],i[0]);const o=this.#d[t.fontName];o.vertical&&(a+=Math.PI/2);let l=this.#n&&o.fontSubstitution||o.fontFamily;l=Ea.fontFamilyMap.get(l)||l;const c=Math.hypot(i[2],i[3]),h=c*Ea.#j(l,o,this.#s);let f,p;a===0?(f=i[4],p=i[5]-h):(f=i[4]+h*Math.sin(a),p=i[5]-h*Math.cos(a));const v="calc(var(--total-scale-factor) *",g=e.style;this.#e===this.#l?(g.left=`${(100*f/this.#o).toFixed(2)}%`,g.top=`${(100*p/this.#i).toFixed(2)}%`):(g.left=`${v}${f.toFixed(2)}px)`,g.top=`${v}${p.toFixed(2)}px)`),g.fontSize=`${v}${(Ea.#S*c).toFixed(2)}px)`,g.fontFamily=l,r.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),a!==0&&(r.angle=a*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const y=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);y!==x&&Math.max(y,x)/Math.min(y,x)>1.5&&(w=!0)}if(w&&(r.canvasWidth=o.vertical?t.height:t.width),this.#p.set(e,r),this.#a.div=e,this.#a.properties=r,this.#_(this.#a),r.hasText&&this.#e.append(e),r.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#e.append(y)}}#_(t){const{div:e,properties:r,ctx:i}=t,{style:a}=e;let o="";if(Ea.#S>1&&(o=`scale(${1/Ea.#S})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=a,{canvasWidth:c,fontSize:h}=r;Ea.#O(i,h*this.#h,l);const{width:f}=i.measureText(e.textContent);f>0&&(o=`scaleX(${c*this.#h/f}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(a.transform=o)}static cleanup(){if(!(this.#A.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#N(t=null){let e=this.#y.get(t||="");if(!e){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=t,document.body.append(r),e=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#E.set(e,{size:0,family:""})}return e}static#O(t,e,r){const i=this.#E.get(t);e===i.size&&r===i.family||(t.font=`${e}px ${r}`,i.size=e,i.family=r)}static#P(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#j(t,e,r){const i=this.#b.get(t);if(i)return i;const a=this.#N(r);a.canvas.width=a.canvas.height=CO,this.#O(a,CO,t);const o=a.measureText(""),l=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let h=.8;return l?h=l/(l+c):(na.platform.isFirefox&&He("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?h=e.ascent:e.descent&&(h=1+e.descent)),this.#b.set(t,h),h}}const htt=100;function AD(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new Jx,{docId:e}=t,r=n.url?yJ(n.url):null,i=n.data?bJ(n.data):null,a=n.httpHeaders||null,o=n.withCredentials===!0,l=n.password??null,c=n.range instanceof xD?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof gg?n.worker:null;const p=n.verbosity,v=typeof n.docBaseUrl=="string"&&!M1(n.docBaseUrl)?n.docBaseUrl:null,g=s0(n.cMapUrl),w=n.cMapPacked!==!1,y=n.CMapReaderFactory||(Ca?TJ:fO),x=s0(n.iccUrl),S=s0(n.standardFontDataUrl),O=n.StandardFontDataFactory||(Ca?OJ:dO),C=s0(n.wasmUrl),N=n.WasmFactory||(Ca?PJ:pO),k=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,B=n.isEvalSupported!==!1,H=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ca,q=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ca&&(na.platform.isFirefox||!globalThis.chrome),rt=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,D=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ca,z=n.fontExtraProperties===!0,et=n.enableXfa===!0,tt=n.ownerDocument||globalThis.document,dt=n.disableRange===!0,V=n.disableStream===!0,J=n.disableAutoFetch===!0,st=n.pdfBug===!0,gt=n.CanvasFactory||(Ca?CJ:SJ),kt=n.FilterFactory||(Ca?EJ:_J),Z=n.enableHWA===!0,I=n.useWasm!==!1,G=c?c.length:n.length??NaN,X=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ca&&!D,lt=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(y===fO&&O===dO&&N===pO&&g&&S&&C&&Hp(g,document.baseURI)&&Hp(S,document.baseURI)&&Hp(C,document.baseURI)),ct=null;WQ(p);const ht={canvasFactory:new gt({ownerDocument:tt,enableHWA:Z}),filterFactory:new kt({docId:e,ownerDocument:tt}),cMapReaderFactory:lt?null:new y({baseUrl:g,isCompressed:w}),standardFontDataFactory:lt?null:new O({baseUrl:S}),wasmFactory:lt?null:new N({baseUrl:C})};f||(f=gg.create({verbosity:p,port:dd.workerPort}),t._worker=f);const _t={docId:e,apiVersion:"5.4.394",data:i,password:l,disableAutoFetch:J,rangeChunkSize:h,length:G,docBaseUrl:v,enableXfa:et,evaluatorOptions:{maxImageSize:R,disableFontFace:D,ignoreErrors:k,isEvalSupported:B,isOffscreenCanvasSupported:H,isImageDecoderSupported:q,canvasMaxAreaInBytes:rt,fontExtraProperties:z,useSystemFonts:X,useWasm:I,useWorkerFetch:lt,cMapUrl:g,iccUrl:x,standardFontDataUrl:S,wasmUrl:C}},ut={ownerDocument:tt,pdfBug:st,styleElement:ct,loadingParams:{disableAutoFetch:J,enableXfa:et}};return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Et=f.messageHandler.sendWithPromise("GetDocRequest",_t,i?[i.buffer]:null);let Dt;if(c)Dt=new VJ(c,{disableRange:dt,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const At=Hp(r)?ZJ:Ca?ott:ntt;Dt=new At({url:r,length:G,httpHeaders:a,withCredentials:o,rangeChunkSize:h,disableRange:dt,disableStream:V})}return Et.then(At=>{if(t.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Wt=new $p(e,At,f.port),Vt=new ptt(Wt,t,Dt,ut,ht,Z);t._transport=Vt,Wt.send("Ready",null)})}).catch(t._capability.reject),t}class Jx{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${Jx.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class xD{#t=Promise.withResolvers();#e=[];#r=[];#n=[];#s=[];constructor(t,e,r=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(t){this.#s.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#r.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const r of this.#s)r(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const r of this.#n)r(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#r)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Zn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class ftt{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class dtt{#t=!1;constructor(t,e,r,i=!1){this._pageIndex=t,this._pageInfo=e,this._transport=r,this._stats=i?new aO:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new wD,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new $g({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:r,intent:i="display",annotationMode:a=Ec.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:v=!1,recordOperations:g=!1,operationsFilter:w=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(i,a,p,v),{renderingIntent:x,cacheKey:S}=y;this.#t=!1,c||=this._transport.getOptionalContentConfig(x);let O=this._intentStates.get(S);O||(O=Object.create(null),this._intentStates.set(S,O)),O.streamReaderCancelTimeout&&(clearTimeout(O.streamReaderCancelTimeout),O.streamReaderCancelTimeout=null);const C=!!(x&Es.PRINT);O.displayReadyCapability||(O.displayReadyCapability=Promise.withResolvers(),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const N=!!(this._pdfBug&&globalThis.StepperManager?.enabled),k=!this.recordedBBoxes&&(g||N),R=q=>{if(O.renderTasks.delete(B),k){const rt=B.gfx?.dependencyTracker.take();rt&&(B.stepper&&B.stepper.setOperatorBBoxes(rt,B.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=rt))}C&&(this.#t=!0),this.#e(),q?(B.capability.reject(q),this._abortOperatorList({intentState:O,reason:q instanceof Error?q:new Error(q)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},B=new sd({callback:R,params:{canvas:e,canvasContext:t,dependencyTracker:k?new kJ(e,O.operatorList.length,N):null,viewport:r,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:O.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(O.renderTasks||=new Set).add(B);const H=B.task;return Promise.all([O.displayReadyCapability.promise,c]).then(([q,rt])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(rt.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");B.initializeGraphics({transparency:q,optionalContentConfig:rt}),B.operatorListChanged()}).catch(R),H}getOperatorList({intent:t="display",annotationMode:e=Ec.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function a(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(t,e,r,i,!0);let l=this._intentStates.get(o.cacheKey);l||(l=Object.create(null),this._intentStates.set(o.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>pg.textContent(r));const e=this.streamTextContent(t);return new Promise(function(r,i){function a(){o.read().then(function({value:c,done:h}){if(h){r(l);return}l.lang??=c.lang,Object.assign(l.styles,c.styles),l.items.push(...c.items),a()},i)}const o=e.getReader(),l={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const r of e.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new aO),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const r=this._intentStates.get(e);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let r=0,i=t.length;r<i;r++)e.operatorList.fnArray.push(t.fnArray[r]),e.operatorList.argsArray.push(t.argsArray[r]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const r of e.renderTasks)r.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:o}=r,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:i},o).getReader(),h=this._intentStates.get(e);h.streamReader=c;const f=()=>{c.read().then(({value:p,done:v})=>{if(v){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const v of h.renderTasks)v.operatorListChanged();this.#e()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:t,reason:e,force:r=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(e instanceof Gx){let i=htt;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new kc(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}var Cc,qo,vu,_h,Bv,Eh,Ch,Na,P0,SD,_D,Gp,bd,N0;const gr=class gr{constructor({name:t=null,port:e=null,verbosity:r=VQ()}={}){wl(this,Na);wl(this,Cc,Promise.withResolvers());wl(this,qo,null);wl(this,vu,null);wl(this,_h,null);if(this.name=t,this.destroyed=!1,this.verbosity=r,e){if(dr(gr,Ch).has(e))throw new Error("Cannot use more than one PDFWorker per port.");dr(gr,Ch).set(e,this),Al(this,Na,SD).call(this,e)}else Al(this,Na,_D).call(this)}get promise(){return dr(this,Cc).promise}get port(){return dr(this,vu)}get messageHandler(){return dr(this,qo)}destroy(){this.destroyed=!0,dr(this,_h)?.terminate(),Qa(this,_h,null),dr(gr,Ch).delete(dr(this,vu)),Qa(this,vu,null),dr(this,qo)?.destroy(),Qa(this,qo,null)}static create(t){const e=dr(this,Ch).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new gr(t)}static get workerSrc(){if(dd.workerSrc)return dd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ve(this,"_setupFakeWorkerGlobal",(async()=>dr(this,bd,N0)?dr(this,bd,N0):(await import(this.workerSrc)).WorkerMessageHandler)())}};Cc=new WeakMap,qo=new WeakMap,vu=new WeakMap,_h=new WeakMap,Bv=new WeakMap,Eh=new WeakMap,Ch=new WeakMap,Na=new WeakSet,P0=function(){dr(this,Cc).resolve(),dr(this,qo).send("configure",{verbosity:this.verbosity})},SD=function(t){Qa(this,vu,t),Qa(this,qo,new $p("main","worker",t)),dr(this,qo).on("ready",()=>{}),Al(this,Na,P0).call(this)},_D=function(){if(dr(gr,Eh)||dr(gr,bd,N0)){Al(this,Na,Gp).call(this);return}let{workerSrc:t}=gr;try{gr._isSameOrigin(window.location,t)||(t=gr._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),r=new $p("main","worker",e),i=()=>{a.abort(),r.destroy(),e.terminate(),this.destroyed?dr(this,Cc).reject(new Error("Worker was destroyed")):Al(this,Na,Gp).call(this)},a=new AbortController;e.addEventListener("error",()=>{dr(this,_h)||i()},{signal:a.signal}),r.on("test",l=>{if(a.abort(),this.destroyed||!l){i();return}Qa(this,qo,r),Qa(this,vu,e),Qa(this,_h,e),Al(this,Na,P0).call(this)}),r.on("ready",l=>{if(a.abort(),this.destroyed){i();return}try{o()}catch{Al(this,Na,Gp).call(this)}});const o=()=>{const l=new Uint8Array;r.send("test",l,[l.buffer])};o();return}catch{L1("The worker has been disabled.")}Al(this,Na,Gp).call(this)},Gp=function(){dr(gr,Eh)||(He("Setting up fake worker."),Qa(gr,Eh,!0)),gr._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){dr(this,Cc).reject(new Error("Worker was destroyed"));return}const e=new xJ;Qa(this,vu,e);const r=`fake${TE(gr,Bv)._++}`,i=new $p(r+"_worker",r,e);t.setup(i,e),Qa(this,qo,new $p(r,r+"_worker",e)),Al(this,Na,P0).call(this)}).catch(t=>{dr(this,Cc).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},bd=new WeakSet,N0=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},wl(gr,bd),wl(gr,Bv,0),wl(gr,Eh,!1),wl(gr,Ch,new WeakMap),Ca&&(Qa(gr,Eh,!0),dd.workerSrc||="./pdf.worker.mjs"),gr._isSameOrigin=(t,e)=>{const r=URL.parse(t);if(!r?.origin||r.origin==="null")return!1;const i=new URL(e,r);return r.origin===i.origin},gr._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},gr.fromPort=t=>{if(aJ("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return gr.create(t)};let gg=gr;class ptt{#t=new Map;#e=new Map;#r=new Map;#n=new Map;#s=null;constructor(t,e,r,i,a,o){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new wD,this.fontLoader=new mJ({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#a(t,e=null){const r=this.#t.get(t);if(r)return r;const i=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,i),i}get annotationStorage(){return Ve(this,"annotationStorage",new Kx)}getRenderingIntent(t,e=Ec.ENABLE,r=null,i=!1,a=!1){let o=Es.DISPLAY,l=E5;switch(t){case"any":o=Es.ANY;break;case"display":break;case"print":o=Es.PRINT;break;default:He(`getRenderingIntent - invalid intent: ${t}`)}const c=o&Es.PRINT&&r instanceof lD?r:this.annotationStorage;switch(e){case Ec.DISABLE:o+=Es.ANNOTATIONS_DISABLE;break;case Ec.ENABLE:break;case Ec.ENABLE_FORMS:o+=Es.ANNOTATIONS_FORMS;break;case Ec.ENABLE_STORAGE:o+=Es.ANNOTATIONS_STORAGE,l=c.serializable;break;default:He(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(o+=Es.IS_EDITING),a&&(o+=Es.OPLIST);const{ids:h,hash:f}=c.modifiedIds,p=[o,l.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of this.#e.values())t.push(r._destroy());this.#e.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Ea.cleanup(),this._networkStream?.cancelAllRequests(new kc("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(r,i)=>{dn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:o}){if(o){i.close();return}dn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:o}=this._fullReader;return(!i||!a)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{e.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:o}}),t.on("GetRangeReader",(r,i)=>{dn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:o,done:l}){if(l){i.close();return}dn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{a.cancel(o),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,e._capability.resolve(new ftt(r,this))}),t.on("DocException",r=>{e._capability.reject(Ja(r))}),t.on("PasswordRequest",r=>{this.#s=Promise.withResolvers();try{if(!e.onPassword)throw Ja(r);const i=a=>{a instanceof Error?this.#s.reject(a):this.#s.resolve({password:a})};e.onPassword(i,r.code)}catch(i){this.#s.reject(i)}return this.#s.promise}),t.on("DataLoaded",r=>{e.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),t.on("StartRenderPage",r=>{if(this.destroyed)return;this.#e.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),t.on("commonobj",([r,i,a])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const p=a.error;He(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const o=new Gn(a),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,v)=>globalThis.FontInspector.fontAdded(p,v):null,c=new vJ(o,l,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>t.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:h}=a;dn(h,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,v]of p.objs)if(v?.ref===h)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,a);break;case"Pattern":const f=new Di(a);this.commonObjs.resolve(r,f.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([r,i,a,o])=>{if(this.destroyed)return;const l=this.#e.get(i);if(!l.objs.has(r)){if(l._intentStates.size===0){o?.bitmap?.close();return}switch(a){case"Image":case"Pattern":l.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",r=>{this.destroyed||e.onProgress?.({loaded:r.loaded,total:r.total})}),t.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,r=this.#r.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,t);const o=new dtt(e,a,this,this._params.pdfBug);return this.#e.set(e,o),o});return this.#r.set(e,i),i}getPageIndex(t){return C5(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#a("GetOptionalContentConfig").then(e=>new WJ(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const r=this.messageHandler.sendWithPromise(t,null).then(i=>({info:i[0],metadata:i[1]?new $J(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Ea.cleanup()}}cachedPageNumber(t){if(!C5(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class gtt{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class sd{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:o,pageIndex:l,canvasFactory:c,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:v=null,enableHWA:g=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=h,this._pdfBug=p,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new gtt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=g,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(sd.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");sd.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:o}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new fd(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),sd.#e.delete(this._canvas),t||=new Gx(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),sd.#e.delete(this._canvas),this.callback())))}}const mtt="5.4.394",vtt="2cc809ade";class io{#t=null;#e=null;#r;#n=null;#s=!1;#a=!1;#i=null;#o;#u=null;#l=null;static#f=null;static get _keyboardManager(){return Ve(this,"_keyboardManager",new Wg([[["Escape","mac+Escape"],io.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],io.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],io.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],io.prototype._moveToPrevious],[["Home","mac+Home"],io.prototype._moveToBeginning],[["End","mac+End"],io.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#a=!1,this.#i=t):this.#a=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#r=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",io.#f||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#i&&(t.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const r=this.#e=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,t.append(r),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",uo,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(t.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",io.#f[r]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=i,a.ariaSelected=i===this.#r,a.addEventListener("click",this.#d.bind(this,i),{signal:e}),t.append(a)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#d(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:fn.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#g(t);return}const e=t.target.getAttribute("data-color");e&&this.#d(e,t)}_moveToNext(t){if(!this.#p){this.#g(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#g(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#g(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#p){this.#g(t);return}this.#n.lastChild?.focus()}#m(t){io._keyboardManager.exec(this,t)}#g(t){if(this.#p){this.hideDropdown();return}if(this.#s=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#c.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#c(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#u?.abort(),this.#u=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class mg{#t=null;#e=null;#r=null;static#n=null;constructor(t){this.#e=t,this.#r=t._uiManager,mg.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:r}=this.#e,i=this.#t=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",mg.#n[t]),i.addEventListener("input",()=>{this.#r.updateParams(e,i.value)},{signal:this.#r._signal}),i}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function TO(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function jp(n){return Math.max(0,Math.min(255,255*n))}class OO{static CMYK_G([t,e,r,i]){return["G",1-Math.min(1,.3*t+.59*r+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=jp(t),[t,t,t]}static G_HTML([t]){const e=TO(t);return`#${e}${e}${e}`}static RGB_G([t,e,r]){return["G",.3*t+.59*e+.11*r]}static RGB_rgb(t){return t.map(jp)}static RGB_HTML(t){return`#${t.map(TO).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,r,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,r,i]){return[jp(1-Math.min(1,t+i)),jp(1-Math.min(1,r+i)),jp(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,r]){const i=1-t,a=1-e,o=1-r,l=Math.min(i,a,o);return["CMYK",i,a,o,l]}}class ytt{create(t,e,r=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Zn("Abstract method `_createSVG` called.")}}class kv extends ytt{_createSVG(t){return document.createElementNS(du,t)}}const btt=9,zh=new WeakSet,wtt=new Date().getTimezoneOffset()*60*1e3;class $2{static create(t){switch(t.data.annotationType){case ai.LINK:return new tS(t);case ai.TEXT:return new xtt(t);case ai.WIDGET:switch(t.data.fieldType){case"Tx":return new Stt(t);case"Btn":return t.data.radioButton?new ED(t):t.data.checkBox?new Ett(t):new Ctt(t);case"Ch":return new Ttt(t);case"Sig":return new _tt(t)}return new Yh(t);case ai.POPUP:return new P5(t);case ai.FREETEXT:return new CD(t);case ai.LINE:return new Ptt(t);case ai.SQUARE:return new Ntt(t);case ai.CIRCLE:return new ktt(t);case ai.POLYLINE:return new TD(t);case ai.CARET:return new Mtt(t);case ai.INK:return new eS(t);case ai.POLYGON:return new Ltt(t);case ai.HIGHLIGHT:return new OD(t);case ai.UNDERLINE:return new Dtt(t);case ai.SQUIGGLY:return new Rtt(t);case ai.STRIKEOUT:return new Itt(t);case ai.STAMP:return new PD(t);case ai.FILEATTACHMENT:return new jtt(t);default:return new Or(t)}}}class Or{#t=null;#e=!1;#r=null;constructor(t,{isRenderable:e=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Or._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:r,rect:i}=this.data;let a=-1/0,o=-1/0;if(e?.length>=8){for(let l=0;l<e.length;l+=8)e[l+1]>o?(o=e[l+1],a=e[l+2]):e[l+1]===o&&(a=Math.max(a,e[l+2]));return[a,o]}if(r?.length>=1){for(const l of r)for(let c=0,h=l.length;c<h;c+=2)l[c+1]>o?(o=l[c+1],a=l[c]):l[c+1]===o&&(a=Math.max(a,l[c]));if(a!==1/0)return[a,o]}return i?[i[2],i[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:o}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/r,t[1]=100*(t[1]-o)/i,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${fg}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,r={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:r})||this.annotationStorage.setValue(`${fg}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:r}=t;e&&this.#n(e);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(t),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#r?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:l,pageY:c}}}}=this;r?.splice(0,4,...t),e.left=`${100*(t[0]-l)/a}%`,e.top=`${100*(o-t[3]+c)/o}%`,i===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(i)}_createContainer(t){const{data:e,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),!(this instanceof Yh)&&!(this instanceof tS)&&(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof P5){const{rotation:y}=e;return!e.hasOwnCanvas&&y!==0&&this.setRotation(y,a),a}const{width:l,height:c}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const y=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(y>0||x>0){const O=`calc(${y}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;o.borderRadius=O}else if(this instanceof ED){const O=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;o.borderRadius=O}switch(e.borderStyle.style){case Zf.SOLID:o.borderStyle="solid";break;case Zf.DASHED:o.borderStyle="dashed";break;case Zf.BEVELED:He("Unimplemented border style: beveled");break;case Zf.INSET:He("Unimplemented border style: inset");break;case Zf.UNDERLINE:o.borderBottomStyle="solid";break}const S=e.borderColor||null;S?(this.#e=!0,o.borderColor=ie.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const h=ie.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:p,pageX:v,pageY:g}=i.rawDims;o.left=`${100*(h[0]-v)/f}%`,o.top=`${100*(h[1]-g)/p}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(o.width=`${100*l/f}%`,o.height=`${100*c/p}%`):this.setRotation(w,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:o}=this;t%180!==0&&([a,o]=[o,a]),e.style.width=`${100*a/r}%`,e.style.height=`${100*o/i}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,r,i)=>{const a=i.detail[e],o=a[0],l=a.slice(1);i.target.style[r]=OO[`${o}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[r]:OO[`${o}_rgb`](l)})};return Ve(this,"_commonActions",{display:e=>{const{display:r}=e.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:r}=e.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const r=e.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(t,e){const r=this._commonActions;for(const i of Object.keys(e.detail))(t[i]||r[i])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const r=this._commonActions;for(const[i,a]of Object.entries(e)){const o=r[i];if(o){const l={detail:{[i]:a},target:t};o(l),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,r,i,a]=this.data.rect.map(y=>Math.fround(y));if(t.length===8){const[y,x,S,O]=t.subarray(2,6);if(i===y&&a===x&&e===S&&r===O)return}const{style:o}=this.container;let l;if(this.#e){const{borderColor:y,borderWidth:x}=o;o.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const c=i-e,h=a-r,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const v=f.createElement("defs");p.append(v);const g=f.createElement("clipPath"),w=`clippath_${this.data.id}`;g.setAttribute("id",w),g.setAttribute("clipPathUnits","objectBoundingBox"),v.append(g);for(let y=2,x=t.length;y<x;y+=8){const S=t[y],O=t[y+1],C=t[y+2],N=t[y+3],k=f.createElement("rect"),R=(C-e)/c,B=(a-O)/h,H=(S-C)/c,q=(O-N)/h;k.setAttribute("x",R),k.setAttribute("y",B),k.setAttribute("width",H),k.setAttribute("height",q),g.append(k),l?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${B}" width="${H}" height="${q}"/>`)}this.#e&&(l.push("</g></svg>')"),o.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let r,i;t?(r={str:t.text},i=t.date):(r=e.contentsObj,i=e.modificationDate),this.#r=new P5({data:{color:e.color,titleObj:e.titleObj,modificationDate:i,contentsObj:r,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Zn("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:a,id:o,exportValues:l}of i){if(a===-1||o===e)continue;const c=typeof l=="string"?l:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!zh.has(h)){He(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:c,domElement:h})}return r}for(const i of document.getElementsByName(t)){const{exportValue:a}=i,o=i.getAttribute("data-element-id");o!==e&&zh.has(i)&&r.push({id:o,exportValue:a,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Att extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class tS extends Or{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(r,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),i=!0):t.attachment?(this.#e(r,t.attachment,t.overlaidText,t.attachmentDest),i=!0):t.setOCGState?(this.#r(r,t.setOCGState,t.overlaidText),i=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),i=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,r=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),r&&(t.title=r)}_bindNamedAction(t,e,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),r&&(t.title=r),this.#t()}#e(t,e,r="",i=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:r&&(t.title=r),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,i),!1),this.#t()}#r(t,e,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),r&&(t.title=r),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const a=r.get(i);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{r?.();const{fields:i,refs:a,include:o}=e,l=[];if(i.length!==0||a.length!==0){const f=new Set(a);for(const p of i){const v=this._fieldObjects[p]||[];for(const{id:g}of v)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===o&&l.push(v)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!zh.has(v)){He(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class xtt extends Or{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class Yh extends Or{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return na.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,r,i,a){r.includes("mouse")?t.addEventListener(r,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(r,o=>{if(r==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(r==="focus"){if(e.focused)return;e.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(o)}})})}_setEventListeners(t,e,r,i){for(const[a,o]of r)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,a,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ie.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||btt,a=t.style;let o;const l=2,c=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(h/(I2*i))||1,p=h/f;o=Math.min(i,c(p/I2))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l);o=Math.min(i,c(h/I2))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=ie.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Stt extends Yh{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,r,i){const a=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=r),a.setValue(o.id,{[i]:r})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=t.getValue(e,{value:this.data.fieldValue});let a=i.value||"";const o=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let l=i.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=l??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",l??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),zh.add(r),this.contentElement=r,r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(r,"value",w.target.value,"value"),c.formattedValue=null}),r.addEventListener("resetform",w=>{const y=this.data.defaultFieldValue??"";r.value=c.userValue=y,c.formattedValue=null});let g=w=>{const{formattedValue:y}=c;y!=null&&(w.target.value=y),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{if(c.focused)return;const{target:x}=y;if(v&&(x.type=f,p&&(x.step=p)),c.userValue){const S=c.userValue;if(v)if(f==="time"){const O=new Date(S),C=[O.getHours(),O.getMinutes(),O.getSeconds()];x.value=C.map(N=>N.toString().padStart(2,"0")).join(":")}else x.value=new Date(S-wtt).toISOString().split(f==="date"?"T":".",1)[0];else x.value=S}c.lastCommittedValue=x.value,c.commitKey=1,this.data.actions?.Focus||(c.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const x={value(S){c.userValue=S.detail.value??"",v||t.setValue(e,{value:c.userValue.toString()}),S.target.value=c.userValue},formattedValue(S){const{formattedValue:O}=S.detail;c.formattedValue=O,O!=null&&S.target!==document.activeElement&&(S.target.value=O);const C={formattedValue:O};v&&(C.value=O),t.setValue(e,C)},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:O}=S.detail,{target:C}=S;if(O===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",O);let N=c.userValue;!N||N.length<=O||(N=N.slice(0,O),C.value=c.userValue=N,t.setValue(e,{value:N}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:N,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(x,y)}),r.addEventListener("keydown",y=>{c.commitKey=1;let x=-1;if(y.key==="Escape"?x=0:y.key==="Enter"&&!this.data.multiLine?x=2:y.key==="Tab"&&(c.commitKey=3),x===-1)return;const{value:S}=y.target;c.lastCommittedValue!==S&&(c.lastCommittedValue=S,c.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:x,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const w=g;g=null,r.addEventListener("blur",y=>{if(!c.focused||!y.relatedTarget)return;this.data.actions?.Blur||(c.focused=!1);const{target:x}=y;let{value:S}=x;if(v){if(S&&f==="time"){const O=S.split(":").map(C=>parseInt(C,10));S=new Date(2e3,0,1,O[0],O[1],O[2]||0).valueOf(),x.step=""}else S.includes("T")||(S=`${S}T00:00`),S=new Date(S).valueOf();x.type="text"}c.userValue=S,c.lastCommittedValue!==S&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:c.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),w(y)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",y=>{c.lastCommittedValue=null;const{data:x,target:S}=y,{value:O,selectionStart:C,selectionEnd:N}=S;let k=C,R=N;switch(y.inputType){case"deleteWordBackward":{const B=O.substring(0,C).match(/\w*[^\w]*$/);B&&(k-=B[0].length);break}case"deleteWordForward":{const B=O.substring(C).match(/^[^\w]*\w*/);B&&(R+=B[0].length);break}case"deleteContentBackward":C===N&&(k-=1);break;case"deleteContentForward":C===N&&(R+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:O,change:x||"",willCommit:!1,selStart:k,selEnd:R}})}),this._setEventListeners(r,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class _tt extends Yh{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Ett extends Yh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,r=e.id;let i=t.getValue(r,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return zh.add(a),a.setAttribute("data-element-id",r),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const h of this._getElementsByName(l,r)){const f=c&&h.exportValue===e.exportValue;h.domElement&&(h.domElement.checked=f),t.setValue(h.id,{value:f})}t.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const l=e.defaultFieldValue||"Off";o.target.checked=l===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const l={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(r,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class ED extends Yh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,r=e.id;let i=t.getValue(r,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(r,{value:i})),i)for(const o of this._getElementsByName(e.fieldName,r))t.setValue(o.id,{value:!1});const a=document.createElement("input");if(zh.add(a),a.setAttribute("data-element-id",r),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:l,checked:c}=o.target;for(const h of this._getElementsByName(l,r))t.setValue(h.id,{value:!1});t.setValue(r,{value:c})}),a.addEventListener("resetform",o=>{const l=e.defaultFieldValue;o.target.checked=l!=null&&l===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;a.addEventListener("updatefromsandbox",l=>{const c={value:h=>{const f=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const v=f&&p.id===r;p.domElement&&(p.domElement.checked=v),t.setValue(p.id,{value:v})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Ctt extends tS{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),t}}class Ttt extends Yh{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,r=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");zh.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const v of i.options)v.selected=v.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,r.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),a=!1),i.append(p)}let o=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const l=f=>{const p=f?"value":"textContent",{options:v,multiple:g}=i;return g?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[p]):v.selectedIndex===-1?null:v[v.selectedIndex][p]};let c=l(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const p={value(v){o?.();const g=v.detail.value,w=new Set(Array.isArray(g)?g:[g]);for(const y of i.options)y.selected=w.has(y.value);t.setValue(e,{value:l(!0)}),c=l(!1)},multipleSelection(v){i.multiple=!0},remove(v){const g=i.options,w=v.detail.remove;g[w].selected=!1,i.remove(w),g.length>0&&Array.prototype.findIndex.call(g,x=>x.selected)===-1&&(g[0].selected=!0),t.setValue(e,{value:l(!0),items:h(v)}),c=l(!1)},clear(v){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),c=l(!1)},insert(v){const{index:g,displayValue:w,exportValue:y}=v.detail.insert,x=i.children[g],S=document.createElement("option");S.textContent=w,S.value=y,x?x.before(S):i.append(S),t.setValue(e,{value:l(!0),items:h(v)}),c=l(!1)},items(v){const{items:g}=v.detail;for(;i.length!==0;)i.remove(0);for(const w of g){const{displayValue:y,exportValue:x}=w,S=document.createElement("option");S.textContent=y,S.value=x,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:l(!0),items:h(v)}),c=l(!1)},indices(v){const g=new Set(v.detail.indices);for(const w of v.target.options)w.selected=g.has(w.index);t.setValue(e,{value:l(!0)}),c=l(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(p,f)}),i.addEventListener("input",f=>{const p=l(!0),v=l(!1);t.setValue(e,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:v,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){t.setValue(e,{value:l(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class P5 extends Or{constructor(t){const{data:e,elements:r,parent:i}=t,a=!!i._commentManager;if(super(t,{isRenderable:!a&&Or._hasPopupData(e)}),this.elements=r,a&&Or._hasPopupData(e)){const o=this.popup=this.#t();for(const l of r)l.popup=o}else this.popup=null}#t(){return new Ott({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),r=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${id}${i}`).join(",")),this.container}}class Ott{#t=null;#e=this.#$.bind(this);#r=this.#F.bind(this);#n=this.#M.bind(this);#s=this.#x.bind(this);#a=null;#i=null;#o=null;#u=null;#l=null;#f=null;#h=null;#d=!1;#m=null;#g=null;#c=null;#p=null;#v=null;#b=null;#y=null;#E=null;#S=null;#A=null;#T=!1;#w=null;#_=null;constructor({container:t,color:e,elements:r,titleObj:i,modificationDate:a,contentsObj:o,richText:l,parent:c,rect:h,parentRect:f,open:p,commentManager:v=null}){this.#i=t,this.#S=i,this.#o=o,this.#E=l,this.#f=c,this.#a=e,this.#y=h,this.#h=f,this.#l=r,this.#t=v,this.#w=r[0],this.#u=x5.toDateObject(a),this.trigger=r.flatMap(g=>g.getElementsToTriggerPopup()),v||(this.#N(),this.#i.hidden=!0,p&&this.#x())}#N(){if(this.#g)return;this.#g=new AbortController;const{signal:t}=this.#g;for(const e of this.trigger)e.addEventListener("click",this.#s,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#r,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#O(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#v=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#w.container.after(this.#p);return}if(this.#v||this.#O(),!this.#v)return;const{signal:t}=this.#g=new AbortController,e=this.#w.hasOwnCommentButton,r=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},i=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#p=this.#w.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#e,{signal:t}),o.addEventListener("click",r,{signal:t}),o.addEventListener("pointerenter",i,{signal:t}),o.addEventListener("pointerleave",a,{signal:t}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const l=this.#w.container;o.style.zIndex=l.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#j(),this.#P(),o.addEventListener("keydown",this.#e,{signal:t}),o.addEventListener("click",r,{signal:t}),o.addEventListener("pointerenter",i,{signal:t}),o.addEventListener("pointerleave",a,{signal:t}),l.after(o)}}#P(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.#p||this.renderCommentButton();const[t,e]=this.#v,{style:r}=this.#p;r.left=`calc(${t}%)`,r.top=`calc(${e}% - var(--comment-button-dim))`}#j(){this.#w.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#f._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:e,opacity:r,creationDate:i,modificationDate:a}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return this.#p}get comment(){return this.#_||=this.#w.commentText,this.#_}set comment(t){t!==this.comment&&(this.#w.commentText=this.#_=t)}focus(){this.#w.container?.focus()}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=e)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:r}=this.#p.getBoundingClientRect(),{x:i,y:a,width:o,height:l}=this.#w.layer.getBoundingClientRect();return[(t-i)/o,(e+r-a)/l]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,r]=this.#b||this.commentButtonPosition.map(h=>h/100),i=this.parentBoundingClientRect,{x:a,y:o,width:l,height:c}=i;this.#t.showDialog(null,this,a+e*l,o+r*c,{...t,parentDimensions:i})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#a){const r=t.style.outlineColor=ie.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#S?.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=this.#S}if(t.append(e),this.#u){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#u.valueOf()})),r.dateTime=this.#u.toISOString(),e.append(r)}iD({html:this.#L||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#i.append(t)}get#L(){const t=this.#E,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#E.html||null}get#D(){return this.#L?.attributes?.style?.fontSize||0}get#B(){return this.#L?.attributes?.style?.color||null}#R(t){const e=[],r={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:this.#B,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:i});return r}#$(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#d)&&this.#x()}updateEdited({rect:t,popup:e,deleted:r}){if(this.#t){r?(this.remove(),this.#_=null):e&&(e.deleted?this.remove():(this.#j(),this.#_=e.text)),t&&(this.#v=null,this.#O(),this.#P());return}if(r||e?.deleted){this.remove();return}this.#N(),this.#A||={contentsObj:this.#o,richText:this.#E},t&&(this.#c=null),e&&e.text&&(this.#E=this.#R(e.text),this.#u=x5.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#A&&({contentsObj:this.#o,richText:this.#E}=this.#A,this.#A=null,this.#m?.remove(),this.#m=null,this.#c=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#T=!1,this.#d=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#c!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:r,pageX:i,pageY:a}}}=this.#f;let o=!!this.#h,l=o?this.#h:this.#y;for(const w of this.#l)if(!l||ie.intersect(w.data.rect,l)!==null){l=w.data.rect,o=!0;break}const c=ie.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),f=o?l[2]-l[0]+5:0,p=c[0]+f,v=c[1];this.#c=[100*(p-i)/e,100*(v-a)/r];const{style:g}=this.#i;g.left=`${this.#c[0]}%`,g.top=`${this.#c[1]}%`}#x(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#d=!this.#d,this.#d?(this.#M(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#e)):(this.#F(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#e))}#M(){this.#m||this.render(),this.isVisible?this.#d&&this.#i.classList.add("focused"):(this.#C(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#F(){this.#i.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#i.hidden=!0)}maybeShow(){this.#t||(this.#N(),this.#T&&(this.#m||this.#M(),this.#T=!1,this.#i.hidden=!1))}get isVisible(){return this.#t?!1:this.#i.hidden===!1}}class CD extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=We.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const r=document.createElement("span");r.textContent=e,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Ptt extends Or{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:r}=this,i=this.svgFactory.create(e,r,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ntt extends Or{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:r}=this,i=this.svgFactory.create(e,r,!0),a=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",e-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ktt extends Or{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:r}=this,i=this.svgFactory.create(e,r,!0),a=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",r/2),o.setAttribute("rx",e/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class TD extends Or{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:r,popupRef:i},width:a,height:o}=this;if(!e)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let f=0,p=e.length;f<p;f+=2){const v=e[f]-t[0],g=t[3]-e[f+1];c.push(`${v},${g}`)}c=c.join(" ");const h=this.#t=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",c),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ltt extends TD{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Mtt extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class eS extends Or{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?We.HIGHLIGHT:We.INK}#r(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:r,borderStyle:i,popupRef:a}}=this,{transform:o,width:l,height:c}=this.#r(e,t),h=this.svgFactory.create(l,c,!0),f=this.#t=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,v=r.length;p<v;p++){const g=this.svgFactory.createElement(this.svgElementName);this.#e.push(g),g.setAttribute("points",r[p].join(",")),f.append(g)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:r,rect:i}=t,a=this.#t;if(e>=0&&a.setAttribute("stroke-width",e||1),r)for(let o=0,l=this.#e.length;o<l;o++)this.#e[o].setAttribute("points",r[o].join(","));if(i){const{transform:o,width:l,height:c}=this.#r(this.data.rotation,i);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class OD extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=We.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class Dtt extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class Rtt extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class Itt extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=t,this.container.append(r)}return this.container}}class PD extends Or{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=We.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class jtt extends Or{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let r;e.hasAppearance||e.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#e.bind(this)),this.#t=r;const{isMac:i}=na.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class nS{#t=null;#e=null;#r=null;#n=new Map;#s=null;#a=null;#i=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:o,structTreeLayer:l,commentManager:c,linkService:h,annotationStorage:f}){this.div=t,this.#t=e,this.#e=r,this.#s=l||null,this.#a=h||null,this.#r=f||new Kx,this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=c||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:e}=t,r=this.div;Fh(r,this.viewport);const i=new Map,a=[],o={data:null,layer:r,linkService:this.#a,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new kv,annotationStorage:this.#r,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===ai.POPUP;if(c){const p=i.get(l.id);if(!p)continue;if(!this._commentManager){a.push(l);continue}o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=$2.create(o);if(!h.isRenderable)continue;if(!c&&(this.#i.push(h),l.popupRef)){const p=i.get(l.popupRef);p?p.push(h):i.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}await this.#u();for(const l of a){const c=o.elements=i.get(l.id);o.data=l;const h=$2.create(o);if(!h.isRenderable)continue;const f=h.render();h.contentElement.id=`${id}${l.id}`,l.hidden&&(f.style.visibility="hidden"),c.at(-1).container.after(f)}this.#l()}async#u(){if(this.#i.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const a=r.id=`${id}${i}`;t.push(this.#s?.getAriaAttributes(a).then(o=>{if(o)for(const[l,c]of o)r.setAttribute(l,c)}))}}this.#i.sort(({data:{rect:[r,i,a,o]}},{data:{rect:[l,c,h,f]}})=>{if(r===a&&i===o)return 1;if(l===h&&c===f)return-1;const p=o,v=i,g=(i+o)/2,w=f,y=c,x=(c+f)/2;if(g>=w&&x<=v)return-1;if(x>=p&&g<=y)return 1;const S=(r+a)/2,O=(l+h)/2;return S-O});const e=document.createDocumentFragment();for(const r of this.#i)e.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&e.append(r.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const r of this.#i)this.#t.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#a,svgFactory:new kv,parent:this};for(const r of t){r.borderStyle||=nS._defaultBorderStyle,e.data=r;const i=$2.create(e);i.isRenderable&&(i.render(),i.contentElement.id=`${id}${r.id}`,this.#i.push(i))}await this.#u()}update({viewport:t}){const e=this.div;this.viewport=t,Fh(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,r]of this.#e){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:a}=i;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):i.append(r);const o=this.#n.get(e);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,i.id,r),o._hasNoCanvas=!1):o.canvas=r)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:r,rotation:i}=t,a=new Att({data:{id:r,rect:t.getPDFRect(),rotation:i},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#r});return a.render(),a.contentElement.id=`${id}${r}`,a.createOrUpdatePopup(),this.#i.push(a),a}removeAnnotation(t){const e=this.#i.findIndex(i=>i.data.id===t);if(e<0)return;const[r]=this.#i.splice(e,1);this.#t?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#u()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return Ve(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Zf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const f0=/\r\n?|\n/g;class Ri extends Se{#t="";#e=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ri.prototype,e=a=>a.isEmpty(),r=Lc.TRANSLATE_SMALL,i=Lc.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new Wg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static _type="freetext";static _editorType=We.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Ri._defaultColor||Se._defaultLineColor,this.#n=t.fontSize||Ri._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){Se.initialize(t,e);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case fn.FREETEXT_SIZE:Ri._defaultFontSize=e;break;case fn.FREETEXT_COLOR:Ri._defaultColor=e;break}}updateParams(t,e){switch(t){case fn.FREETEXT_SIZE:this.#s(e);break;case fn.FREETEXT_COLOR:this.#a(e);break}}static get defaultPropertiesToUpdate(){return[[fn.FREETEXT_SIZE,Ri._defaultFontSize],[fn.FREETEXT_COLOR,Ri._defaultColor||Se._defaultLineColor]]}get propertiesToUpdate(){return[[fn.FREETEXT_SIZE,this.#n],[fn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new mg(this),[["colorPicker",this._colorPicker]]}get colorType(){return fn.FREETEXT_COLOR}#s(t){const e=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(t){const e=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ri._internalPadding*t,-(Ri._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const t=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const t=[];this.editorDiv.normalize();let e=null;for(const r of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(Ri.#u(r)),e=r);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/e):(this.width=r.height/t,this.height=r.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#i().trimEnd();if(t===e)return;const r=i=>{if(this.#t=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(e)},undo:()=>{r(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ri._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[h,f]=this.pageDimensions,[p,v]=this.pageTranslation;let g,w;switch(this.rotation){case 0:g=t+(o[0]-p)/h,w=e+this.height-(o[1]-v)/f;break;case 90:g=t+(o[0]-p)/h,w=e-(o[1]-v)/f,[l,c]=[c,-l];break;case 180:g=t-this.width+(o[0]-p)/h,w=e-(o[1]-v)/f,[l,c]=[-l,-c];break;case 270:g=t+(o[0]-p-this.height*f)/h,w=e+(o[1]-v-this.width*h)/f,[l,c]=[-c,l];break}this.setAt(g*i,w*a,l,c)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(f0,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:r}=e;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const i=Ri.#h(e.getData("text")||"").replaceAll(f0,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,h=[],f=[];if(l.nodeType===Node.TEXT_NODE){const g=l.parentElement;if(f.push(l.nodeValue.slice(c).replaceAll(f0,"")),g!==this.editorDiv){let w=h;for(const y of this.editorDiv.childNodes){if(y===g){w=f;continue}w.push(Ri.#u(y))}}h.push(l.nodeValue.slice(0,c).replaceAll(f0,""))}else if(l===this.editorDiv){let g=h,w=0;for(const y of this.editorDiv.childNodes)w++===c&&(g=f),g.push(Ri.#u(y))}this.#t=`${h.join(`
`)}${i}${f.join(`
`)}`,this.#l();const p=new Range;let v=Math.sumPrecise(h.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const w=g.nodeValue.length;if(v<=w){p.setStart(g,v),p.setEnd(g,v);break}v-=w}a.removeAllRanges(),a.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#f(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ri._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,r){let i=null;if(t instanceof CD){const{data:{defaultAppearanceData:{fontSize:o,fontColor:l},rect:c,rotation:h,id:f,popupRef:p,richText:v,contentsObj:g,creationDate:w,modificationDate:y},textContent:x,textPosition:S,parent:{page:{pageNumber:O}}}=t;if(!x||x.length===0)return null;i=t={annotationType:We.FREETEXT,color:Array.from(l),fontSize:o,value:x.join(`
`),position:S,pageIndex:O-1,rect:c.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:g?.str||null,richText:v,creationDate:w,modificationDate:y}}const a=await super.deserialize(t,e,r);return a.#n=t.fontSize,a.color=ie.makeHexColor(...t.color),a.#t=Ri.#h(t.value),a._initialData=i,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#f()});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!this.#d(r)?null:(r.id=this.annotationElementId,r)}#d(t){const{value:e,fontSize:r,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==r||t.color.some((o,l)=>o!==i[l])||t.pageIndex!==a}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:r}=e;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,e.replaceChildren();for(const i of this.#t.split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),e.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class te{static PRECISION=1e-4;toSVGPath(){Zn("Abstract method `toSVGPath` must be implemented.")}get box(){Zn("Abstract getter `box` must be implemented.")}serialize(t,e){Zn("Abstract method `serialize` must be implemented.")}static _rescale(t,e,r,i,a,o){o||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=e+t[l]*i,o[l+1]=r+t[l+1]*a;return o}static _rescaleAndSwap(t,e,r,i,a,o){o||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)o[l]=e+t[l+1]*i,o[l+1]=r+t[l]*a;return o}static _translate(t,e,r,i){i||=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a+=2)i[a]=e+t[a],i[a+1]=r+t[a+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,r,i,a){switch(a){case 90:return[1-e/r,t/i];case 180:return[1-t/r,1-e/i];case 270:return[e/r,1-t/i];default:return[t/r,e/i]}}static _normalizePagePoint(t,e,r){switch(r){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,r,i,a,o){return[(t+5*r)/6,(e+5*i)/6,(5*r+a)/6,(5*i+o)/6,(r+a)/2,(i+o)/2]}}class Sh{#t;#e=[];#r;#n;#s=[];#a=new Float32Array(18);#i;#o;#u;#l;#f;#h;#d=[];static#m=8;static#g=2;static#c=Sh.#m+Sh.#g;constructor({x:t,y:e},r,i,a,o,l=0){this.#t=r,this.#h=a*i,this.#n=o,this.#a.set([NaN,NaN,NaN,NaN,t,e],6),this.#r=l,this.#l=Sh.#m*i,this.#u=Sh.#c*i,this.#f=i,this.#d.push(t,e)}isEmpty(){return isNaN(this.#a[8])}#p(){const t=this.#a.subarray(4,6),e=this.#a.subarray(16,18),[r,i,a,o]=this.#t;return[(this.#i+(t[0]-e[0])/2-r)/a,(this.#o+(t[1]-e[1])/2-i)/o,(this.#i+(e[0]-t[0])/2-r)/a,(this.#o+(e[1]-t[1])/2-i)/o]}add({x:t,y:e}){this.#i=t,this.#o=e;const[r,i,a,o]=this.#t;let[l,c,h,f]=this.#a.subarray(8,12);const p=t-h,v=e-f,g=Math.hypot(p,v);if(g<this.#u)return!1;const w=g-this.#l,y=w/g,x=y*p,S=y*v;let O=l,C=c;l=h,c=f,h+=x,f+=S,this.#d?.push(t,e);const N=-S/w,k=x/w,R=N*this.#h,B=k*this.#h;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([h+R,f+B],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([h-R,f-B],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([l+R,c+B],2),this.#s.push(NaN,NaN,NaN,NaN,(l+R-r)/a,(c+B-i)/o),this.#a.set([l-R,c-B],14),this.#e.push(NaN,NaN,NaN,NaN,(l-R-r)/a,(c-B-i)/o)),this.#a.set([O,C,l,c,h,f],6),!this.isEmpty()):(this.#a.set([O,C,l,c,h,f],6),Math.abs(Math.atan2(C-c,O-l)-Math.atan2(S,x))<Math.PI/2?([l,c,h,f]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((l+h)/2-r)/a,((c+f)/2-i)/o),[l,c,O,C]=this.#a.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((O+l)/2-r)/a,((C+c)/2-i)/o),!0):([O,C,l,c,h,f]=this.#a.subarray(0,6),this.#s.push(((O+5*l)/6-r)/a,((C+5*c)/6-i)/o,((5*l+h)/6-r)/a,((5*c+f)/6-i)/o,((l+h)/2-r)/a,((c+f)/2-i)/o),[h,f,l,c,O,C]=this.#a.subarray(12,18),this.#e.push(((O+5*l)/6-r)/a,((C+5*c)/6-i)/o,((5*l+h)/6-r)/a,((5*c+f)/6-i)/o,((l+h)/2-r)/a,((c+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#s,e=this.#e;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);this.#y(r);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[t,e,r,i]=this.#t,[a,o,l,c]=this.#p();return`M${(this.#a[2]-t)/r} ${(this.#a[3]-e)/i} L${(this.#a[4]-t)/r} ${(this.#a[5]-e)/i} L${a} ${o} L${l} ${c} L${(this.#a[16]-t)/r} ${(this.#a[17]-e)/i} L${(this.#a[14]-t)/r} ${(this.#a[15]-e)/i} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,r,i,a]=this.#t,o=this.#a.subarray(4,6),l=this.#a.subarray(16,18),[c,h,f,p]=this.#p();t.push(`L${(o[0]-e)/i} ${(o[1]-r)/a} L${c} ${h} L${f} ${p} L${(l[0]-e)/i} ${(l[1]-r)/a}`)}newFreeDrawOutline(t,e,r,i,a,o){return new ND(t,e,r,i,a,o)}getOutlines(){const t=this.#s,e=this.#e,r=this.#a,[i,a,o,l]=this.#t,c=new Float32Array((this.#d?.length??0)+2);for(let p=0,v=c.length-2;p<v;p+=2)c[p]=(this.#d[p]-i)/o,c[p+1]=(this.#d[p+1]-a)/l;if(c[c.length-2]=(this.#i-i)/o,c[c.length-1]=(this.#o-a)/l,isNaN(r[6])&&!this.isEmpty())return this.#E(c);const h=new Float32Array(this.#s.length+24+this.#e.length);let f=t.length;for(let p=0;p<f;p+=2){if(isNaN(t[p])){h[p]=h[p+1]=NaN;continue}h[p]=t[p],h[p+1]=t[p+1]}f=this.#A(h,f);for(let p=e.length-6;p>=6;p-=6)for(let v=0;v<6;v+=2){if(isNaN(e[p+v])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=e[p+v],h[f+1]=e[p+v+1],f+=2}return this.#S(h,f),this.newFreeDrawOutline(h,c,this.#t,this.#f,this.#r,this.#n)}#E(t){const e=this.#a,[r,i,a,o]=this.#t,[l,c,h,f]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-r)/a,(e[3]-i)/o,NaN,NaN,NaN,NaN,(e[4]-r)/a,(e[5]-i)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(e[16]-r)/a,(e[17]-i)/o,NaN,NaN,NaN,NaN,(e[14]-r)/a,(e[15]-i)/o],0),this.newFreeDrawOutline(p,t,this.#t,this.#f,this.#r,this.#n)}#S(t,e){const r=this.#e;return t.set([NaN,NaN,NaN,NaN,r[4],r[5]],e),e+=6}#A(t,e){const r=this.#a.subarray(4,6),i=this.#a.subarray(16,18),[a,o,l,c]=this.#t,[h,f,p,v]=this.#p();return t.set([NaN,NaN,NaN,NaN,(r[0]-a)/l,(r[1]-o)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,v,NaN,NaN,NaN,NaN,(i[0]-a)/l,(i[1]-o)/c],e),e+=24}}class ND extends te{#t;#e=new Float32Array(4);#r;#n;#s;#a;#i;constructor(t,e,r,i,a,o){super(),this.#i=t,this.#s=e,this.#t=r,this.#a=i,this.#r=a,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[l,c,h,f]=this.#e;for(let p=0,v=t.length;p<v;p+=2)t[p]=(t[p]-l)/h,t[p+1]=(t[p+1]-c)/f;for(let p=0,v=e.length;p<v;p+=2)e[p]=(e[p]-l)/h,e[p+1]=(e[p+1]-c)/f}toSVGPath(){const t=[`M${this.#i[4]} ${this.#i[5]}`];for(let e=6,r=this.#i.length;e<r;e+=6){if(isNaN(this.#i[e])){t.push(`L${this.#i[e+4]} ${this.#i[e+5]}`);continue}t.push(`C${this.#i[e]} ${this.#i[e+1]} ${this.#i[e+2]} ${this.#i[e+3]} ${this.#i[e+4]} ${this.#i[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,r,i],a){const o=r-t,l=i-e;let c,h;switch(a){case 0:c=te._rescale(this.#i,t,i,o,-l),h=te._rescale(this.#s,t,i,o,-l);break;case 90:c=te._rescaleAndSwap(this.#i,t,e,o,l),h=te._rescaleAndSwap(this.#s,t,e,o,l);break;case 180:c=te._rescale(this.#i,r,e,-o,l),h=te._rescale(this.#s,r,e,-o,l);break;case 270:c=te._rescaleAndSwap(this.#i,r,i,-o,-l),h=te._rescaleAndSwap(this.#s,r,i,-o,-l);break}return{outline:Array.from(c),points:[Array.from(h)]}}#o(t){const e=this.#i;let r=e[4],i=e[5];const a=[r,i,r,i];let o=r,l=i,c=r,h=i;const f=t?Math.max:Math.min,p=new Float32Array(4);for(let g=6,w=e.length;g<w;g+=6){const y=e[g+4],x=e[g+5];isNaN(e[g])?(ie.pointBoundingBox(y,x,a),l>x?(o=y,l=x):l===x&&(o=f(o,y)),h<x?(c=y,h=x):h===x&&(c=f(c,y))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,ie.bezierBoundingBox(r,i,...e.slice(g,g+6),p),ie.rectBoundingBox(p[0],p[1],p[2],p[3],a),l>p[1]?(o=p[0],l=p[1]):l===p[1]&&(o=f(o,p[0])),h<p[3]?(c=p[2],h=p[3]):h===p[3]&&(c=f(c,p[2]))),r=y,i=x}const v=this.#e;v[0]=a[0]-this.#r,v[1]=a[1]-this.#r,v[2]=a[2]-a[0]+2*this.#r,v[3]=a[3]-a[1]+2*this.#r,this.firstPoint=[o,l],this.lastPoint=[c,h]}get box(){return this.#e}newOutliner(t,e,r,i,a,o=0){return new Sh(t,e,r,i,a,o)}getNewOutline(t,e){const[r,i,a,o]=this.#e,[l,c,h,f]=this.#t,p=a*h,v=o*f,g=r*h+l,w=i*f+c,y=this.newOutliner({x:this.#s[0]*p+g,y:this.#s[1]*v+w},this.#t,this.#a,t,this.#n,e??this.#r);for(let x=2;x<this.#s.length;x+=2)y.add({x:this.#s[x]*p+g,y:this.#s[x+1]*v+w});return y.getOutlines()}}class N5{#t;#e;#r;#n=[];#s=[];constructor(t,e=0,r=0,i=!0){const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:y,y:x,width:S,height:O}of t){const C=Math.floor((y-e)/o)*o,N=Math.ceil((y+S+e)/o)*o,k=Math.floor((x-e)/o)*o,R=Math.ceil((x+O+e)/o)*o,B=[C,k,R,!0],H=[N,k,R,!1];this.#n.push(B,H),ie.rectBoundingBox(C,k,N,R,a)}const l=a[2]-a[0]+2*r,c=a[3]-a[1]+2*r,h=a[0]-r,f=a[1]-r;let p=i?-1/0:1/0,v=1/0;const g=this.#n.at(i?-1:-2),w=[g[0],g[2]];for(const y of this.#n){const[x,S,O,C]=y;!C&&i?S<v?(v=S,p=x):S===v&&(p=Math.max(p,x)):C&&!i&&(S<v?(v=S,p=x):S===v&&(p=Math.min(p,x))),y[0]=(x-h)/l,y[1]=(S-f)/c,y[2]=(O-f)/c}this.#t=new Float32Array([h,f,l,c]),this.#e=[p,v],this.#r=w}getOutlines(){this.#n.sort((e,r)=>e[0]-r[0]||e[1]-r[1]||e[2]-r[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#u(e),t.push(...this.#l(e)));return this.#a(t)}#a(t){const e=[],r=new Set;for(const o of t){const[l,c,h]=o;e.push([l,c,o],[l,h,o])}e.sort((o,l)=>o[1]-l[1]||o[0]-l[0]);for(let o=0,l=e.length;o<l;o+=2){const c=e[o][2],h=e[o+1][2];c.push(h),h.push(c),r.add(c),r.add(h)}const i=[];let a;for(;r.size>0;){const o=r.values().next().value;let[l,c,h,f,p]=o;r.delete(o);let v=l,g=c;for(a=[l,h],i.push(a);;){let w;if(r.has(f))w=f;else if(r.has(p))w=p;else break;r.delete(w),[l,c,h,f,p]=w,v!==l&&(a.push(v,g,l,g===c?c:h),v=l),g=g===c?h:c}a.push(v,g)}return new Btt(i,this.#t,this.#e,this.#r)}#i(t){const e=this.#s;let r=0,i=e.length-1;for(;r<=i;){const a=r+i>>1,o=e[a][0];if(o===t)return a;o<t?r=a+1:i=a-1}return i+1}#o([,t,e]){const r=this.#i(t);this.#s.splice(r,0,[t,e])}#u([,t,e]){const r=this.#i(t);for(let i=r;i<this.#s.length;i++){const[a,o]=this.#s[i];if(a!==t)break;if(a===t&&o===e){this.#s.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,o]=this.#s[i];if(a!==t)break;if(a===t&&o===e){this.#s.splice(i,1);return}}}#l(t){const[e,r,i]=t,a=[[e,r,i]],o=this.#i(i);for(let l=0;l<o;l++){const[c,h]=this.#s[l];for(let f=0,p=a.length;f<p;f++){const[,v,g]=a[f];if(!(h<=v||g<=c)){if(v>=c){if(g>h)a[f][1]=h;else{if(p===1)return[];a.splice(f,1),f--,p--}continue}a[f][2]=c,g>h&&a.push([e,h,g])}}}return a}}class Btt extends te{#t;#e;constructor(t,e,r,i){super(),this.#e=t,this.#t=e,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const t=[];for(const e of this.#e){let[r,i]=e;t.push(`M${r} ${i}`);for(let a=2;a<e.length;a+=2){const o=e[a],l=e[a+1];o===r?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,e,r,i],a){const o=[],l=r-t,c=i-e;for(const h of this.#e){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=t+h[p]*l,f[p+1]=i-h[p+1]*c;o.push(f)}return o}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class k5 extends Sh{newFreeDrawOutline(t,e,r,i,a,o){return new Ftt(t,e,r,i,a,o)}}class Ftt extends ND{newOutliner(t,e,r,i,a,o=0){return new k5(t,e,r,i,a,o)}}class Vr extends Se{#t=null;#e=0;#r;#n=null;#s=null;#a=null;#i=null;#o=0;#u=null;#l=null;#f=null;#h=!1;#d=null;#m=null;#g=null;#c="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=We.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Vr.prototype;return Ve(this,"_keyboardManager",new Wg([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Vr._defaultColor,this.#p=t.thickness||Vr._defaultThickness,this.opacity=t.opacity||Vr._defaultOpacity,this.#r=t.boxes||null,this.#v=t.methodOfCreation||"",this.#c=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#y(t),this.#w()):this.#r&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#i=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new N5(this.#r,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new N5(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#a=e.getOutlines();const{firstPoint:r}=this.#l;this.#d=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#a;this.#m=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:r}){this.#l=t;const i=1.5;if(this.#a=t.getNewOutline(this.#p/2+i,.0025),e>=0)this.#f=e,this.#n=r,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#f,{bbox:Vr.#_(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Vr.#_(this.#a.box,p),path:{d:this.#a.toSVGPath()}})}const[a,o,l,c]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[p,v]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*v/p,this.height=c*p/v;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[p,v]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*v/p,this.height=c*p/v;break}}const{firstPoint:h}=t;this.#d=[(h[0]-a)/l,(h[1]-o)/c];const{lastPoint:f}=this.#a;this.#m=[(f[0]-a)/l,(f[1]-o)/c]}static initialize(t,e){Se.initialize(t,e),Vr._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case fn.HIGHLIGHT_COLOR:Vr._defaultColor=e;break;case fn.HIGHLIGHT_THICKNESS:Vr._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#d}updateParams(t,e){switch(t){case fn.HIGHLIGHT_COLOR:this.#E(e);break;case fn.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[fn.HIGHLIGHT_COLOR,Vr._defaultColor],[fn.HIGHLIGHT_THICKNESS,Vr._defaultThickness]]}get propertiesToUpdate(){return[[fn.HIGHLIGHT_COLOR,this.color||Vr._defaultColor],[fn.HIGHLIGHT_THICKNESS,this.#p||Vr._defaultThickness],[fn.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#f,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#E(t){const e=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:e.bind(this,t,Vr._defaultOpacity),undo:e.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#S(t){const e=this.#p,r=i=>{this.#p=i,this.#A(i)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new io({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#P())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#A(t){this.#h&&(this.#y({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#w(t=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#h),this.#u&&(this.#u.style.clipPath=this.#n))}static#_([t,e,r,i],a){switch(a){case 90:return[1-e-i,t,i,r];case 180:return[1-t-r,1-e-i,r,i];case 270:return[e,1-t-r,i,r]}return[t,e,r,i]}rotate(t){const{drawLayer:e}=this.parent;let r;this.#h?(t=(t-this.rotation+360)%360,r=Vr.#_(this.#l.box,t)):r=Vr.#_([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#f,{bbox:r,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:Vr.#_(this.#a.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#c&&(t.setAttribute("aria-label",this.#c),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const e=this.#u=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),sD(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#N(t){Vr._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#O(!0);break;case 1:case 3:this.#O(!1);break}}#O(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#i,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#h||this.#O(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#f,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#P(){return this.#h?this.rotation:0}#j(){if(this.#h)return null;const[t,e]=this.pageDimensions,[r,i]=this.pageTranslation,a=this.#r,o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:h,width:f,height:p}of a){const v=c*t+r,g=(1-h)*e+i;o[l]=o[l+4]=v,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=v+f*t,o[l+5]=o[l+7]=g-p*e,l+=8}return o}#L(t){return this.#l.serialize(t,this.#P())}static startHighlighting(t,e,{target:r,x:i,y:a}){const{x:o,y:l,width:c,height:h}=r.getBoundingClientRect(),f=new AbortController,p=t.combinedSignal(f),v=g=>{f.abort(),this.#B(t,g)};window.addEventListener("blur",v,{signal:p}),window.addEventListener("pointerup",v,{signal:p}),window.addEventListener("pointerdown",Ur,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",uo,{signal:p}),r.addEventListener("pointermove",this.#D.bind(this,t),{signal:p}),this._freeHighlight=new k5({x:i,y:a},[o,l,c,h],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,r){let i=null;if(t instanceof OD){const{data:{quadPoints:w,rect:y,rotation:x,id:S,color:O,opacity:C,popupRef:N,richText:k,contentsObj:R,creationDate:B,modificationDate:H},parent:{page:{pageNumber:q}}}=t;i=t={annotationType:We.HIGHLIGHT,color:Array.from(O),opacity:C,quadPoints:w,boxes:null,pageIndex:q-1,rect:y.slice(0),rotation:x,annotationElementId:S,id:S,deleted:!1,popupRef:N,richText:k,comment:R?.str||null,creationDate:B,modificationDate:H}}else if(t instanceof eS){const{data:{inkLists:w,rect:y,rotation:x,id:S,color:O,borderStyle:{rawWidth:C},popupRef:N,richText:k,contentsObj:R,creationDate:B,modificationDate:H},parent:{page:{pageNumber:q}}}=t;i=t={annotationType:We.HIGHLIGHT,color:Array.from(O),thickness:C,inkLists:w,boxes:null,pageIndex:q-1,rect:y.slice(0),rotation:x,annotationElementId:S,id:S,deleted:!1,popupRef:N,richText:k,comment:R?.str||null,creationDate:B,modificationDate:H}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=t,h=await super.deserialize(t,e,r);h.color=ie.makeHexColor(...a),h.opacity=c||1,l&&(h.#p=t.thickness),h._initialData=i,t.comment&&h.setCommentData(t);const[f,p]=h.pageDimensions,[v,g]=h.pageTranslation;if(o){const w=h.#r=[];for(let y=0;y<o.length;y+=8)w.push({x:(o[y]-v)/f,y:1-(o[y+1]-g)/p,width:(o[y+2]-o[y])/f,height:(o[y+1]-o[y+5])/p});h.#b(),h.#w(),h.rotate(h.rotation)}else if(l){h.#h=!0;const w=l[0],y={x:w[0]-v,y:p-(w[1]-g)},x=new k5(y,[0,0,f,p],1,h.#p/2,!0,.001);for(let C=0,N=w.length;C<N;C+=2)y.x=w[C]-v,y.y=p-(w[C+1]-g),x.add(y);const{id:S,clipPathId:O}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);h.#y({highlightOutlines:x.getOutlines(),highlightId:S,clipPathId:O}),h.#w(),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Se._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:e,opacity:this.opacity,thickness:this.#p,quadPoints:this.#j(),outlines:this.#L(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#R(r)?null:(r.id=this.annotationElementId,r)}#R(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((r,i)=>r!==e[i])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class kD{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,r]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,r)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Zn("Not implemented")}}class Tn extends Se{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#a(t),this.#u())}#a({drawOutlines:t,drawId:e,drawingOptions:r}){this.#t=t,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#i(t,this.parent),this.#h(t.box)}#i(t,e){const{id:r}=e.drawLayer.draw(Tn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(t,e){const r=new Set(Object.keys(t));for(const[i,a]of Object.entries(e))r.has(i)?Object.assign(t[i],a):t[i]=a;return t}static getDefaultDrawingOptions(t){Zn("Not implemented")}static get typesMap(){Zn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,e),this._currentParent&&(Tn.#r.updateProperty(r,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)t.push([r,e[i]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[r,i]of this.constructor.typesMap)t.push([r,e[i]]);return t}_updateProperty(t,e,r){const i=this._drawingOptions,a=i[e],o=l=>{i.updateProperty(e,l);const c=this.#t.updateProperty(e,l);c&&this.#h(c),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#f()),{bbox:this.#d()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#f()),{bbox:this.#d()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#d()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#f(),this.parentDimensions),{bbox:this.#d()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#u(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#u(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#u(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#t,t)}}#l([t,e,r,i]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[e,1-t,r*(o/a),i*(a/o)];case 180:return[1-t,1-e,r,i];case 270:return[1-e,t,r*(o/a),i*(a/o)];default:return[t,e,r,i]}}#f(){const{x:t,y:e,width:r,height:i,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-e,t,r*(a/o),i*(o/a)];case 180:return[1-t,1-e,r,i];case 270:return[e,1-t,r*(a/o),i*(o/a)];default:return[t,e,r,i]}}#h(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#d(){const{x:t,y:e,width:r,height:i,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-e-i,t,i,r];case 2:return[1-t-r,1-e-i,r,i];case 3:return[e,1-t-r,i,r];case 4:return[t,e-r*(l/c),i*(c/l),r*(l/c)];case 5:return[1-e,t,r*(l/c),i*(c/l)];case 6:return[1-t-i*(c/l),1-e,i*(c/l),r*(l/c)];case 7:return[e-r*(l/c),1-t-i*(c/l),r*(l/c),i*(c/l)];case 8:return[t-r,e-i,r,i];case 9:return[1-e,t-r,i,r];case 10:return[1-t,1-e,r,i];case 11:return[e-i,1-t,i,r];case 12:return[t-i*(c/l),e,i*(c/l),r*(l/c)];case 13:return[1-e-r*(l/c),t-i*(c/l),r*(l/c),i*(c/l)];case 14:return[1-t,1-e-r*(l/c),i*(c/l),r*(l/c)];case 15:return[e,1-t,r*(l/c),i*(c/l)];default:return[t,e,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties({bbox:this.#d()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),r}static createDrawerInstance(t,e,r,i,a){Zn("Not implemented")}static startDrawing(t,e,r,i){const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:h}=i;if(On.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:f}}=t,{width:p,height:v}=a.getBoundingClientRect(),g=Tn.#n=new AbortController,w=t.combinedSignal(g);if(On.setPointer(h,c),window.addEventListener("pointerup",y=>{On.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:w}),window.addEventListener("pointercancel",y=>{On.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",y=>{On.isSamePointerType(y.pointerType)&&(On.initializeAndAddPointerId(y.pointerId),Tn.#r.isCancellable()&&(Tn.#r.removeLastElement(),Tn.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",uo,{signal:w}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),a.addEventListener("touchmove",y=>{On.isSameTimeStamp(y.timeStamp)&&Ur(y)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),Tn.#r){t.drawLayer.updateProperties(this._currentDrawId,Tn.#r.startNew(o,l,p,v,f));return}e.updateUIForDefaultProperties(this),Tn.#r=this.createDrawerInstance(o,l,p,v,f),Tn.#s=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Tn.#s.toSVGProperties(),Tn.#r.defaultSVGProperties),!0,!1)}static _drawMove(t){if(On.isSameTimeStamp(t.timeStamp),!Tn.#r)return;const{offsetX:e,offsetY:r,pointerId:i}=t;if(On.isSamePointerId(i)){if(On.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Tn.#r.add(e,r)),On.setTimeStamp(t.timeStamp),Ur(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Tn.#r=null,Tn.#s=null,On.clearPointerType(),On.clearTimeStamp()),Tn.#n&&(Tn.#n.abort(),Tn.#n=null,On.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Tn.#r.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=Tn.#r,i=this._currentDrawId,a=r.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(i,r.setLastElement(a))},undo:()=>{e.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:fn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(fn.DRAW_STEP),!Tn.#r.isEmpty()){const{pageDimensions:[r,i],scale:a}=e,o=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Tn.#r.getOutlines(r*a,i*a,a,this._INNER_MARGIN),drawingOptions:Tn.#s,mustBeCommitted:!t});return this._cleanup(!0),o}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,r,i,a,o){Zn("Not implemented")}static async deserialize(t,e,r){const{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:l}}=e.viewport,c=this.deserializeDraw(o,l,i,a,this._INNER_MARGIN,t),h=await super.deserialize(t,e,r);return h.createDrawingOptions(t),h.#a({drawOutlines:c}),h.#u(),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[e,r]=this.pageTranslation,[i,a]=this.pageDimensions;return this.#t.serialize([e,r,i,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class ztt{#t=new Float64Array(6);#e;#r;#n;#s;#a;#i="";#o=0;#u=new Yg;#l;#f;constructor(t,e,r,i,a,o){this.#l=r,this.#f=i,this.#n=a,this.#s=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e],this.#r=[{line:l,points:this.#a}],this.#t.set(l,0)}updateProperty(t,e){t==="stroke-width"&&(this.#s=e)}#h(t,e){return te._normalizePoint(t,e,this.#l,this.#f,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#a.length<=10}add(t,e){[t,e]=this.#h(t,e);const[r,i,a,o]=this.#t.subarray(2,6),l=t-a,c=e-o;return Math.hypot(this.#l*l,this.#f*c)<=2?null:(this.#a.push(t,e),isNaN(r)?(this.#t.set([a,o,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([r,i,a,o,t,e],0),this.#e.push(...te.createBezierPoints(r,i,a,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const r=this.add(t,e);return r||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,r,i,a){this.#l=r,this.#f=i,this.#n=a,[t,e]=this.#h(t,e);const o=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#a=[t,e];const l=this.#r.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#r.push({line:o,points:this.#a}),this.#t.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(t){return this.#r?(this.#r.push(t),this.#e=t.line,this.#a=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#u.setLastElement(t)}removeLastElement(){if(!this.#r)return this.#u.removeLastElement();this.#r.pop(),this.#i="";for(let t=0,e=this.#r.length;t<e;t++){const{line:r,points:i}=this.#r[t];this.#e=r,this.#a=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const t=te.svgRound(this.#e[4]),e=te.svgRound(this.#e[5]);if(this.#a.length===2)return this.#i=`${this.#i} M ${t} ${e} Z`,this.#i;if(this.#a.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${t} ${e}`,this.#o=6}if(this.#a.length===4){const i=te.svgRound(this.#e[10]),a=te.svgRound(this.#e[11]);return this.#i=`${this.#i} L ${i} ${a}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${t} ${e}`),this.#o=6);for(let i=this.#o,a=this.#e.length;i<a;i+=6){const[o,l,c,h,f,p]=this.#e.slice(i,i+6).map(te.svgRound);r.push(`C${o} ${l} ${c} ${h} ${f} ${p}`)}return this.#i+=r.join(" "),this.#o=this.#e.length,this.#i}getOutlines(t,e,r,i){const a=this.#r.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#u.build(this.#r,t,e,r,this.#n,this.#s,i),this.#t=null,this.#e=null,this.#r=null,this.#i=null,this.#u}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Yg extends te{#t;#e=0;#r;#n;#s;#a;#i;#o;#u;build(t,e,r,i,a,o,l){this.#s=e,this.#a=r,this.#i=i,this.#o=a,this.#u=o,this.#r=l??0,this.#n=t,this.#h()}get thickness(){return this.#u}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${te.svgRound(e[4])} ${te.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${te.svgRound(e[10])} ${te.svgRound(e[11])}`);continue}for(let r=6,i=e.length;r<i;r+=6){const[a,o,l,c,h,f]=e.subarray(r,r+6).map(te.svgRound);t.push(`C${a} ${o} ${l} ${c} ${h} ${f}`)}}return t.join("")}serialize([t,e,r,i],a){const o=[],l=[],[c,h,f,p]=this.#f();let v,g,w,y,x,S,O,C,N;switch(this.#o){case 0:N=te._rescale,v=t,g=e+i,w=r,y=-i,x=t+c*r,S=e+(1-h-p)*i,O=t+(c+f)*r,C=e+(1-h)*i;break;case 90:N=te._rescaleAndSwap,v=t,g=e,w=r,y=i,x=t+h*r,S=e+c*i,O=t+(h+p)*r,C=e+(c+f)*i;break;case 180:N=te._rescale,v=t+r,g=e,w=-r,y=i,x=t+(1-c-f)*r,S=e+h*i,O=t+(1-c)*r,C=e+(h+p)*i;break;case 270:N=te._rescaleAndSwap,v=t+r,g=e+i,w=-r,y=-i,x=t+(1-h-p)*r,S=e+(1-c-f)*i,O=t+(1-h)*r,C=e+(1-c)*i;break}for(const{line:k,points:R}of this.#n)o.push(N(k,v,g,w,y,a?new Array(k.length):null)),l.push(N(R,v,g,w,y,a?new Array(R.length):null));return{lines:o,points:l,rect:[x,S,O,C]}}static deserialize(t,e,r,i,a,{paths:{lines:o,points:l},rotation:c,thickness:h}){const f=[];let p,v,g,w,y;switch(c){case 0:y=te._rescale,p=-t/r,v=e/i+1,g=1/r,w=-1/i;break;case 90:y=te._rescaleAndSwap,p=-e/i,v=-t/r,g=1/i,w=1/r;break;case 180:y=te._rescale,p=t/r+1,v=-e/i,g=-1/r,w=1/i;break;case 270:y=te._rescaleAndSwap,p=e/i+1,v=t/r+1,g=-1/i,w=-1/r;break}if(!o){o=[];for(const S of l){const O=S.length;if(O===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(O===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const C=new Float32Array(3*(O-2));o.push(C);let[N,k,R,B]=S.subarray(0,4);C.set([NaN,NaN,NaN,NaN,N,k],0);for(let H=4;H<O;H+=2){const q=S[H],rt=S[H+1];C.set(te.createBezierPoints(N,k,R,B,q,rt),(H-2)*3),[N,k,R,B]=[R,B,q,rt]}}}for(let S=0,O=o.length;S<O;S++)f.push({line:y(o[S].map(C=>C??NaN),p,v,g,w),points:y(l[S].map(C=>C??NaN),p,v,g,w)});const x=new this.prototype.constructor;return x.build(f,r,i,1,c,h,a),x}#l(t=this.#u){const e=this.#r+t/2*this.#i;return this.#o%180===0?[e/this.#s,e/this.#a]:[e/this.#a,e/this.#s]}#f(){const[t,e,r,i]=this.#t,[a,o]=this.#l(0);return[t+a,e+o,r-2*a,i-2*o]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let l=4,c=i.length;l<c;l+=6)ie.pointBoundingBox(i[l],i[l+1],t);continue}let a=i[4],o=i[5];for(let l=6,c=i.length;l<c;l+=6){const[h,f,p,v,g,w]=i.subarray(l,l+6);ie.bezierBoundingBox(a,o,h,f,p,v,g,w,t),a=g,o=w}}const[e,r]=this.#l();t[0]=Ta(t[0]-e,0,1),t[1]=Ta(t[1]-r,0,1),t[2]=Ta(t[2]+e,0,1),t[3]=Ta(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#d(e):null}#d(t){const[e,r]=this.#l();this.#u=t;const[i,a]=this.#l(),[o,l]=[i-e,a-r],c=this.#t;return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c}updateParentDimensions([t,e],r){const[i,a]=this.#l();this.#s=t,this.#a=e,this.#i=r;const[o,l]=this.#l(),c=o-i,h=l-a,f=this.#t;return f[0]-=c,f[1]-=h,f[2]+=2*c,f[3]+=2*h,f}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(te.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let r=0,i=0,a=0,o=0,l=0,c=0;switch(this.#e){case 90:i=e/t,a=-t/e,l=t;break;case 180:r=-1,o=-1,l=t,c=e;break;case 270:i=-e/t,a=t/e,c=e;break;default:return""}return`matrix(${r} ${i} ${a} ${o} ${te.svgRound(l)} ${te.svgRound(c)})`}getPathResizingSVGProperties([t,e,r,i]){const[a,o]=this.#l(),[l,c,h,f]=this.#t;if(Math.abs(h-a)<=te.PRECISION||Math.abs(f-o)<=te.PRECISION){const y=t+r/2-(l+h/2),x=e+i/2-(c+f/2);return{path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(e)}`,transform:`${this.rotationTransform} translate(${y} ${x})`}}}const p=(r-2*a)/(h-2*a),v=(i-2*o)/(f-2*o),g=h/r,w=f/i;return{path:{"transform-origin":`${te.svgRound(l)} ${te.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${w}) translate(${te.svgRound(a)} ${te.svgRound(o)}) scale(${p} ${v}) translate(${te.svgRound(-a)} ${te.svgRound(-o)})`}}}getPathResizedSVGProperties([t,e,r,i]){const[a,o]=this.#l(),l=this.#t,[c,h,f,p]=l;if(l[0]=t,l[1]=e,l[2]=r,l[3]=i,Math.abs(f-a)<=te.PRECISION||Math.abs(p-o)<=te.PRECISION){const x=t+r/2-(c+f/2),S=e+i/2-(h+p/2);for(const{line:O,points:C}of this.#n)te._translate(O,x,S,O),te._translate(C,x,S,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(r-2*a)/(f-2*a),g=(i-2*o)/(p-2*o),w=-v*(c+a)+t+a,y=-g*(h+o)+e+o;if(v!==1||g!==1||w!==0||y!==0)for(const{line:x,points:S}of this.#n)te._rescale(x,w,y,v,g,x),te._rescale(S,w,y,v,g,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${te.svgRound(t)} ${te.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],r){const[i,a]=r,o=this.#t,l=t-o[0],c=e-o[1];if(this.#s===i&&this.#a===a)for(const{line:h,points:f}of this.#n)te._translate(h,l,c,h),te._translate(f,l,c,f);else{const h=this.#s/i,f=this.#a/a;this.#s=i,this.#a=a;for(const{line:p,points:v}of this.#n)te._rescale(p,l,c,h,f,p),te._rescale(v,l,c,h,f,v);o[2]*=h,o[3]*=f}return o[0]=t,o[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${te.svgRound(t)} ${te.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${te.svgRound(t[0])} ${te.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class I1 extends kD{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Se._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new I1(this._viewParameters);return t.updateAll(this),t}}class rS extends Tn{static _type="ink";static _editorType=We.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Se.initialize(t,e),this._defaultDrawingOptions=new I1(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ve(this,"typesMap",new Map([[fn.INK_THICKNESS,"stroke-width"],[fn.INK_COLOR,"stroke"],[fn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,r,i,a){return new ztt(t,e,r,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,r,i,a,o){return Yg.deserialize(t,e,r,i,a,o)}static async deserialize(t,e,r){let i=null;if(t instanceof eS){const{data:{inkLists:o,rect:l,rotation:c,id:h,color:f,opacity:p,borderStyle:{rawWidth:v},popupRef:g,richText:w,contentsObj:y,creationDate:x,modificationDate:S},parent:{page:{pageNumber:O}}}=t;i=t={annotationType:We.INK,color:Array.from(f),thickness:v,opacity:p,paths:{points:o},boxes:null,pageIndex:O-1,rect:l.slice(0),rotation:c,annotationElementId:h,id:h,deleted:!1,popupRef:g,richText:w,comment:y?.str||null,creationDate:x,modificationDate:S}}const a=await super.deserialize(t,e,r);return a._initialData=i,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||=new mg(this),[["colorPicker",this._colorPicker]]}get colorType(){return fn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:r}=this;e.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:r}){this._drawingOptions=rS.getDefaultDrawingOptions({stroke:ie.makeHexColor(...t),"stroke-width":e,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Se._colorManager.convert(i),opacity:a,thickness:o,paths:{lines:e,points:r}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!this.#t(l)?null:(l.id=this.annotationElementId,l)}#t(t){const{color:e,thickness:r,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==e[l])||t.thickness!==r||t.opacity!==i||t.pageIndex!==a}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class L5 extends Yg{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const d0=8,Bp=3;class Jf{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,r,i){return r-=t,i-=e,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,r,i,a,o,l){const c=this.#e(r,i,a,o);for(let h=0;h<8;h++){const f=(-h+c-l+16)%8,p=this.#r[2*f],v=this.#r[2*f+1];if(t[(r+p)*e+(i+v)]!==0)return f}return-1}static#s(t,e,r,i,a,o,l){const c=this.#e(r,i,a,o);for(let h=0;h<8;h++){const f=(h+c+l+16)%8,p=this.#r[2*f],v=this.#r[2*f+1];if(t[(r+p)*e+(i+v)]!==0)return f}return-1}static#a(t,e,r,i){const a=t.length,o=new Int32Array(a);for(let f=0;f<a;f++)o[f]=t[f]<=i?1:0;for(let f=1;f<r-1;f++)o[f*e]=o[f*e+e-1]=0;for(let f=0;f<e;f++)o[f]=o[e*r-1-f]=0;let l=1,c;const h=[];for(let f=1;f<r-1;f++){c=1;for(let p=1;p<e-1;p++){const v=f*e+p,g=o[v];if(g===0)continue;let w=f,y=p;if(g===1&&o[v-1]===0)l+=1,y-=1;else if(g>=1&&o[v+1]===0)l+=1,y+=1,g>1&&(c=g);else{g!==1&&(c=Math.abs(g));continue}const x=[p,f],S=y===p+1,O={isHole:S,points:x,id:l,parent:0};h.push(O);let C;for(const D of h)if(D.id===c){C=D;break}C?C.isHole?O.parent=S?C.parent:c:O.parent=S?c:C.parent:O.parent=S?c:0;const N=this.#n(o,e,f,p,w,y,0);if(N===-1){o[v]=-l,o[v]!==1&&(c=Math.abs(o[v]));continue}let k=this.#r[2*N],R=this.#r[2*N+1];const B=f+k,H=p+R;w=B,y=H;let q=f,rt=p;for(;;){const D=this.#s(o,e,q,rt,w,y,1);k=this.#r[2*D],R=this.#r[2*D+1];const z=q+k,et=rt+R;x.push(et,z);const tt=q*e+rt;if(o[tt+1]===0?o[tt]=-l:o[tt]===1&&(o[tt]=l),z===f&&et===p&&q===B&&rt===H){o[v]!==1&&(c=Math.abs(o[v]));break}else w=q,y=rt,q=z,rt=et}}}return h}static#i(t,e,r,i){if(r-e<=4){for(let B=e;B<r-2;B+=2)i.push(t[B],t[B+1]);return}const a=t[e],o=t[e+1],l=t[r-4]-a,c=t[r-3]-o,h=Math.hypot(l,c),f=l/h,p=c/h,v=f*o-p*a,g=c/l,w=1/h,y=Math.atan(g),x=Math.cos(y),S=Math.sin(y),O=w*(Math.abs(x)+Math.abs(S)),C=w*(1-O+O**2),N=Math.max(Math.atan(Math.abs(S+x)*C),Math.atan(Math.abs(S-x)*C));let k=0,R=e;for(let B=e+2;B<r-2;B+=2){const H=Math.abs(v-f*t[B+1]+p*t[B]);H>k&&(R=B,k=H)}k>(h*N)**2?(this.#i(t,e,R+2,i),this.#i(t,R,r,i)):i.push(a,o)}static#o(t){const e=[],r=t.length;return this.#i(t,0,r,e),e.push(t[r-2],t[r-1]),e.length<=4?null:e}static#u(t,e,r,i,a,o){const l=new Float32Array(o**2),c=-2*i**2,h=o>>1;for(let y=0;y<o;y++){const x=(y-h)**2;for(let S=0;S<o;S++)l[y*o+S]=Math.exp((x+(S-h)**2)/c)}const f=new Float32Array(256),p=-2*a**2;for(let y=0;y<256;y++)f[y]=Math.exp(y**2/p);const v=t.length,g=new Uint8Array(v),w=new Uint32Array(256);for(let y=0;y<r;y++)for(let x=0;x<e;x++){const S=y*e+x,O=t[S];let C=0,N=0;for(let R=0;R<o;R++){const B=y+R-h;if(!(B<0||B>=r))for(let H=0;H<o;H++){const q=x+H-h;if(q<0||q>=e)continue;const rt=t[B*e+q],D=l[R*o+H]*f[Math.abs(rt-O)];C+=rt*D,N+=D}}const k=g[S]=Math.round(C/N);w[k]++}return[g,w]}static#l(t){const e=new Uint32Array(256);for(const r of t)e[r]++;return e}static#f(t){const e=t.length,r=new Uint8ClampedArray(e>>2);let i=-1/0,a=1/0;for(let l=0,c=r.length;l<c;l++){const h=r[l]=t[l<<2];i=Math.max(i,h),a=Math.min(a,h)}const o=255/(i-a);for(let l=0,c=r.length;l<c;l++)r[l]=(r[l]-a)*o;return r}static#h(t){let e,r=-1/0,i=-1/0;const a=t.findIndex(c=>c!==0);let o=a,l=a;for(e=a;e<256;e++){const c=t[e];c>r&&(e-o>i&&(i=e-o,l=e-1),r=c,o=e)}for(e=l-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#d(t){const e=t,{width:r,height:i}=t,{maxDim:a}=this.#t;let o=r,l=i;if(r>a||i>a){let v=r,g=i,w=Math.log2(Math.max(r,i)/a);const y=Math.floor(w);w=w===y?y-1:y;for(let S=0;S<w;S++){o=Math.ceil(v/2),l=Math.ceil(g/2);const O=new OffscreenCanvas(o,l);O.getContext("2d").drawImage(t,0,0,v,g,0,0,o,l),v=o,g=l,t!==e&&t.close(),t=O.transferToImageBitmap()}const x=Math.min(a/o,a/l);o=Math.round(o*x),l=Math.round(l*x)}const h=new OffscreenCanvas(o,l).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,o,l),h.filter="grayscale(1)",h.drawImage(t,0,0,t.width,t.height,0,0,o,l);const f=h.getImageData(0,0,o,l).data;return[this.#f(f),o,l]}static extractContoursFromText(t,{fontFamily:e,fontStyle:r,fontWeight:i},a,o,l,c){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,v=f.font=`${r} ${i} ${p}px ${e}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:w,actualBoundingBoxAscent:y,actualBoundingBoxDescent:x,fontBoundingBoxAscent:S,fontBoundingBoxDescent:O,width:C}=f.measureText(t),N=1.5,k=Math.ceil(Math.max(Math.abs(g)+Math.abs(w)||0,C)*N),R=Math.ceil(Math.max(Math.abs(y)+Math.abs(x)||p,Math.abs(S)+Math.abs(O)||p)*N);h=new OffscreenCanvas(k,R),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=v,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,k,R),f.fillStyle="black",f.fillText(t,k*(N-1)/2,R*(3-N)/2);const B=this.#f(f.getImageData(0,0,k,R).data),H=this.#l(B),q=this.#h(H),rt=this.#a(B,k,R,q);return this.processDrawnLines({lines:{curves:rt,width:k,height:R},pageWidth:a,pageHeight:o,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(t,e,r,i,a){const[o,l,c]=this.#d(t),[h,f]=this.#u(o,l,c,Math.hypot(l,c)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#h(f),v=this.#a(h,l,c,p);return this.processDrawnLines({lines:{curves:v,width:l,height:c},pageWidth:e,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:o,areContours:l}){i%180!==0&&([e,r]=[r,e]);const{curves:c,width:h,height:f}=t,p=t.thickness??0,v=[],g=Math.min(e/h,r/f),w=g/e,y=g/r,x=[];for(const{points:O}of c){const C=o?this.#o(O):O;if(!C)continue;x.push(C);const N=C.length,k=new Float32Array(N),R=new Float32Array(3*(N===2?2:N-2));if(v.push({line:R,points:k}),N===2){k[0]=C[0]*w,k[1]=C[1]*y,R.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[B,H,q,rt]=C;B*=w,H*=y,q*=w,rt*=y,k.set([B,H,q,rt],0),R.set([NaN,NaN,NaN,NaN,B,H],0);for(let D=4;D<N;D+=2){const z=k[D]=C[D]*w,et=k[D+1]=C[D+1]*y;R.set(te.createBezierPoints(B,H,q,rt,z,et),(D-2)*3),[B,H,q,rt]=[q,rt,z,et]}}if(v.length===0)return null;const S=l?new L5:new Yg;return S.build(v,e,r,1,i,l?0:p,a),{outline:S,newCurves:x,areContours:l,thickness:p,width:h,height:f}}static async compressSignature({outlines:t,areContours:e,thickness:r,width:i,height:a}){let o=1/0,l=-1/0,c=0;for(const C of t){c+=C.length;for(let N=2,k=C.length;N<k;N++){const R=C[N]-C[N-2];o=Math.min(o,R),l=Math.max(l,R)}}let h;o>=-128&&l<=127?h=Int8Array:o>=-32768&&l<=32767?h=Int16Array:h=Int32Array;const f=t.length,p=d0+Bp*f,v=new Uint32Array(p);let g=0;v[g++]=p*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*h.BYTES_PER_ELEMENT,v[g++]=0,v[g++]=i,v[g++]=a,v[g++]=e?0:1,v[g++]=Math.max(0,Math.floor(r??0)),v[g++]=f,v[g++]=h.BYTES_PER_ELEMENT;for(const C of t)v[g++]=C.length-2,v[g++]=C[0],v[g++]=C[1];const w=new CompressionStream("deflate-raw"),y=w.writable.getWriter();await y.ready,y.write(v);const x=h.prototype.constructor;for(const C of t){const N=new x(C.length-2);for(let k=2,R=C.length;k<R;k++)N[k-2]=C[k]-C[k-2];y.write(N)}y.close();const S=await new Response(w.readable).arrayBuffer(),O=new Uint8Array(S);return nD(O)}static async decompressSignature(t){try{const e=nJ(t),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,l=0;for await(const C of r)o||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),o.set(C,l),l+=C.length;const c=new Uint32Array(o.buffer,0,o.length>>2),h=c[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=c[2],p=c[3],v=c[4]===0,g=c[5],w=c[6],y=c[7],x=[],S=(d0+Bp*w)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(y){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(o.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(o.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(o.buffer,S);break}l=0;for(let C=0;C<w;C++){const N=c[Bp*C+d0],k=new Float32Array(N+2);x.push(k);for(let R=0;R<Bp-1;R++)k[R]=c[Bp*C+d0+R+1];for(let R=0;R<N;R++)k[R+2]=k[R]+O[l++]}return{areContours:v,thickness:g,outlines:x,width:f,height:p}}catch(e){return He(`decompressSignature: ${e}`),null}}}class iS extends kD{constructor(){super(),super.updateProperties({fill:Se._defaultLineColor,"stroke-width":0})}clone(){const t=new iS;return t.updateAll(this),t}}class aS extends I1{constructor(t){super(t),super.updateProperties({stroke:Se._defaultLineColor,"stroke-width":1})}clone(){const t=new aS(this._viewParameters);return t.updateAll(this),t}}class Cl extends Tn{#t=!1;#e=null;#r=null;#n=null;static _type="signature";static _editorType=We.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Se.initialize(t,e),this._defaultDrawingOptions=new iS,this._defaultDrawnSignatureOptions=new aS(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ve(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:h}=this.#r,{rawDims:{pageWidth:f,pageHeight:p},rotation:v}=this.parent.viewport,g=Jf.processDrawnLines({lines:i,pageWidth:f,pageHeight:p,rotation:v,innerMargin:Cl._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,h,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:r,width:i,height:a}=this.#r,o=Math.max(i,a),l=Jf.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:r,width:i,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,r,i){const{x:a,y:o}=this,{outline:l}=this.#r=t;this.#t=l instanceof L5,this.description=r;let c;this.#t?c=Cl.getDefaultDrawingOptions():(c=Cl._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,h]=this.pageDimensions;let f=e/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:r},rotation:i}=this.parent.viewport;return Jf.process(t,e,r,i,Cl._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Jf.extractContoursFromText(t,e,r,i,a,Cl._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:r},rotation:i}=this.parent.viewport;return Jf.processDrawnLines({lines:t,pageWidth:e,pageHeight:r,rotation:i,innerMargin:Cl._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Cl.getDefaultDrawingOptions():(this._drawingOptions=Cl._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":i}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:i});return this.addComment(a),t?(a.paths={lines:e,points:r},a.uuid=this.#n,a.isCopy=!0):a.lines=e,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,e,r,i,a,o){return o.areContours?L5.deserialize(t,e,r,i,a,o):Yg.deserialize(t,e,r,i,a,o)}static async deserialize(t,e,r){const i=await super.deserialize(t,e,r);return i.#t=t.areContours,i.description=t.accessibilityData?.alt||"",i.#n=t.uuid,i}}class Utt extends Se{#t=null;#e=null;#r=null;#n=null;#s=null;#a="";#i=null;#o=!1;#u=null;#l=!1;#f=!1;static _type="stamp";static _editorType=We.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#s=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Se.initialize(t,e)}static isHandlingMimeForPasting(t){return S5.includes(t)}static paste(t,e){e.pasteEditor({mode:We.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#a=t.file.name),this.#g()}#d(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await r.guess({name:"altText",request:{data:i,width:a,height:o,channels:i.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),e&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(r=>this.#h(r,!0)).finally(()=>this.#d());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#h(i)).finally(()=>this.#d());return}if(this.#s){const r=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#h(i)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=S5.join(",");const e=this._uiManager._signal;this.#r=new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(i)}r()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:e})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#i?.remove(),this.#i=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#i===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#r||this.#t||this.#n||this.#s||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#e=r,i&&(this.#t=i),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#u!==null&&clearTimeout(this.#u);const t=200;this.#u=setTimeout(()=>{this.#u=null,this.#p()},t)}#g(){const{div:t}=this;let{width:e,height:r}=this.#t;const[i,a]=this.pageDimensions,o=.75;if(this.width)e=this.width*i,r=this.height*a;else if(e>o*i||r>o*a){const c=Math.min(o*i/e,o*a/r);e*=c,r*=c}this._uiManager.enableWaiting(!1);const l=this.#i=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=e/i,this.height=r/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,r=!1){t||(t=224);const{width:i,height:a}=this.#t,o=new Rl;let l=this.#t,c=i,h=a,f=null;if(e){if(i>e||a>e){const R=Math.min(e/i,e/a);c=Math.floor(i*R),h=Math.floor(a*R)}f=document.createElement("canvas");const v=f.width=Math.ceil(c*o.sx),g=f.height=Math.ceil(h*o.sy);this.#l||(l=this.#c(v,g));const w=f.getContext("2d");w.filter=this._uiManager.hcmFilter;let y="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":lJ.isDarkMode&&(y="#8f8f9d",x="#42414d");const S=15,O=S*o.sx,C=S*o.sy,N=new OffscreenCanvas(O*2,C*2),k=N.getContext("2d");k.fillStyle=y,k.fillRect(0,0,O*2,C*2),k.fillStyle=x,k.fillRect(0,0,O,C),k.fillRect(O,C,O,C),w.fillStyle=w.createPattern(N,"repeat"),w.fillRect(0,0,v,g),w.drawImage(l,0,0,l.width,l.height,0,0,v,g)}let p=null;if(r){let v,g;if(o.symmetric&&l.width<t&&l.height<t)v=l.width,g=l.height;else if(l=this.#t,i>t||a>t){const x=Math.min(t/i,t/a);v=Math.floor(i*x),g=Math.floor(a*x),this.#l||(l=this.#c(v,g))}const y=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,v,g),p={width:v,height:g,data:y.getImageData(0,0,v,g).data}}return{canvas:f,width:c,height:h,imageData:p}}#c(t,e){const{width:r,height:i}=this.#t;let a=r,o=i,l=this.#t;for(;a>2*t||o>2*e;){const c=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,c,h,0,0,a,o),l=f.transferToImageBitmap()}return l}#p(){const[t,e]=this.parentDimensions,{width:r,height:i}=this,a=new Rl,o=Math.ceil(r*t*a.sx),l=Math.ceil(i*e*a.sy),c=this.#i;if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const h=this.#l?this.#t:this.#c(o,l),f=c.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,l)}#v(t){if(t){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#e);if(i)return i}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,r]=this.pageDimensions,i=Math.round(this.width*e*Nd.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*Nd.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,r){let i=null,a=!1;if(t instanceof PD){const{data:{rect:y,rotation:x,id:S,structParent:O,popupRef:C,richText:N,contentsObj:k,creationDate:R,modificationDate:B},container:H,parent:{page:{pageNumber:q}},canvas:rt}=t;let D,z;rt?(delete t.canvas,{id:D,bitmap:z}=r.imageManager.getFromCanvas(H.id,rt),rt.remove()):(a=!0,t._hasNoCanvas=!0);const et=(await e._structTree.getAriaAttributes(`${id}${S}`))?.get("aria-label")||"";i=t={annotationType:We.STAMP,bitmapId:D,bitmap:z,pageIndex:q-1,rect:y.slice(0),rotation:x,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:et},isSvg:!1,structParent:O,popupRef:C,richText:N,comment:k?.str||null,creationDate:R,modificationDate:B}}const o=await super.deserialize(t,e,r),{rect:l,bitmap:c,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:v}=t;a?(r.addMissingCanvas(t.id,o),o.#o=!0):f&&r.imageManager.isValidId(f)?(o.#e=f,c&&(o.#t=c)):o.#n=h,o.#l=p;const[g,w]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/w,v&&(o.altTextData=v),o._initialData=i,t.comment&&o.setCommentData(t),o.#f=!!i,o}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(r),t)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=this.#b(r);return l.isSame?null:(l.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(e===null)return r;e.stamps||=new Map;const o=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:o,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const l=e.stamps.get(this.#e);o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=this.#v(!1))}return r}#b(t){const{pageIndex:e,accessibilityData:{altText:r}}=this._initialData,i=t.pageIndex===e,a=(t.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class pu{#t;#e=!1;#r=null;#n=null;#s=null;#a=new Map;#i=!1;#o=!1;#u=!1;#l=null;#f=null;#h=null;#d=null;#m=null;#g=-1;#c;static _initialized=!1;static#p=new Map([Ri,rS,Utt,Vr,Cl].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:o,drawLayer:l,textLayer:c,viewport:h,l10n:f}){const p=[...pu.#p.values()];if(!pu._initialized){pu._initialized=!0;for(const v of p)v.initialize(f,t)}t.registerEditorTypes(p),this.#c=t,this.pageIndex=e,this.div=r,this.#t=a,this.#r=o,this.viewport=h,this.#h=c,this.drawLayer=l,this._structTree=i,this.#c.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===We.NONE}updateToolbar(t){this.#c.updateToolbar(t)}updateMode(t=this.#c.getMode()){switch(this.#A(),t){case We.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case We.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case We.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===We.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const r of pu.#p.values())e.toggle(`${r._type}Editing`,t===r._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#c.setEditingState(t)}addCommands(t){this.#c.addCommands(t)}cleanUndoStack(t){this.#c.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#r?.togglePointerEvents(t)}get#v(){return this.#a.size!==0?this.#a.values():this.#c.getEditors(this.pageIndex)}async enable(){this.#u=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#c.removeChangedExistingAnnotation(r),t.add(r.annotationElementId));const e=this.#r;if(e)for(const r of e.getEditableAnnotations()){if(r.hide(),this.#c.isDeletedAnnotationElement(r.data.id)||t.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#u=!1,this.#c._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const i=this.#c.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:h}=a,f=this.#g;if(h-f>500){this.#g=h;return}this.#g=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const v=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(v[0]))return;let g;const w=new RegExp(`^${fg}[0-9]+$`);for(const x of v)if(w.test(x.id)){g=x.id;break}if(!g)return;const y=this.#a.get(g);y?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),y.dblclick(a))},{signal:i,capture:!0})}const t=this.#r,e=[];if(t){const i=new Map,a=new Map;for(const l of this.#v){if(l.disableEditing(),!l.annotationElementId){e.push(l);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let h=a.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=i.get(c),h&&(this.#c.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#A(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of pu.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#r?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#c.getActive()!==t&&this.#c.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#d){this.#d=new AbortController;const t=this.#c.combinedSignal(this.#d);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#d&&(this.#d.abort(),this.#d=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#c.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:r}=na.platform;if(t.button!==0||t.ctrlKey&&r)return;this.#c.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Vr.startHighlighting(this,this.#c.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#c.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#a.set(t.id,t);const{annotationElementId:e}=t;e&&this.#c.isDeletedAnnotationElement(e)&&this.#c.removeDeletedAnnotationElement(t)}detach(t){this.#a.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#c.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#c.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#c.addDeletedAnnotationElement(t.annotationElementId),Se.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#c.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#u),this.#c.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),r=()=>{t.remove()};this.addCommands({cmd:e,undo:r,mustExec:!1})}getEditorByUID(t){for(const e of this.#a.values())if(e.uid===t)return e;return null}getNextId(){return this.#c.getId()}get#y(){return pu.#p.get(this.#c.getMode())}combinedSignal(t){return this.#c.combinedSignal(t)}#E(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#c.updateMode(t.mode);const{offsetX:r,offsetY:i}=this.#S(),a=this.getNextId(),o=this.#E({parent:this,id:a,x:r,y:i,uiManager:this.#c,isCentered:!0,...e});o&&this.add(o)}async deserialize(t){return await pu.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#c)||null}createAndAddNewEditor(t,e,r={}){const i=this.getNextId(),a=this.#E({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:this.#c,isCentered:e,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:t,y:e,width:r,height:i}=this.boundingClientRect,a=Math.max(0,t),o=Math.max(0,e),l=Math.min(window.innerWidth,t+r),c=Math.min(window.innerHeight,e+i),h=(a+l)/2-t,f=(o+c)/2-e,[p,v]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#c.setSelected(t)}toggleSelected(t){this.#c.toggleSelected(t)}unselect(t){this.#c.unselect(t)}pointerup(t){const{isMac:e}=na.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const r=this.#c.getMode();if(r===We.STAMP||r===We.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#c.getMode()===We.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:e}=na.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const r=this.#c.getActive();this.#e=!r||r.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#c,!1,t);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#f=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#c,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#f=e);return}this.#f&&setTimeout(()=>{this.#f?.focus(),this.#f=null},0)}endDrawingSession(t=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#f=null,this.#y.endDrawing(t)):null}findNewParent(t,e,r){const i=this.#c.findParent(e,r);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const t of this.#a.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#a.clear(),this.#c.removeLayer(this)}#A(){for(const t of this.#a.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Fh(this.div,t);for(const e of this.#c.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#c.commitOrRemove(),this.#A();const e=this.viewport.rotation,r=t.rotation;if(this.viewport=t,Fh(this.div,{rotation:r}),e!==r)for(const i of this.#a.values())i.rotate(r)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#c.viewParameters.realScale}}class Qi{#t=null;#e=new Map;#r=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Ve(this,"_svgFactory",new kv)}static#s(t,[e,r,i,a]){const{style:o}=t;o.top=`${100*r}%`,o.left=`${100*e}%`,o.width=`${100*i}%`,o.height=`${100*a}%`}#a(){const t=Qi._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#i(t,e){const r=Qi._svgFactory.createElement("clipPath");t.append(r);const i=`clip_${e}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=Qi._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),i}#o(t,e){for(const[r,i]of Object.entries(e))i===null?t.removeAttribute(r):t.setAttribute(r,i)}draw(t,e=!1,r=!1){const i=Qi.#n++,a=this.#a(),o=Qi._svgFactory.createElement("defs");a.append(o);const l=Qi._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#r.set(i,l);const h=r?this.#i(o,c):null,f=Qi._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(a,t),this.#e.set(i,a),{id:i,clipPathId:`url(#${h})`}}drawOutline(t,e){const r=Qi.#n++,i=this.#a(),a=Qi._svgFactory.createElement("defs");i.append(a);const o=Qi._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e){const p=Qi._svgFactory.createElement("mask");a.append(p),c=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const v=Qi._svgFactory.createElement("rect");p.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const g=Qi._svgFactory.createElement("use");p.append(g),g.setAttribute("href",`#${l}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const h=Qi._svgFactory.createElement("use");i.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const f=h.cloneNode();return i.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,t),this.#e.set(r,i),r}finalizeDraw(t,e){this.#r.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:r,bbox:i,rootClass:a,path:o}=e,l=typeof t=="number"?this.#e.get(t):t;if(l){if(r&&this.#o(l,r),i&&Qi.#s(l,i),a){const{classList:c}=l;for(const[h,f]of Object.entries(a))c.toggle(h,f)}if(o){const h=l.firstChild.firstChild;this.#o(h,o)}}}updateParent(t,e){if(e===this)return;const r=this.#e.get(t);r&&(e.#t.append(r),this.#e.delete(t),e.#e.set(t,r))}remove(t){this.#r.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:N5};globalThis.pdfjsLib={AbortException:kc,AnnotationEditorLayer:pu,AnnotationEditorParamsType:fn,AnnotationEditorType:We,AnnotationEditorUIManager:Lc,AnnotationLayer:nS,AnnotationMode:Ec,AnnotationType:ai,applyOpacity:cJ,build:vtt,ColorPicker:io,createValidAbsoluteUrl:QM,CSSConstants:uJ,DOMSVGFactory:kv,DrawLayer:Qi,FeatureTest:na,fetchData:Hg,findContrastColor:hJ,getDocument:AD,getFilenameFromUrl:rJ,getPdfFilenameFromUrl:iJ,getRGB:Gg,getUuid:eD,getXfaPageViewport:sJ,GlobalWorkerOptions:dd,ImageKind:O0,InvalidPDFException:A5,isDataScheme:M1,isPdfFile:Wx,isValidExplicitDest:AJ,MathClamp:Ta,noContextMenu:uo,normalizeUnicode:tJ,OPS:dg,OutputScale:Rl,PasswordResponses:GQ,PDFDataRangeTransport:xD,PDFDateString:x5,PDFWorker:gg,PermissionFlag:$Q,PixelsPerInch:Nd,RenderingCancelledException:Gx,renderRichText:iD,ResponseException:Pv,setLayerDimensions:Fh,shadow:Ve,SignatureExtractor:Jf,stopEvent:Ur,SupportedImageMimeTypes:S5,TextLayer:Ea,TouchManager:D1,updateUrlHash:JM,Util:ie,VerbosityLevel:N1,version:mtt,XfaLayer:rD};const qtt="/assets/pdf.worker.min-Cpi8b8z3.mjs";dd.workerSrc=qtt;const Htt=(n,t)=>{if(!n||!t)return 0;const[e,r]=n.split(":").map(Number),[i,a]=t.split(":").map(Number);let o=e*60+r,l=i*60+a;l<o&&(l+=1440);let c=l-o;c>60&&(c-=60),c<0&&(c=0);const h=Math.floor(c/60),f=c%60;return h+(f>=30?.5:0)},$tt=({text:n,items:t})=>{const r=n.lastIndexOf(""),i=r!==-1?n.substring(0,r):n,a=[],o=/(\d{1,2})\.(\d{1,2})\.(\d{4})/g,l=/(\d{2}):(\d{2})/g,c=[...i.matchAll(o)];if(c.length===0)throw new Error("Data Not Found");let h=c[0][2],f=parseInt(c[0][3],10)>2400?String(parseInt(c[0][3],10)-543):c[0][3];const p=t.filter(S=>["1.0","1.5","2.0","3.0"].includes(S.str.trim())),v={};p.forEach(S=>{const O=Math.round(S.y/5)*5;v[O]||(v[O]=[]),v[O].push(S)});let g=null,w=0;Object.entries(v).forEach(([S,O])=>{const C=new Set(O.map(N=>N.str.trim())).size;C>w&&(w=C,g=S)});const y=g?v[g]:[],x={"1.0":y.find(S=>S.str.trim()==="1.0"),"1.5":y.find(S=>S.str.trim()==="1.5"),"2.0":y.find(S=>S.str.trim()==="2.0"),"3.0":y.find(S=>S.str.trim()==="3.0")};!x["1.0"]&&!x["1.5"]&&(x["1.0"]=t.find(S=>S.str.trim()==="1.0"),x["1.5"]=t.find(S=>S.str.trim()==="1.5"),x["2.0"]=t.find(S=>S.str.trim()==="2.0"),x["3.0"]=t.find(S=>S.str.trim()==="3.0"));for(let S=0;S<c.length;S++){const O=c[S],C=c[S+1],N=O.index,k=C?C.index:i.length,R=i.substring(N,k),[,B,H,q]=O,rt=parseInt(q,10),D=rt>2400?rt-543:rt,z=String(D);let et=R.replace(/\([^)]*\)/g,"");et=et.replace(/(W|PH)\s+\d{2}:\d{2}\s+-\s+\d{2}:\d{2}/g,"");const tt=[...et.matchAll(l)];let dt=null,V=null,J=0;if(tt.length>=2){const X=tt.slice(-2);dt=X[0][0],V=X[1][0],J=Htt(dt,V)}const st={"1.0":0,"1.5":0,"2.0":0,"3.0":0},gt=t.find(X=>X.x<100&&X.str.trim().startsWith(B+".")&&X.str.includes(".")&&!X.str.includes("/")&&t.some(lt=>Math.abs(lt.y-X.y)<5&&lt.str.includes(H)&&lt.page===X.page)),kt=x["1.0"]||x["1.5"]||x["2.0"]||x["3.0"];if(gt&&kt){const X=t.filter(ct=>ct.page===gt.page&&Math.abs(ct.y-gt.y)<10&&/^\d+(\.\d+)?$/.test(ct.str.trim())&&!ct.str.includes(":"));[...new Set(X)].forEach(ct=>{const ht=parseFloat(ct.str);if(isNaN(ht))return;let _t=null,ut=1/0;Object.entries(x).forEach(([Et,Dt])=>{if(Dt){const At=Math.abs(ct.x-Dt.x);At<ut&&At<30&&(ut=At,_t=Et)}}),_t&&(st[_t]=ht)})}const I=new Date(`${z}-${H}-${B}`).getDay();let G;R.includes("PH")?G="holiday":I===0||I===6?G="weekend":dt?dt>"08:00"?G="late":G="workday":G="absent",a.push({id:S,dateStr:`${B}.${H}.${z}`,statusKey:G,workType:"normal",clockIn:dt,clockOut:V,netHours:J,ot:st})}return{data:a,month:h,year:f}},Gtt=async n=>{const t=await n.arrayBuffer(),e=await AD({data:t}).promise;let r="",i=[];for(let a=1;a<=e.numPages;a++){const l=await(await e.getPage(a)).getTextContent();r+=l.items.map(h=>h.str).join(" ")+" ";const c=l.items.map(h=>({str:h.str,x:h.transform[4],y:h.transform[5],page:a}));i=i.concat(c)}return{text:r,items:i}},Wtt="modulepreload",Vtt=function(n){return"/"+n},PO={},G2=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){let c=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(e.map(h=>{if(h=Vtt(h),h in PO)return;PO[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Wtt,f||(v.as="script"),v.crossOrigin="",v.href=h,l&&v.setAttribute("nonce",l),document.head.appendChild(v),f)return new Promise((g,w)=>{v.addEventListener("load",g),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Rn(n){"@babel/helpers - typeof";return Rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rn(n)}var Ko=Uint8Array,Ns=Uint16Array,sS=Int32Array,oS=new Ko([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lS=new Ko([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),NO=new Ko([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LD=function(n,t){for(var e=new Ns(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new sS(e[30]),r=1;r<30;++r)for(var a=e[r];a<e[r+1];++a)i[a]=a-e[r]<<5|r;return{b:e,r:i}},MD=LD(oS,2),Ytt=MD.b,M5=MD.r;Ytt[28]=258,M5[258]=28;var Ktt=LD(lS,0),kO=Ktt.r,D5=new Ns(32768);for(var lr=0;lr<32768;++lr){var wc=(lr&43690)>>1|(lr&21845)<<1;wc=(wc&52428)>>2|(wc&13107)<<2,wc=(wc&61680)>>4|(wc&3855)<<4,D5[lr]=((wc&65280)>>8|(wc&255)<<8)>>1}var Yp=(function(n,t,e){for(var r=n.length,i=0,a=new Ns(t);i<r;++i)n[i]&&++a[n[i]-1];var o=new Ns(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(e){l=new Ns(1<<t);var c=15-t;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],f=t-n[i],p=o[n[i]-1]++<<f,v=p|(1<<f)-1;p<=v;++p)l[D5[p]>>c]=h}else for(l=new Ns(r),i=0;i<r;++i)n[i]&&(l[i]=D5[o[n[i]-1]++]>>15-n[i]);return l}),Uh=new Ko(288);for(var lr=0;lr<144;++lr)Uh[lr]=8;for(var lr=144;lr<256;++lr)Uh[lr]=9;for(var lr=256;lr<280;++lr)Uh[lr]=7;for(var lr=280;lr<288;++lr)Uh[lr]=8;var Lv=new Ko(32);for(var lr=0;lr<32;++lr)Lv[lr]=5;var Xtt=Yp(Uh,9,0),Ztt=Yp(Lv,5,0),DD=function(n){return(n+7)/8|0},Qtt=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Ko(n.subarray(t,e))},hu=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},Fp=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},W2=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,a=e.slice();if(!i)return{t:ID,l:0};if(i==1){var o=new Ko(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(k,R){return k.f-R.f}),e.push({s:-1,f:25001});var l=e[0],c=e[1],h=0,f=1,p=2;for(e[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=e[e[h].f<e[p].f?h++:p++],c=e[h!=f&&e[h].f<e[p].f?h++:p++],e[f++]={s:-1,f:l.f+c.f,l,r:c};for(var v=a[0].s,r=1;r<i;++r)a[r].s>v&&(v=a[r].s);var g=new Ns(v+1),w=R5(e[f-1],g,0);if(w>t){var r=0,y=0,x=w-t,S=1<<x;for(a.sort(function(R,B){return g[B.s]-g[R.s]||R.f-B.f});r<i;++r){var O=a[r].s;if(g[O]>t)y+=S-(1<<w-g[O]),g[O]=t;else break}for(y>>=x;y>0;){var C=a[r].s;g[C]<t?y-=1<<t-g[C]++-1:++r}for(;r>=0&&y;--r){var N=a[r].s;g[N]==t&&(--g[N],++y)}w=t}return{t:new Ko(g),l:w}},R5=function(n,t,e){return n.s==-1?Math.max(R5(n.l,t,e+1),R5(n.r,t,e+1)):t[n.s]=e},LO=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Ns(++t),r=0,i=n[0],a=1,o=function(c){e[r++]=c},l=1;l<=t;++l)if(n[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=n[l]}return{c:e.subarray(0,r),n:t}},zp=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},RD=function(n,t,e){var r=e.length,i=DD(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=e[a];return(i+4+r)*8},MO=function(n,t,e,r,i,a,o,l,c,h,f){hu(t,f++,e),++i[256];for(var p=W2(i,15),v=p.t,g=p.l,w=W2(a,15),y=w.t,x=w.l,S=LO(v),O=S.c,C=S.n,N=LO(y),k=N.c,R=N.n,B=new Ns(19),H=0;H<O.length;++H)++B[O[H]&31];for(var H=0;H<k.length;++H)++B[k[H]&31];for(var q=W2(B,7),rt=q.t,D=q.l,z=19;z>4&&!rt[NO[z-1]];--z);var et=h+5<<3,tt=zp(i,Uh)+zp(a,Lv)+o,dt=zp(i,v)+zp(a,y)+o+14+3*z+zp(B,rt)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&et<=tt&&et<=dt)return RD(t,f,n.subarray(c,c+h));var V,J,st,gt;if(hu(t,f,1+(dt<tt)),f+=2,dt<tt){V=Yp(v,g,0),J=v,st=Yp(y,x,0),gt=y;var kt=Yp(rt,D,0);hu(t,f,C-257),hu(t,f+5,R-1),hu(t,f+10,z-4),f+=14;for(var H=0;H<z;++H)hu(t,f+3*H,rt[NO[H]]);f+=3*z;for(var Z=[O,k],I=0;I<2;++I)for(var G=Z[I],H=0;H<G.length;++H){var X=G[H]&31;hu(t,f,kt[X]),f+=rt[X],X>15&&(hu(t,f,G[H]>>5&127),f+=G[H]>>12)}}else V=Xtt,J=Uh,st=Ztt,gt=Lv;for(var H=0;H<l;++H){var lt=r[H];if(lt>255){var X=lt>>18&31;Fp(t,f,V[X+257]),f+=J[X+257],X>7&&(hu(t,f,lt>>23&31),f+=oS[X]);var ct=lt&31;Fp(t,f,st[ct]),f+=gt[ct],ct>3&&(Fp(t,f,lt>>5&8191),f+=lS[ct])}else Fp(t,f,V[lt]),f+=J[lt]}return Fp(t,f,V[256]),f+J[256]},Jtt=new sS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ID=new Ko(0),tet=function(n,t,e,r,i,a){var o=a.z||n.length,l=new Ko(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),h=a.l,f=(a.r||0)&7;if(t){f&&(c[0]=a.r>>3);for(var p=Jtt[t-1],v=p>>13,g=p&8191,w=(1<<e)-1,y=a.p||new Ns(32768),x=a.h||new Ns(w+1),S=Math.ceil(e/3),O=2*S,C=function(Vt){return(n[Vt]^n[Vt+1]<<S^n[Vt+2]<<O)&w},N=new sS(25e3),k=new Ns(288),R=new Ns(32),B=0,H=0,q=a.i||0,rt=0,D=a.w||0,z=0;q+2<o;++q){var et=C(q),tt=q&32767,dt=x[et];if(y[tt]=dt,x[et]=tt,D<=q){var V=o-q;if((B>7e3||rt>24576)&&(V>423||!h)){f=MO(n,c,0,N,k,R,H,rt,z,q-z,f),rt=B=H=0,z=q;for(var J=0;J<286;++J)k[J]=0;for(var J=0;J<30;++J)R[J]=0}var st=2,gt=0,kt=g,Z=tt-dt&32767;if(V>2&&et==C(q-Z))for(var I=Math.min(v,V)-1,G=Math.min(32767,q),X=Math.min(258,V);Z<=G&&--kt&&tt!=dt;){if(n[q+st]==n[q+st-Z]){for(var lt=0;lt<X&&n[q+lt]==n[q+lt-Z];++lt);if(lt>st){if(st=lt,gt=Z,lt>I)break;for(var ct=Math.min(Z,lt-2),ht=0,J=0;J<ct;++J){var _t=q-Z+J&32767,ut=y[_t],Et=_t-ut&32767;Et>ht&&(ht=Et,dt=_t)}}}tt=dt,dt=y[tt],Z+=tt-dt&32767}if(gt){N[rt++]=268435456|M5[st]<<18|kO[gt];var Dt=M5[st]&31,At=kO[gt]&31;H+=oS[Dt]+lS[At],++k[257+Dt],++R[At],D=q+st,++B}else N[rt++]=n[q],++k[n[q]]}}for(q=Math.max(q,D);q<o;++q)N[rt++]=n[q],++k[n[q]];f=MO(n,c,h,N,k,R,H,rt,z,q-z,f),h||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=x,a.p=y,a.i=q,a.w=D)}else{for(var q=a.w||0;q<o+h;q+=65535){var Wt=q+65535;Wt>=o&&(c[f/8|0]=h,Wt=o),f=RD(c,f+1,n.subarray(q,Wt))}a.i=o}return Qtt(l,0,r+DD(f)+i)},jD=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,a=e.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=r+=e[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},eet=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Ko(a.length+n.length);o.set(a),o.set(n,a.length),n=o,i.w=a.length}return tet(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},BD=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},net=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=jD();i.p(t.dictionary),BD(n,2,i.d())}};function I5(n,t){t||(t={});var e=jD();e.p(n);var r=eet(n,t,t.dictionary?6:2,4);return net(r,t),BD(r,r.length-4,e.d()),r}var ret=typeof TextDecoder<"u"&&new TextDecoder,iet=0;try{ret.decode(ID,{stream:!0}),iet=1}catch{}function aet(n){if(Array.isArray(n))return n}function set(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,i,a,o,l=[],c=!0,h=!1;try{if(a=(e=e.call(n)).next,t!==0)for(;!(c=(r=a.call(e)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){h=!0,i=f}finally{try{if(!c&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function DO(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function oet(n,t){if(n){if(typeof n=="string")return DO(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?DO(n,t):void 0}}function uet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RO(n,t){return aet(n)||set(n,t)||oet(n,t)||uet()}function IO(n,t="utf8"){return new TextDecoder(t).decode(n)}const cet=new TextEncoder;function het(n){return cet.encode(n)}const fet=1024*8,det=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),V2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class uS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=fet,e={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=e.offset?e.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof uS)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=V2[e].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===det&&e!=="uint8"&&e!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new V2[e](l.buffer);return this.offset+=r,c.reverse(),c}const o=new V2[e](a);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return IO(this.readBytes(t))}decodeText(t=1,e="utf8"){return IO(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(het(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qd(n){let t=n.length;for(;--t>=0;)n[t]=0}const pet=3,get=258,FD=29,met=256,vet=met+1+FD,zD=30,yet=512,bet=new Array((vet+2)*2);qd(bet);const wet=new Array(zD*2);qd(wet);const Aet=new Array(yet);qd(Aet);const xet=new Array(get-pet+1);qd(xet);const _et=new Array(FD);qd(_et);const Eet=new Array(zD);qd(Eet);const Cet=(n,t,e,r)=>{let i=n&65535|0,a=n>>>16&65535|0,o=0;for(;e!==0;){o=e>2e3?2e3:e,e-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var j5=Cet;const Tet=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},Oet=new Uint32Array(Tet()),Pet=(n,t,e,r)=>{const i=Oet,a=r+e;n^=-1;for(let o=r;o<a;o++)n=n>>>8^i[(n^t[o])&255];return n^-1};var _l=Pet,B5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},UD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Net=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var ket=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)Net(e,r)&&(n[r]=e[r])}}return n},Let=n=>{let t=0;for(let r=0,i=n.length;r<i;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,i=0,a=n.length;r<a;r++){let o=n[r];e.set(o,i),i+=o.length}return e},qD={assign:ket,flattenChunks:Let};let HD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HD=!1}const vg=new Uint8Array(256);for(let n=0;n<256;n++)vg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;vg[254]=vg[254]=1;var Met=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,i,a,o=n.length,l=0;for(i=0;i<o;i++)e=n.charCodeAt(i),(e&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)e=n.charCodeAt(i),(e&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),i++)),e<128?t[a++]=e:e<2048?(t[a++]=192|e>>>6,t[a++]=128|e&63):e<65536?(t[a++]=224|e>>>12,t[a++]=128|e>>>6&63,t[a++]=128|e&63):(t[a++]=240|e>>>18,t[a++]=128|e>>>12&63,t[a++]=128|e>>>6&63,t[a++]=128|e&63);return t};const Det=(n,t)=>{if(t<65534&&n.subarray&&HD)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var Ret=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,i;const a=new Array(e*2);for(i=0,r=0;r<e;){let o=n[r++];if(o<128){a[i++]=o;continue}let l=vg[o];if(l>4){a[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<e;)o=o<<6|n[r++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Det(a,i)},Iet=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+vg[n[e]]>t?e:t},F5={string2buf:Met,buf2string:Ret,utf8border:Iet};function jet(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Bet=jet;const p0=16209,Fet=16191;var zet=function(t,e){let r,i,a,o,l,c,h,f,p,v,g,w,y,x,S,O,C,N,k,R,B,H,q,rt;const D=t.state;r=t.next_in,q=t.input,i=r+(t.avail_in-5),a=t.next_out,rt=t.output,o=a-(e-t.avail_out),l=a+(t.avail_out-257),c=D.dmax,h=D.wsize,f=D.whave,p=D.wnext,v=D.window,g=D.hold,w=D.bits,y=D.lencode,x=D.distcode,S=(1<<D.lenbits)-1,O=(1<<D.distbits)-1;t:do{w<15&&(g+=q[r++]<<w,w+=8,g+=q[r++]<<w,w+=8),C=y[g&S];e:for(;;){if(N=C>>>24,g>>>=N,w-=N,N=C>>>16&255,N===0)rt[a++]=C&65535;else if(N&16){k=C&65535,N&=15,N&&(w<N&&(g+=q[r++]<<w,w+=8),k+=g&(1<<N)-1,g>>>=N,w-=N),w<15&&(g+=q[r++]<<w,w+=8,g+=q[r++]<<w,w+=8),C=x[g&O];n:for(;;){if(N=C>>>24,g>>>=N,w-=N,N=C>>>16&255,N&16){if(R=C&65535,N&=15,w<N&&(g+=q[r++]<<w,w+=8,w<N&&(g+=q[r++]<<w,w+=8)),R+=g&(1<<N)-1,R>c){t.msg="invalid distance too far back",D.mode=p0;break t}if(g>>>=N,w-=N,N=a-o,R>N){if(N=R-N,N>f&&D.sane){t.msg="invalid distance too far back",D.mode=p0;break t}if(B=0,H=v,p===0){if(B+=h-N,N<k){k-=N;do rt[a++]=v[B++];while(--N);B=a-R,H=rt}}else if(p<N){if(B+=h+p-N,N-=p,N<k){k-=N;do rt[a++]=v[B++];while(--N);if(B=0,p<k){N=p,k-=N;do rt[a++]=v[B++];while(--N);B=a-R,H=rt}}}else if(B+=p-N,N<k){k-=N;do rt[a++]=v[B++];while(--N);B=a-R,H=rt}for(;k>2;)rt[a++]=H[B++],rt[a++]=H[B++],rt[a++]=H[B++],k-=3;k&&(rt[a++]=H[B++],k>1&&(rt[a++]=H[B++]))}else{B=a-R;do rt[a++]=rt[B++],rt[a++]=rt[B++],rt[a++]=rt[B++],k-=3;while(k>2);k&&(rt[a++]=rt[B++],k>1&&(rt[a++]=rt[B++]))}}else if((N&64)===0){C=x[(C&65535)+(g&(1<<N)-1)];continue n}else{t.msg="invalid distance code",D.mode=p0;break t}break}}else if((N&64)===0){C=y[(C&65535)+(g&(1<<N)-1)];continue e}else if(N&32){D.mode=Fet;break t}else{t.msg="invalid literal/length code",D.mode=p0;break t}break}}while(r<i&&a<l);k=w>>3,r-=k,w-=k<<3,g&=(1<<w)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<l?257+(l-a):257-(a-l),D.hold=g,D.bits=w};const Wf=15,jO=852,BO=592,FO=0,Y2=1,zO=2,Uet=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),qet=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Het=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$et=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Get=(n,t,e,r,i,a,o,l)=>{const c=l.bits;let h=0,f=0,p=0,v=0,g=0,w=0,y=0,x=0,S=0,O=0,C,N,k,R,B,H=null,q;const rt=new Uint16Array(Wf+1),D=new Uint16Array(Wf+1);let z=null,et,tt,dt;for(h=0;h<=Wf;h++)rt[h]=0;for(f=0;f<r;f++)rt[t[e+f]]++;for(g=c,v=Wf;v>=1&&rt[v]===0;v--);if(g>v&&(g=v),v===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(p=1;p<v&&rt[p]===0;p++);for(g<p&&(g=p),x=1,h=1;h<=Wf;h++)if(x<<=1,x-=rt[h],x<0)return-1;if(x>0&&(n===FO||v!==1))return-1;for(D[1]=0,h=1;h<Wf;h++)D[h+1]=D[h]+rt[h];for(f=0;f<r;f++)t[e+f]!==0&&(o[D[t[e+f]]++]=f);if(n===FO?(H=z=o,q=20):n===Y2?(H=Uet,z=qet,q=257):(H=Het,z=$et,q=0),O=0,f=0,h=p,B=a,w=g,y=0,k=-1,S=1<<g,R=S-1,n===Y2&&S>jO||n===zO&&S>BO)return 1;for(;;){et=h-y,o[f]+1<q?(tt=0,dt=o[f]):o[f]>=q?(tt=z[o[f]-q],dt=H[o[f]-q]):(tt=96,dt=0),C=1<<h-y,N=1<<w,p=N;do N-=C,i[B+(O>>y)+N]=et<<24|tt<<16|dt|0;while(N!==0);for(C=1<<h-1;O&C;)C>>=1;if(C!==0?(O&=C-1,O+=C):O=0,f++,--rt[h]===0){if(h===v)break;h=t[e+o[f]]}if(h>g&&(O&R)!==k){for(y===0&&(y=g),B+=p,w=h-y,x=1<<w;w+y<v&&(x-=rt[w+y],!(x<=0));)w++,x<<=1;if(S+=1<<w,n===Y2&&S>jO||n===zO&&S>BO)return 1;k=O&R,i[k]=g<<24|w<<16|B-a|0}}return O!==0&&(i[B+O]=h-y<<24|64<<16|0),l.bits=g,0};var Kp=Get;const Wet=0,$D=1,GD=2,{Z_FINISH:UO,Z_BLOCK:Vet,Z_TREES:g0,Z_OK:qh,Z_STREAM_END:Yet,Z_NEED_DICT:Ket,Z_STREAM_ERROR:co,Z_DATA_ERROR:WD,Z_MEM_ERROR:VD,Z_BUF_ERROR:Xet,Z_DEFLATED:qO}=UD,j1=16180,HO=16181,$O=16182,GO=16183,WO=16184,VO=16185,YO=16186,KO=16187,XO=16188,ZO=16189,Mv=16190,fu=16191,K2=16192,QO=16193,X2=16194,JO=16195,tP=16196,eP=16197,nP=16198,m0=16199,v0=16200,rP=16201,iP=16202,aP=16203,sP=16204,oP=16205,Z2=16206,lP=16207,uP=16208,pr=16209,YD=16210,KD=16211,Zet=852,Qet=592,Jet=15,tnt=Jet,cP=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function ent(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kh=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<j1||t.mode>KD?1:0},XD=n=>{if(Kh(n))return co;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=j1,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Zet),t.distcode=t.distdyn=new Int32Array(Qet),t.sane=1,t.back=-1,qh},ZD=n=>{if(Kh(n))return co;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,XD(n)},QD=(n,t)=>{let e;if(Kh(n))return co;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?co:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,ZD(n))},JD=(n,t)=>{if(!n)return co;const e=new ent;n.state=e,e.strm=n,e.window=null,e.mode=j1;const r=QD(n,t);return r!==qh&&(n.state=null),r},nnt=n=>JD(n,tnt);let hP=!0,Q2,J2;const rnt=n=>{if(hP){Q2=new Int32Array(512),J2=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(Kp($D,n.lens,0,288,Q2,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;Kp(GD,n.lens,0,32,J2,0,n.work,{bits:5}),hP=!1}n.lencode=Q2,n.lenbits=9,n.distcode=J2,n.distbits=5},t8=(n,t,e,r)=>{let i;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(e-a.wsize,e),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(e-r,e-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(e-r,e),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},int=(n,t)=>{let e,r,i,a,o,l,c,h,f,p,v,g,w,y,x=0,S,O,C,N,k,R,B,H;const q=new Uint8Array(4);let rt,D;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kh(n)||!n.output||!n.input&&n.avail_in!==0)return co;e=n.state,e.mode===fu&&(e.mode=K2),o=n.next_out,i=n.output,c=n.avail_out,a=n.next_in,r=n.input,l=n.avail_in,h=e.hold,f=e.bits,p=l,v=c,H=qh;t:for(;;)switch(e.mode){case j1:if(e.wrap===0){e.mode=K2;break}for(;f<16;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(e.wrap&2&&h===35615){e.wbits===0&&(e.wbits=15),e.check=0,q[0]=h&255,q[1]=h>>>8&255,e.check=_l(e.check,q,2,0),h=0,f=0,e.mode=HO;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((h&255)<<8)+(h>>8))%31){n.msg="incorrect header check",e.mode=pr;break}if((h&15)!==qO){n.msg="unknown compression method",e.mode=pr;break}if(h>>>=4,f-=4,B=(h&15)+8,e.wbits===0&&(e.wbits=B),B>15||B>e.wbits){n.msg="invalid window size",e.mode=pr;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=h&512?ZO:fu,h=0,f=0;break;case HO:for(;f<16;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(e.flags=h,(e.flags&255)!==qO){n.msg="unknown compression method",e.mode=pr;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=pr;break}e.head&&(e.head.text=h>>8&1),e.flags&512&&e.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,e.check=_l(e.check,q,2,0)),h=0,f=0,e.mode=$O;case $O:for(;f<32;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}e.head&&(e.head.time=h),e.flags&512&&e.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,q[2]=h>>>16&255,q[3]=h>>>24&255,e.check=_l(e.check,q,4,0)),h=0,f=0,e.mode=GO;case GO:for(;f<16;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}e.head&&(e.head.xflags=h&255,e.head.os=h>>8),e.flags&512&&e.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,e.check=_l(e.check,q,2,0)),h=0,f=0,e.mode=WO;case WO:if(e.flags&1024){for(;f<16;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}e.length=h,e.head&&(e.head.extra_len=h),e.flags&512&&e.wrap&4&&(q[0]=h&255,q[1]=h>>>8&255,e.check=_l(e.check,q,2,0)),h=0,f=0}else e.head&&(e.head.extra=null);e.mode=VO;case VO:if(e.flags&1024&&(g=e.length,g>l&&(g=l),g&&(e.head&&(B=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(a,a+g),B)),e.flags&512&&e.wrap&4&&(e.check=_l(e.check,r,g,a)),l-=g,a+=g,e.length-=g),e.length))break t;e.length=0,e.mode=YO;case YO:if(e.flags&2048){if(l===0)break t;g=0;do B=r[a+g++],e.head&&B&&e.length<65536&&(e.head.name+=String.fromCharCode(B));while(B&&g<l);if(e.flags&512&&e.wrap&4&&(e.check=_l(e.check,r,g,a)),l-=g,a+=g,B)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=KO;case KO:if(e.flags&4096){if(l===0)break t;g=0;do B=r[a+g++],e.head&&B&&e.length<65536&&(e.head.comment+=String.fromCharCode(B));while(B&&g<l);if(e.flags&512&&e.wrap&4&&(e.check=_l(e.check,r,g,a)),l-=g,a+=g,B)break t}else e.head&&(e.head.comment=null);e.mode=XO;case XO:if(e.flags&512){for(;f<16;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(e.wrap&4&&h!==(e.check&65535)){n.msg="header crc mismatch",e.mode=pr;break}h=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=fu;break;case ZO:for(;f<32;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}n.adler=e.check=cP(h),h=0,f=0,e.mode=Mv;case Mv:if(e.havedict===0)return n.next_out=o,n.avail_out=c,n.next_in=a,n.avail_in=l,e.hold=h,e.bits=f,Ket;n.adler=e.check=1,e.mode=fu;case fu:if(t===Vet||t===g0)break t;case K2:if(e.last){h>>>=f&7,f-=f&7,e.mode=Z2;break}for(;f<3;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}switch(e.last=h&1,h>>>=1,f-=1,h&3){case 0:e.mode=QO;break;case 1:if(rnt(e),e.mode=m0,t===g0){h>>>=2,f-=2;break t}break;case 2:e.mode=tP;break;case 3:n.msg="invalid block type",e.mode=pr}h>>>=2,f-=2;break;case QO:for(h>>>=f&7,f-=f&7;f<32;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){n.msg="invalid stored block lengths",e.mode=pr;break}if(e.length=h&65535,h=0,f=0,e.mode=X2,t===g0)break t;case X2:e.mode=JO;case JO:if(g=e.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break t;i.set(r.subarray(a,a+g),o),l-=g,a+=g,c-=g,o+=g,e.length-=g;break}e.mode=fu;break;case tP:for(;f<14;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(e.nlen=(h&31)+257,h>>>=5,f-=5,e.ndist=(h&31)+1,h>>>=5,f-=5,e.ncode=(h&15)+4,h>>>=4,f-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=pr;break}e.have=0,e.mode=eP;case eP:for(;e.have<e.ncode;){for(;f<3;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}e.lens[z[e.have++]]=h&7,h>>>=3,f-=3}for(;e.have<19;)e.lens[z[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,rt={bits:e.lenbits},H=Kp(Wet,e.lens,0,19,e.lencode,0,e.work,rt),e.lenbits=rt.bits,H){n.msg="invalid code lengths set",e.mode=pr;break}e.have=0,e.mode=nP;case nP:for(;e.have<e.nlen+e.ndist;){for(;x=e.lencode[h&(1<<e.lenbits)-1],S=x>>>24,O=x>>>16&255,C=x&65535,!(S<=f);){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(C<16)h>>>=S,f-=S,e.lens[e.have++]=C;else{if(C===16){for(D=S+2;f<D;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(h>>>=S,f-=S,e.have===0){n.msg="invalid bit length repeat",e.mode=pr;break}B=e.lens[e.have-1],g=3+(h&3),h>>>=2,f-=2}else if(C===17){for(D=S+3;f<D;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}h>>>=S,f-=S,B=0,g=3+(h&7),h>>>=3,f-=3}else{for(D=S+7;f<D;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}h>>>=S,f-=S,B=0,g=11+(h&127),h>>>=7,f-=7}if(e.have+g>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=pr;break}for(;g--;)e.lens[e.have++]=B}}if(e.mode===pr)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=pr;break}if(e.lenbits=9,rt={bits:e.lenbits},H=Kp($D,e.lens,0,e.nlen,e.lencode,0,e.work,rt),e.lenbits=rt.bits,H){n.msg="invalid literal/lengths set",e.mode=pr;break}if(e.distbits=6,e.distcode=e.distdyn,rt={bits:e.distbits},H=Kp(GD,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,rt),e.distbits=rt.bits,H){n.msg="invalid distances set",e.mode=pr;break}if(e.mode=m0,t===g0)break t;case m0:e.mode=v0;case v0:if(l>=6&&c>=258){n.next_out=o,n.avail_out=c,n.next_in=a,n.avail_in=l,e.hold=h,e.bits=f,zet(n,v),o=n.next_out,i=n.output,c=n.avail_out,a=n.next_in,r=n.input,l=n.avail_in,h=e.hold,f=e.bits,e.mode===fu&&(e.back=-1);break}for(e.back=0;x=e.lencode[h&(1<<e.lenbits)-1],S=x>>>24,O=x>>>16&255,C=x&65535,!(S<=f);){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(O&&(O&240)===0){for(N=S,k=O,R=C;x=e.lencode[R+((h&(1<<N+k)-1)>>N)],S=x>>>24,O=x>>>16&255,C=x&65535,!(N+S<=f);){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}h>>>=N,f-=N,e.back+=N}if(h>>>=S,f-=S,e.back+=S,e.length=C,O===0){e.mode=oP;break}if(O&32){e.back=-1,e.mode=fu;break}if(O&64){n.msg="invalid literal/length code",e.mode=pr;break}e.extra=O&15,e.mode=rP;case rP:if(e.extra){for(D=e.extra;f<D;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}e.length+=h&(1<<e.extra)-1,h>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=iP;case iP:for(;x=e.distcode[h&(1<<e.distbits)-1],S=x>>>24,O=x>>>16&255,C=x&65535,!(S<=f);){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if((O&240)===0){for(N=S,k=O,R=C;x=e.distcode[R+((h&(1<<N+k)-1)>>N)],S=x>>>24,O=x>>>16&255,C=x&65535,!(N+S<=f);){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}h>>>=N,f-=N,e.back+=N}if(h>>>=S,f-=S,e.back+=S,O&64){n.msg="invalid distance code",e.mode=pr;break}e.offset=C,e.extra=O&15,e.mode=aP;case aP:if(e.extra){for(D=e.extra;f<D;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}e.offset+=h&(1<<e.extra)-1,h>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=pr;break}e.mode=sP;case sP:if(c===0)break t;if(g=v-c,e.offset>g){if(g=e.offset-g,g>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=pr;break}g>e.wnext?(g-=e.wnext,w=e.wsize-g):w=e.wnext-g,g>e.length&&(g=e.length),y=e.window}else y=i,w=o-e.offset,g=e.length;g>c&&(g=c),c-=g,e.length-=g;do i[o++]=y[w++];while(--g);e.length===0&&(e.mode=v0);break;case oP:if(c===0)break t;i[o++]=e.length,c--,e.mode=v0;break;case Z2:if(e.wrap){for(;f<32;){if(l===0)break t;l--,h|=r[a++]<<f,f+=8}if(v-=c,n.total_out+=v,e.total+=v,e.wrap&4&&v&&(n.adler=e.check=e.flags?_l(e.check,i,v,o-v):j5(e.check,i,v,o-v)),v=c,e.wrap&4&&(e.flags?h:cP(h))!==e.check){n.msg="incorrect data check",e.mode=pr;break}h=0,f=0}e.mode=lP;case lP:if(e.wrap&&e.flags){for(;f<32;){if(l===0)break t;l--,h+=r[a++]<<f,f+=8}if(e.wrap&4&&h!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=pr;break}h=0,f=0}e.mode=uP;case uP:H=Yet;break t;case pr:H=WD;break t;case YD:return VD;case KD:default:return co}return n.next_out=o,n.avail_out=c,n.next_in=a,n.avail_in=l,e.hold=h,e.bits=f,(e.wsize||v!==n.avail_out&&e.mode<pr&&(e.mode<Z2||t!==UO))&&t8(n,n.output,n.next_out,v-n.avail_out),p-=n.avail_in,v-=n.avail_out,n.total_in+=p,n.total_out+=v,e.total+=v,e.wrap&4&&v&&(n.adler=e.check=e.flags?_l(e.check,i,v,n.next_out-v):j5(e.check,i,v,n.next_out-v)),n.data_type=e.bits+(e.last?64:0)+(e.mode===fu?128:0)+(e.mode===m0||e.mode===X2?256:0),(p===0&&v===0||t===UO)&&H===qh&&(H=Xet),H},ant=n=>{if(Kh(n))return co;let t=n.state;return t.window&&(t.window=null),n.state=null,qh},snt=(n,t)=>{if(Kh(n))return co;const e=n.state;return(e.wrap&2)===0?co:(e.head=t,t.done=!1,qh)},ont=(n,t)=>{const e=t.length;let r,i,a;return Kh(n)||(r=n.state,r.wrap!==0&&r.mode!==Mv)?co:r.mode===Mv&&(i=1,i=j5(i,t,e,0),i!==r.check)?WD:(a=t8(n,t,e,e),a?(r.mode=YD,VD):(r.havedict=1,qh))};var lnt=ZD,unt=QD,cnt=XD,hnt=nnt,fnt=JD,dnt=int,pnt=ant,gnt=snt,mnt=ont,vnt="pako inflate (from Nodeca project)",mu={inflateReset:lnt,inflateReset2:unt,inflateResetKeep:cnt,inflateInit:hnt,inflateInit2:fnt,inflate:dnt,inflateEnd:pnt,inflateGetHeader:gnt,inflateSetDictionary:mnt,inflateInfo:vnt};function ynt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bnt=ynt;const e8=Object.prototype.toString,{Z_NO_FLUSH:wnt,Z_FINISH:Ant,Z_OK:yg,Z_STREAM_END:tw,Z_NEED_DICT:ew,Z_STREAM_ERROR:xnt,Z_DATA_ERROR:fP,Z_MEM_ERROR:Snt}=UD;function Kg(n){this.options=qD.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bet,this.strm.avail_out=0;let e=mu.inflateInit2(this.strm,t.windowBits);if(e!==yg)throw new Error(B5[e]);if(this.header=new bnt,mu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=F5.string2buf(t.dictionary):e8.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=mu.inflateSetDictionary(this.strm,t.dictionary),e!==yg)))throw new Error(B5[e])}Kg.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Ant:wnt,e8.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),a=mu.inflate(e,o),a===ew&&i&&(a=mu.inflateSetDictionary(e,i),a===yg?a=mu.inflate(e,o):a===fP&&(a=ew));e.avail_in>0&&a===tw&&e.state.wrap>0&&n[e.next_in]!==0;)mu.inflateReset(e),a=mu.inflate(e,o);switch(a){case xnt:case fP:case ew:case Snt:return this.onEnd(a),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||a===tw))if(this.options.to==="string"){let c=F5.utf8border(e.output,e.next_out),h=e.next_out-c,f=F5.buf2string(e.output,c);e.next_out=h,e.avail_out=r-h,h&&e.output.set(e.output.subarray(c,c+h),0),this.onData(f)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(a===yg&&l===0)){if(a===tw)return a=mu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Kg.prototype.onData=function(n){this.chunks.push(n)};Kg.prototype.onEnd=function(n){n===yg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qD.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function _nt(n,t){const e=new Kg(t);if(e.push(n),e.err)throw e.msg||B5[e.err];return e.result}var Ent=Kg,Cnt=_nt,Tnt={Inflate:Ent,inflate:Cnt};const{Inflate:Ont,inflate:Pnt}=Tnt;var dP=Ont,Nnt=Pnt;const n8=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;n8[n]=t}const pP=4294967295;function knt(n,t,e){let r=n;for(let i=0;i<e;i++)r=n8[(r^t[i])&255]^r>>>8;return r}function Lnt(n,t){return(knt(pP,n,t)^pP)>>>0}function gP(n,t,e){const r=n.readUint32(),i=Lnt(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${i}`)}function r8(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function i8(n,t,e,r){let i=0;for(;i<r;i++)t[i]=n[i];for(;i<e;i++)t[i]=n[i]+t[i-r]&255}function a8(n,t,e,r){let i=0;if(e.length===0)for(;i<r;i++)t[i]=n[i];else for(;i<r;i++)t[i]=n[i]+e[i]&255}function s8(n,t,e,r,i){let a=0;if(e.length===0){for(;a<i;a++)t[a]=n[a];for(;a<r;a++)t[a]=n[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=n[a]+(e[a]>>1)&255;for(;a<r;a++)t[a]=n[a]+(t[a-i]+e[a]>>1)&255}}function o8(n,t,e,r,i){let a=0;if(e.length===0){for(;a<i;a++)t[a]=n[a];for(;a<r;a++)t[a]=n[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=n[a]+e[a]&255;for(;a<r;a++)t[a]=n[a]+Mnt(t[a-i],e[a],e[a-i])&255}}function Mnt(n,t,e){const r=n+t-e,i=Math.abs(r-n),a=Math.abs(r-t),o=Math.abs(r-e);return i<=a&&i<=o?n:a<=o?t:e}function Dnt(n,t,e,r,i,a){switch(n){case 0:r8(t,e,i);break;case 1:i8(t,e,i,a);break;case 2:a8(t,e,r,i);break;case 3:s8(t,e,r,i,a);break;case 4:o8(t,e,r,i,a);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Rnt=new Uint16Array([255]),Int=new Uint8Array(Rnt.buffer),jnt=Int[0]===255;function Bnt(n){const{data:t,width:e,height:r,channels:i,depth:a}=n,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(r*e*l);let h=0;for(let f=0;f<7;f++){const p=o[f],v=Math.ceil((e-p.x)/p.xStep),g=Math.ceil((r-p.y)/p.yStep);if(v<=0||g<=0)continue;const w=v*l,y=new Uint8Array(w);for(let x=0;x<g;x++){const S=t[h++],O=t.subarray(h,h+w);h+=w;const C=new Uint8Array(w);Dnt(S,O,C,y,w,l),y.set(C);for(let N=0;N<v;N++){const k=p.x+N*p.xStep,R=p.y+x*p.yStep;if(!(k>=e||R>=r))for(let B=0;B<l;B++)c[(R*e+k)*l+B]=C[N*l+B]}}}if(a===16){const f=new Uint16Array(c.buffer);if(jnt)for(let p=0;p<f.length;p++)f[p]=Fnt(f[p]);return f}else return c}function Fnt(n){return(n&255)<<8|n>>8&255}const znt=new Uint16Array([255]),Unt=new Uint8Array(znt.buffer),qnt=Unt[0]===255,Hnt=new Uint8Array(0);function mP(n){const{data:t,width:e,height:r,channels:i,depth:a}=n,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*e),c=new Uint8Array(r*l);let h=Hnt,f=0,p,v;for(let g=0;g<r;g++){switch(p=t.subarray(f+1,f+1+l),v=c.subarray(g*l,(g+1)*l),t[f]){case 0:r8(p,v,l);break;case 1:i8(p,v,l,o);break;case 2:a8(p,v,h,l);break;case 3:s8(p,v,h,l,o);break;case 4:o8(p,v,h,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}h=v,f+=l+1}if(a===16){const g=new Uint16Array(c.buffer);if(qnt)for(let w=0;w<g.length;w++)g[w]=$nt(g[w]);return g}else return c}function $nt(n){return(n&255)<<8|n>>8&255}const k0=Uint8Array.of(137,80,78,71,13,10,26,10);function vP(n){if(!Gnt(n.readBytes(k0.length)))throw new Error("wrong PNG signature")}function Gnt(n){if(n.length<k0.length)return!1;for(let t=0;t<k0.length;t++)if(n[t]!==k0[t])return!1;return!0}const Wnt="tEXt",Vnt=0,l8=new TextDecoder("latin1");function Ynt(n){if(Xnt(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Knt=/^[\u0000-\u00FF]*$/;function Xnt(n){if(!Knt.test(n))throw new Error("invalid latin1 text")}function Znt(n,t,e){const r=u8(t);n[r]=Qnt(t,e-r.length-1)}function u8(n){for(n.mark();n.readByte()!==Vnt;);const t=n.offset;n.reset();const e=l8.decode(n.readBytes(t-n.offset-1));return n.skip(1),Ynt(e),e}function Qnt(n,t){return l8.decode(n.readBytes(t))}const _s={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nw={UNKNOWN:-1,DEFLATE:0},yP={UNKNOWN:-1,ADAPTIVE:0},rw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},y0={NONE:0,BACKGROUND:1,PREVIOUS:2},iw={SOURCE:0,OVER:1};class Jnt extends uS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new dP,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nw.UNKNOWN,this._filterMethod=yP.UNKNOWN,this._interlaceMethod=rw.UNKNOWN,this._colorType=_s.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(vP(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(vP(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Wnt:Znt(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?gP(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch(e!=="fdAT"&&e!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?gP(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=trt(this.readUint8());const e=this.readUint8();this._colorType=e;let r;switch(e){case _s.GREYSCALE:r=1;break;case _s.TRUECOLOUR:r=3;break;case _s.INDEXED_COLOUR:r=1;break;case _s.GREYSCALE_ALPHA:r=2;break;case _s.TRUECOLOUR_ALPHA:r=4;break;case _s.UNKNOWN:default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==nw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<e;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case _s.GREYSCALE:case _s.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break}case _s.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const r=this.readByte();this._palette[e].push(r)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}case _s.UNKNOWN:case _s.GREYSCALE_ALPHA:case _s.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=u8(this),r=this.readUint8();if(r!==nw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:Nnt(i)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=mP({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case y0.NONE:break;case y0.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*t.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)r.data[o+l]=0}break;case y0.PREVIOUS:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,i=(a,o)=>{const l=((a+e.yOffset)*this._png.width+e.xOffset+o)*this._png.channels,c=(a*e.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(e.blendOp){case iw.SOURCE:for(let a=0;a<e.height;a++)for(let o=0;o<e.width;o++){const{index:l,frameIndex:c}=i(a,o);for(let h=0;h<this._png.channels;h++)t.data[l+h]=e.data[c+h]}break;case iw.OVER:for(let a=0;a<e.height;a++)for(let o=0;o<e.width;o++){const{index:l,frameIndex:c}=i(a,o);for(let h=0;h<this._png.channels;h++){const f=e.data[c+this._png.channels-1]/r,p=h%(this._png.channels-1)===0?1:e.data[c+h],v=Math.floor(f*p+(1-f)*t.data[l+h]);t.data[l+h]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==yP.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rw.NO_INTERLACE)this._png.data=mP({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===rw.ADAM7)this._png.data=Bnt({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:y0.NONE,blendOp:iw.SOURCE,data:t}),this._inflator=new dP,this._writingDataChunks=!1}}function trt(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var bP;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(bP||(bP={}));function ert(n,t){return new Jnt(n,t).decode()}var Re=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function aw(){Re.console&&typeof Re.console.log=="function"&&Re.console.log.apply(Re.console,arguments)}var Kn={log:aw,warn:function(n){Re.console&&(typeof Re.console.warn=="function"?Re.console.warn.apply(Re.console,arguments):aw.call(null,arguments))},error:function(n){Re.console&&(typeof Re.console.error=="function"?Re.console.error.apply(Re.console,arguments):aw(n))}};function sw(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){yh(r.response,t,e)},r.onerror=function(){Kn.error("could not download file")},r.send()}function wP(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function b0(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var yh=Re.saveAs||((typeof window>"u"?"undefined":Rn(window))!=="object"||window!==Re?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Re.URL||Re.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?wP(i.href)?sw(n,t,e):b0(i,i.target="_blank"):b0(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){b0(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(wP(n))sw(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){b0(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Rn(a)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return sw(n,t,e);var i=n.type==="application/octet-stream",a=/constructor/i.test(Re.HTMLElement)||Re.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Rn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(n)}else{var c=Re.URL||Re.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});function c8(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,a=e[r].process,o=i.exec(n);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+l+c+h}}var L0=Re.atob.bind(Re),AP=Re.btoa.bind(Re);function ow(n,t){var e=n[0],r=n[1],i=n[2],a=n[3];e=oa(e,r,i,a,t[0],7,-680876936),a=oa(a,e,r,i,t[1],12,-389564586),i=oa(i,a,e,r,t[2],17,606105819),r=oa(r,i,a,e,t[3],22,-1044525330),e=oa(e,r,i,a,t[4],7,-176418897),a=oa(a,e,r,i,t[5],12,1200080426),i=oa(i,a,e,r,t[6],17,-1473231341),r=oa(r,i,a,e,t[7],22,-45705983),e=oa(e,r,i,a,t[8],7,1770035416),a=oa(a,e,r,i,t[9],12,-1958414417),i=oa(i,a,e,r,t[10],17,-42063),r=oa(r,i,a,e,t[11],22,-1990404162),e=oa(e,r,i,a,t[12],7,1804603682),a=oa(a,e,r,i,t[13],12,-40341101),i=oa(i,a,e,r,t[14],17,-1502002290),e=la(e,r=oa(r,i,a,e,t[15],22,1236535329),i,a,t[1],5,-165796510),a=la(a,e,r,i,t[6],9,-1069501632),i=la(i,a,e,r,t[11],14,643717713),r=la(r,i,a,e,t[0],20,-373897302),e=la(e,r,i,a,t[5],5,-701558691),a=la(a,e,r,i,t[10],9,38016083),i=la(i,a,e,r,t[15],14,-660478335),r=la(r,i,a,e,t[4],20,-405537848),e=la(e,r,i,a,t[9],5,568446438),a=la(a,e,r,i,t[14],9,-1019803690),i=la(i,a,e,r,t[3],14,-187363961),r=la(r,i,a,e,t[8],20,1163531501),e=la(e,r,i,a,t[13],5,-1444681467),a=la(a,e,r,i,t[2],9,-51403784),i=la(i,a,e,r,t[7],14,1735328473),e=ua(e,r=la(r,i,a,e,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ua(a,e,r,i,t[8],11,-2022574463),i=ua(i,a,e,r,t[11],16,1839030562),r=ua(r,i,a,e,t[14],23,-35309556),e=ua(e,r,i,a,t[1],4,-1530992060),a=ua(a,e,r,i,t[4],11,1272893353),i=ua(i,a,e,r,t[7],16,-155497632),r=ua(r,i,a,e,t[10],23,-1094730640),e=ua(e,r,i,a,t[13],4,681279174),a=ua(a,e,r,i,t[0],11,-358537222),i=ua(i,a,e,r,t[3],16,-722521979),r=ua(r,i,a,e,t[6],23,76029189),e=ua(e,r,i,a,t[9],4,-640364487),a=ua(a,e,r,i,t[12],11,-421815835),i=ua(i,a,e,r,t[15],16,530742520),e=ca(e,r=ua(r,i,a,e,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ca(a,e,r,i,t[7],10,1126891415),i=ca(i,a,e,r,t[14],15,-1416354905),r=ca(r,i,a,e,t[5],21,-57434055),e=ca(e,r,i,a,t[12],6,1700485571),a=ca(a,e,r,i,t[3],10,-1894986606),i=ca(i,a,e,r,t[10],15,-1051523),r=ca(r,i,a,e,t[1],21,-2054922799),e=ca(e,r,i,a,t[8],6,1873313359),a=ca(a,e,r,i,t[15],10,-30611744),i=ca(i,a,e,r,t[6],15,-1560198380),r=ca(r,i,a,e,t[13],21,1309151649),e=ca(e,r,i,a,t[4],6,-145523070),a=ca(a,e,r,i,t[11],10,-1120210379),i=ca(i,a,e,r,t[2],15,718787259),r=ca(r,i,a,e,t[9],21,-343485551),n[0]=Tc(e,n[0]),n[1]=Tc(r,n[1]),n[2]=Tc(i,n[2]),n[3]=Tc(a,n[3])}function B1(n,t,e,r,i,a){return t=Tc(Tc(t,n),Tc(r,a)),Tc(t<<i|t>>>32-i,e)}function oa(n,t,e,r,i,a,o){return B1(t&e|~t&r,n,t,i,a,o)}function la(n,t,e,r,i,a,o){return B1(t&r|e&~r,n,t,i,a,o)}function ua(n,t,e,r,i,a,o){return B1(t^e^r,n,t,i,a,o)}function ca(n,t,e,r,i,a,o){return B1(e^(t|~r),n,t,i,a,o)}function h8(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)ow(r,nrt(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(ow(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,ow(r,i),r}function nrt(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var xP="0123456789abcdef".split("");function rrt(n){for(var t="",e=0;e<4;e++)t+=xP[n>>8*e+4&15]+xP[n>>8*e&15];return t}function irt(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function z5(n){return h8(n).map(irt).join("")}var art=(function(n){for(var t=0;t<n.length;t++)n[t]=rrt(n[t]);return n.join("")})(h8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Tc(n,t){if(art){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function U5(n,t){var e,r,i,a;if(n!==e){for(var o=(i=n,a=1+(256/n.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var h=0;for(c=0;c<256;c++){var f=l[c];h=(h+f+o.charCodeAt(c))%256,l[c]=l[h],l[h]=f}e=n,r=l}else l=r;var p=t.length,v=0,g=0,w="";for(c=0;c<p;c++)g=(g+(f=l[v=(v+1)%256]))%256,l[v]=l[g],l[g]=f,o=l[(l[v]+l[g])%256],w+=String.fromCharCode(t.charCodeAt(c)^o);return w}var SP={print:4,modify:8,copy:16,"annot-forms":32};function td(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(SP.perm!==void 0)throw new Error("Invalid permission: "+l);i+=SP[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=z5(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=U5(this.encryptionKey,this.padding)}function ed(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return t}function _P(n){if(Rn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[r,!!i],a},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[e]){var o=t[e][a];try{o[0].apply(n,r)}catch(l){Re.console&&Kn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Dv(n){if(!(this instanceof Dv))return new Dv(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function f8(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function bh(n,t,e,r,i){if(!(this instanceof bh))return new bh(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,f8.call(this,r,i)}function od(n,t,e,r,i){if(!(this instanceof od))return new od(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,f8.call(this,r,i)}function pe(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,h="S",f=null;Rn(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),o=n.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",e=(""+(e||"P")).toLowerCase();var p=n.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=_P;var w="1.3",y=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(T){w=T};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return x};var S=g.__private__.getPageFormat=function(T){return x[T]};i=i||"a4";var O="compat",C="advanced",N=O;function k(){this.saveGraphicsState(),nt(new ve(je,0,0,-je,0,xo()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),h="n",N=C}function R(){this.restoreGraphicsState(),h="S",N=O}var B=g.__private__.combineFontStyleAndFontWeight=function(T,F){if(T=="bold"&&F=="normal"||T=="bold"&&F==400||T=="normal"&&F=="italic"||T=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(T=F==400||F==="normal"?T==="italic"?"italic":"normal":F!=700&&F!=="bold"||T!=="normal"?(F==700?"bold":F)+""+T:"bold"),T};g.advancedAPI=function(T){var F=N===O;return F&&k.call(this),typeof T!="function"||(T(this),F&&R.call(this)),this},g.compatAPI=function(T){var F=N===C;return F&&R.call(this),typeof T!="function"||(T(this),F&&k.call(this)),this},g.isAdvancedAPI=function(){return N===C};var H,q=function(T){if(N!==C)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},rt=g.roundToPrecision=g.__private__.roundToPrecision=function(T,F){var ot=t||F;if(isNaN(T)||isNaN(ot))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ot).replace(/0+$/,"")};H=g.hpf=g.__private__.hpf=typeof c=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return rt(T,c)}:c==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return rt(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return rt(T,16)};var D=g.f2=g.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return rt(T,2)},z=g.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return rt(T,3)},et=g.scale=g.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return N===O?T*je:N===C?T:void 0},tt=function(T){return et((function(F){return N===O?xo()-F:N===C?F:void 0})(T))};g.__private__.setPrecision=g.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var dt,V="00000000000000000000000000000000",J=g.__private__.getFileId=function(){return V},st=g.__private__.setFileId=function(T){return V=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(qr=new td(f.userPermissions,f.userPassword,f.ownerPassword,V)),V};g.setFileId=function(T){return st(T),this},g.getFileId=function(){return J()};var gt=g.__private__.convertDateToPDFDate=function(T){var F=T.getTimezoneOffset(),ot=F<0?"+":"-",pt=Math.floor(Math.abs(F/60)),bt=Math.abs(F%60),Bt=[ot,X(pt),"'",X(bt),"'"].join("");return["D:",T.getFullYear(),X(T.getMonth()+1),X(T.getDate()),X(T.getHours()),X(T.getMinutes()),X(T.getSeconds()),Bt].join("")},kt=g.__private__.convertPDFDateToDate=function(T){var F=parseInt(T.substr(2,4),10),ot=parseInt(T.substr(6,2),10)-1,pt=parseInt(T.substr(8,2),10),bt=parseInt(T.substr(10,2),10),Bt=parseInt(T.substr(12,2),10),Ht=parseInt(T.substr(14,2),10);return new Date(F,ot,pt,bt,Bt,Ht,0)},Z=g.__private__.setCreationDate=function(T){var F;if(T===void 0&&(T=new Date),T instanceof Date)F=gt(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=T}return dt=F},I=g.__private__.getCreationDate=function(T){var F=dt;return T==="jsDate"&&(F=kt(dt)),F};g.setCreationDate=function(T){return Z(T),this},g.getCreationDate=function(T){return I(T)};var G,X=g.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},lt=g.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},ct=0,ht=[],_t=[],ut=0,Et=[],Dt=[],At=!1,Wt=_t;g.__private__.setCustomOutputDestination=function(T){At=!0,Wt=T};var Vt=function(T){At||(Wt=T)};g.__private__.resetCustomOutputDestination=function(){At=!1,Wt=_t};var nt=g.__private__.out=function(T){return T=T.toString(),ut+=T.length+1,Wt.push(T),Wt},Yt=g.__private__.write=function(T){return nt(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Ne=g.__private__.getArrayBuffer=function(T){for(var F=T.length,ot=new ArrayBuffer(F),pt=new Uint8Array(ot);F--;)pt[F]=T.charCodeAt(F);return ot},ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ge};var $t=n.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(T){return $t=N===C?T/je:T,this};var be,Qt=g.__private__.getFontSize=g.getFontSize=function(){return N===O?$t:$t*je},_e=n.R2L||!1;g.__private__.setR2L=g.setR2L=function(T){return _e=T,this},g.__private__.getR2L=g.getR2L=function(){return _e};var me,Be=g.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))be=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');be=T}else be=parseInt(T,10)};g.__private__.getZoomMode=function(){return be};var Qe,Ie=g.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');me=T};g.__private__.getPageMode=function(){return me};var Je=g.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');Qe=T};g.__private__.getLayoutMode=function(){return Qe},g.__private__.setDisplayMode=g.setDisplayMode=function(T,F,ot){return Be(T),Je(F),Ie(ot),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(T){if(Object.keys(Ye).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[T]},g.__private__.getDocumentProperties=function(){return Ye},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(T){for(var F in Ye)Ye.hasOwnProperty(F)&&T[F]&&(Ye[F]=T[F]);return this},g.__private__.setDocumentProperty=function(T,F){if(Object.keys(Ye).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[T]=F};var oe,je,fe,wr,Ze,Ee={},Le={},tn=[],we={},jn={},Oe={},Me={},Pn=null,$e=0,de=[],ln=new _P(g),ss=n.hotfixes||[],_i={},Ms={},Ma=[],ve=function T(F,ot,pt,bt,Bt,Ht){if(!(this instanceof T))return new T(F,ot,pt,bt,Bt,Ht);isNaN(F)&&(F=1),isNaN(ot)&&(ot=0),isNaN(pt)&&(pt=0),isNaN(bt)&&(bt=1),isNaN(Bt)&&(Bt=0),isNaN(Ht)&&(Ht=0),this._matrix=[F,ot,pt,bt,Bt,Ht]};Object.defineProperty(ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ve.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(T)},ve.prototype.multiply=function(T){var F=T.sx*this.sx+T.shy*this.shx,ot=T.sx*this.shy+T.shy*this.sy,pt=T.shx*this.sx+T.sy*this.shx,bt=T.shx*this.shy+T.sy*this.sy,Bt=T.tx*this.sx+T.ty*this.shx+this.tx,Ht=T.tx*this.shy+T.ty*this.sy+this.ty;return new ve(F,ot,pt,bt,Bt,Ht)},ve.prototype.decompose=function(){var T=this.sx,F=this.shy,ot=this.shx,pt=this.sy,bt=this.tx,Bt=this.ty,Ht=Math.sqrt(T*T+F*F),ne=(T/=Ht)*ot+(F/=Ht)*pt;ot-=T*ne,pt-=F*ne;var le=Math.sqrt(ot*ot+pt*pt);return ne/=le,T*(pt/=le)<F*(ot/=le)&&(T=-T,F=-F,ne=-ne,Ht=-Ht),{scale:new ve(Ht,0,0,le,0,0),translate:new ve(1,0,0,1,bt,Bt),rotate:new ve(T,F,-F,T,0,0),skew:new ve(1,0,ne,1,0,0)}},ve.prototype.toString=function(T){return this.join(" ")},ve.prototype.inversed=function(){var T=this.sx,F=this.shy,ot=this.shx,pt=this.sy,bt=this.tx,Bt=this.ty,Ht=1/(T*pt-F*ot),ne=pt*Ht,le=-F*Ht,ke=-ot*Ht,Fe=T*Ht;return new ve(ne,le,ke,Fe,-ne*bt-ke*Bt,-le*bt-Fe*Bt)},ve.prototype.applyToPoint=function(T){var F=T.x*this.sx+T.y*this.shx+this.tx,ot=T.x*this.shy+T.y*this.sy+this.ty;return new Ia(F,ot)},ve.prototype.applyToRectangle=function(T){var F=this.applyToPoint(T),ot=this.applyToPoint(new Ia(T.x+T.w,T.y+T.h));return new vo(F.x,F.y,ot.x-F.x,ot.y-F.y)},ve.prototype.clone=function(){var T=this.sx,F=this.shy,ot=this.shx,pt=this.sy,bt=this.tx,Bt=this.ty;return new ve(T,F,ot,pt,bt,Bt)},g.Matrix=ve;var fo=g.matrixMult=function(T,F){return F.multiply(T)},Ds=new ve(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ds;var pa=function(T,F){if(!jn[T]){var ot=(F instanceof bh?"Sh":"P")+(Object.keys(we).length+1).toString(10);F.id=ot,jn[T]=ot,we[ot]=F,ln.publish("addPattern",F)}};g.ShadingPattern=bh,g.TilingPattern=od,g.addShadingPattern=function(T,F){return q("addShadingPattern()"),pa(T,F),this},g.beginTilingPattern=function(T){q("beginTilingPattern()"),Hl(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},g.endTilingPattern=function(T,F){q("endTilingPattern()"),F.stream=Dt[G].join(`
`),pa(T,F),ln.publish("endTilingPattern",F),Ma.pop().restore()};var ga,Qn=g.__private__.newObject=function(){var T=Nr();return Qr(T,!0),T},Nr=g.__private__.newObjectDeferred=function(){return ct++,ht[ct]=function(){return ut},ct},Qr=function(T,F){return F=typeof F=="boolean"&&F,ht[T]=ut,F&&nt(T+" 0 obj"),T},tl=g.__private__.newAdditionalObject=function(){var T={objId:Nr(),content:""};return Et.push(T),T},qi=Nr(),Nn=Nr(),er=g.__private__.decodeColorString=function(T){var F=T.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ot=parseFloat(F[0]);F=[ot,ot,ot,"r"]}for(var pt="#",bt=0;bt<3;bt++)pt+=("0"+Math.floor(255*parseFloat(F[bt])).toString(16)).slice(-2);return pt},Ei=g.__private__.encodeColorString=function(T){var F;typeof T=="string"&&(T={ch1:T});var ot=T.ch1,pt=T.ch2,bt=T.ch3,Bt=T.ch4,Ht=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ot=="string"&&ot.charAt(0)!=="#"){var ne=new c8(ot);if(ne.ok)ot=ne.toHex();else if(!/^\d*\.?\d*$/.test(ot))throw new Error('Invalid color "'+ot+'" passed to jsPDF.encodeColorString.')}if(typeof ot=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ot)&&(ot="#"+ot[1]+ot[1]+ot[2]+ot[2]+ot[3]+ot[3]),typeof ot=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ot)){var le=parseInt(ot.substr(1),16);ot=le>>16&255,pt=le>>8&255,bt=255&le}if(pt===void 0||Bt===void 0&&ot===pt&&pt===bt)F=typeof ot=="string"?ot+" "+Ht[0]:T.precision===2?D(ot/255)+" "+Ht[0]:z(ot/255)+" "+Ht[0];else if(Bt===void 0||Rn(Bt)==="object"){if(Bt&&!isNaN(Bt.a)&&Bt.a===0)return["1.","1.","1.",Ht[1]].join(" ");F=typeof ot=="string"?[ot,pt,bt,Ht[1]].join(" "):T.precision===2?[D(ot/255),D(pt/255),D(bt/255),Ht[1]].join(" "):[z(ot/255),z(pt/255),z(bt/255),Ht[1]].join(" ")}else F=typeof ot=="string"?[ot,pt,bt,Bt,Ht[2]].join(" "):T.precision===2?[D(ot),D(pt),D(bt),D(Bt),Ht[2]].join(" "):[z(ot),z(pt),z(bt),z(Bt),Ht[2]].join(" ");return F},ma=g.__private__.getFilters=function(){return o},Da=g.__private__.putStream=function(T){var F=(T=T||{}).data||"",ot=T.filters||ma(),pt=T.alreadyAppliedFilters||[],bt=T.addLength1||!1,Bt=F.length,Ht=T.objectId,ne=function(Hr){return Hr};if(f!==null&&Ht===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ne=qr.encryptor(Ht,0));var le={};ot===!0&&(ot=["FlateEncode"]);var ke=T.additionalKeyValues||[],Fe=(le=pe.API.processDataByFilters!==void 0?pe.API.processDataByFilters(F,ot):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(pt)?pt.join(" "):pt.toString());if(le.data.length!==0&&(ke.push({key:"Length",value:le.data.length}),bt===!0&&ke.push({key:"Length1",value:Bt})),Fe.length!=0)if(Fe.split("/").length-1==1)ke.push({key:"Filter",value:Fe});else{ke.push({key:"Filter",value:"["+Fe+"]"});for(var un=0;un<ke.length;un+=1)if(ke[un].key==="DecodeParms"){for(var nr=[],xr=0;xr<le.reverseChain.split("/").length-1;xr+=1)nr.push("null");nr.push(ke[un].value),ke[un].value="["+nr.join(" ")+"]"}}nt("<<");for(var Bn=0;Bn<ke.length;Bn++)nt("/"+ke[Bn].key+" "+ke[Bn].value);nt(">>"),le.data.length!==0&&(nt("stream"),nt(ne(le.data)),nt("endstream"))},jl=g.__private__.putPage=function(T){var F=T.number,ot=T.data,pt=T.objId,bt=T.contentsObjId;Qr(pt,!0),nt("<</Type /Page"),nt("/Parent "+T.rootDictionaryObjId+" 0 R"),nt("/Resources "+T.resourceDictionaryObjId+" 0 R"),nt("/MediaBox ["+parseFloat(H(T.mediaBox.bottomLeftX))+" "+parseFloat(H(T.mediaBox.bottomLeftY))+" "+H(T.mediaBox.topRightX)+" "+H(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&nt("/CropBox ["+H(T.cropBox.bottomLeftX)+" "+H(T.cropBox.bottomLeftY)+" "+H(T.cropBox.topRightX)+" "+H(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&nt("/BleedBox ["+H(T.bleedBox.bottomLeftX)+" "+H(T.bleedBox.bottomLeftY)+" "+H(T.bleedBox.topRightX)+" "+H(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&nt("/TrimBox ["+H(T.trimBox.bottomLeftX)+" "+H(T.trimBox.bottomLeftY)+" "+H(T.trimBox.topRightX)+" "+H(T.trimBox.topRightY)+"]"),T.artBox!==null&&nt("/ArtBox ["+H(T.artBox.bottomLeftX)+" "+H(T.artBox.bottomLeftY)+" "+H(T.artBox.topRightX)+" "+H(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&nt("/UserUnit "+T.userUnit),ln.publish("putPage",{objId:pt,pageContext:de[F],pageNumber:F,page:ot}),nt("/Contents "+bt+" 0 R"),nt(">>"),nt("endobj");var Bt=ot.join(`
`);return N===C&&(Bt+=`
Q`),Qr(bt,!0),Da({data:Bt,filters:ma(),objectId:bt}),nt("endobj"),pt},os=g.__private__.putPages=function(){var T,F,ot=[];for(T=1;T<=$e;T++)de[T].objId=Nr(),de[T].contentsObjId=Nr();for(T=1;T<=$e;T++)ot.push(jl({number:T,data:Dt[T],objId:de[T].objId,contentsObjId:de[T].contentsObjId,mediaBox:de[T].mediaBox,cropBox:de[T].cropBox,bleedBox:de[T].bleedBox,trimBox:de[T].trimBox,artBox:de[T].artBox,userUnit:de[T].userUnit,rootDictionaryObjId:qi,resourceDictionaryObjId:Nn}));Qr(qi,!0),nt("<</Type /Pages");var pt="/Kids [";for(F=0;F<$e;F++)pt+=ot[F]+" 0 R ";nt(pt+"]"),nt("/Count "+$e),nt(">>"),nt("endobj"),ln.publish("postPutPages")},ls=function(T){ln.publish("putFont",{font:T,out:nt,newObject:Qn,putStream:Da}),T.isAlreadyPutted!==!0&&(T.objectNumber=Qn(),nt("<<"),nt("/Type /Font"),nt("/BaseFont /"+ed(T.postScriptName)),nt("/Subtype /Type1"),typeof T.encoding=="string"&&nt("/Encoding /"+T.encoding),nt("/FirstChar 32"),nt("/LastChar 255"),nt(">>"),nt("endobj"))},el=function(T){T.objectNumber=Qn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[H(T.x),H(T.y),H(T.x+T.width),H(T.y+T.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ot=T.pages[1].join(`
`);Da({data:ot,additionalKeyValues:F,objectId:T.objectNumber}),nt("endobj")},us=function(T,F){F||(F=21);var ot=Qn(),pt=(function(Ht,ne){var le,ke=[],Fe=1/(ne-1);for(le=0;le<1;le+=Fe)ke.push(le);if(ke.push(1),Ht[0].offset!=0){var un={offset:0,color:Ht[0].color};Ht.unshift(un)}if(Ht[Ht.length-1].offset!=1){var nr={offset:1,color:Ht[Ht.length-1].color};Ht.push(nr)}for(var xr="",Bn=0,Hr=0;Hr<ke.length;Hr++){for(le=ke[Hr];le>Ht[Bn+1].offset;)Bn++;var Lr=Ht[Bn].offset,ci=(le-Lr)/(Ht[Bn+1].offset-Lr),So=Ht[Bn].color,gs=Ht[Bn+1].color;xr+=lt(Math.round((1-ci)*So[0]+ci*gs[0]).toString(16))+lt(Math.round((1-ci)*So[1]+ci*gs[1]).toString(16))+lt(Math.round((1-ci)*So[2]+ci*gs[2]).toString(16))}return xr.trim()})(T.colors,F),bt=[];bt.push({key:"FunctionType",value:"0"}),bt.push({key:"Domain",value:"[0.0 1.0]"}),bt.push({key:"Size",value:"["+F+"]"}),bt.push({key:"BitsPerSample",value:"8"}),bt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),bt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Da({data:pt,additionalKeyValues:bt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ot}),nt("endobj"),T.objectNumber=Qn(),nt("<< /ShadingType "+T.type),nt("/ColorSpace /DeviceRGB");var Bt="/Coords ["+H(parseFloat(T.coords[0]))+" "+H(parseFloat(T.coords[1]))+" ";T.type===2?Bt+=H(parseFloat(T.coords[2]))+" "+H(parseFloat(T.coords[3])):Bt+=H(parseFloat(T.coords[2]))+" "+H(parseFloat(T.coords[3]))+" "+H(parseFloat(T.coords[4]))+" "+H(parseFloat(T.coords[5])),nt(Bt+="]"),T.matrix&&nt("/Matrix ["+T.matrix.toString()+"]"),nt("/Function "+ot+" 0 R"),nt("/Extend [true true]"),nt(">>"),nt("endobj")},cs=function(T,F){var ot=Nr(),pt=Qn();F.push({resourcesOid:ot,objectOid:pt}),T.objectNumber=pt;var bt=[];bt.push({key:"Type",value:"/Pattern"}),bt.push({key:"PatternType",value:"1"}),bt.push({key:"PaintType",value:"1"}),bt.push({key:"TilingType",value:"1"}),bt.push({key:"BBox",value:"["+T.boundingBox.map(H).join(" ")+"]"}),bt.push({key:"XStep",value:H(T.xStep)}),bt.push({key:"YStep",value:H(T.yStep)}),bt.push({key:"Resources",value:ot+" 0 R"}),T.matrix&&bt.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Da({data:T.stream,additionalKeyValues:bt,objectId:T.objectNumber}),nt("endobj")},Bl=function(T){for(var F in T.objectNumber=Qn(),nt("<<"),T)switch(F){case"opacity":nt("/ca "+D(T[F]));break;case"stroke-opacity":nt("/CA "+D(T[F]))}nt(">>"),nt("endobj")},Rs=function(T){Qr(T.resourcesOid,!0),nt("<<"),nt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var F in nt("/Font <<"),Ee)Ee.hasOwnProperty(F)&&(p===!1||p===!0&&v.hasOwnProperty(F))&&nt("/"+F+" "+Ee[F].objectNumber+" 0 R");nt(">>")})(),(function(){if(Object.keys(we).length>0){for(var F in nt("/Shading <<"),we)we.hasOwnProperty(F)&&we[F]instanceof bh&&we[F].objectNumber>=0&&nt("/"+F+" "+we[F].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),nt(">>")}})(),(function(F){if(Object.keys(we).length>0){for(var ot in nt("/Pattern <<"),we)we.hasOwnProperty(ot)&&we[ot]instanceof g.TilingPattern&&we[ot].objectNumber>=0&&we[ot].objectNumber<F&&nt("/"+ot+" "+we[ot].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),nt(">>")}})(T.objectOid),(function(){if(Object.keys(Oe).length>0){var F;for(F in nt("/ExtGState <<"),Oe)Oe.hasOwnProperty(F)&&Oe[F].objectNumber>=0&&nt("/"+F+" "+Oe[F].objectNumber+" 0 R");ln.publish("putGStateDict"),nt(">>")}})(),(function(){for(var F in nt("/XObject <<"),_i)_i.hasOwnProperty(F)&&_i[F].objectNumber>=0&&nt("/"+F+" "+_i[F].objectNumber+" 0 R");ln.publish("putXobjectDict"),nt(">>")})(),nt(">>"),nt("endobj")},Ar=function(T){Le[T.fontName]=Le[T.fontName]||{},Le[T.fontName][T.fontStyle]=T.id},jc=function(T,F,ot,pt,bt){var Bt={id:"F"+(Object.keys(Ee).length+1).toString(10),postScriptName:T,fontName:F,fontStyle:ot,encoding:pt,isStandardFont:bt||!1,metadata:{}};return ln.publish("addFont",{font:Bt,instance:this}),Ee[Bt.id]=Bt,Ar(Bt),Bt.id},va=g.__private__.pdfEscape=g.pdfEscape=function(T,F){return(function(ot,pt){var bt,Bt,Ht,ne,le,ke,Fe,un,nr;if(Ht=(pt=pt||{}).sourceEncoding||"Unicode",le=pt.outputEncoding,(pt.autoencode||le)&&Ee[oe].metadata&&Ee[oe].metadata[Ht]&&Ee[oe].metadata[Ht].encoding&&(ne=Ee[oe].metadata[Ht].encoding,!le&&Ee[oe].encoding&&(le=Ee[oe].encoding),!le&&ne.codePages&&(le=ne.codePages[0]),typeof le=="string"&&(le=ne[le]),le)){for(Fe=!1,ke=[],bt=0,Bt=ot.length;bt<Bt;bt++)(un=le[ot.charCodeAt(bt)])?ke.push(String.fromCharCode(un)):ke.push(ot[bt]),ke[bt].charCodeAt(0)>>8&&(Fe=!0);ot=ke.join("")}for(bt=ot.length;Fe===void 0&&bt!==0;)ot.charCodeAt(bt-1)>>8&&(Fe=!0),bt--;if(!Fe)return ot;for(ke=pt.noBOM?[]:[254,255],bt=0,Bt=ot.length;bt<Bt;bt++){if((nr=(un=ot.charCodeAt(bt))>>8)>>8)throw new Error("Character at position "+bt+" of string '"+ot+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ke.push(nr),ke.push(un-(nr<<8))}return String.fromCharCode.apply(void 0,ke)})(T,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hs=g.__private__.beginPage=function(T){Dt[++$e]=[],de[$e]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Fc($e),Vt(Dt[G])},po=function(T,F){var ot,pt,bt;switch(e=F||e,typeof T=="string"&&(ot=S(T.toLowerCase()),Array.isArray(ot)&&(pt=ot[0],bt=ot[1])),Array.isArray(T)&&(pt=T[0]*je,bt=T[1]*je),isNaN(pt)&&(pt=i[0],bt=i[1]),(pt>14400||bt>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pt=Math.min(14400,pt),bt=Math.min(14400,bt)),i=[pt,bt],e.substr(0,1)){case"l":bt>pt&&(i=[bt,pt]);break;case"p":pt>bt&&(i=[bt,pt])}hs(i),Ce(zl),nt(wa),qu!==0&&nt(qu+" J"),Jr!==0&&nt(Jr+" j"),ln.publish("addPage",{pageNumber:$e})},Bc=function(T){T>0&&T<=$e&&(Dt.splice(T,1),de.splice(T,1),$e--,G>$e&&(G=$e),this.setPage(G))},Fc=function(T){T>0&&T<=$e&&(G=T)},zc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Dt.length-1},Zh=function(T,F,ot){var pt,bt=void 0;return ot=ot||{},T=T!==void 0?T:Ee[oe].fontName,F=F!==void 0?F:Ee[oe].fontStyle,pt=T.toLowerCase(),Le[pt]!==void 0&&Le[pt][F]!==void 0?bt=Le[pt][F]:Le[T]!==void 0&&Le[T][F]!==void 0?bt=Le[T][F]:ot.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+T+"', '"+F+"'. Refer to getFontList() for available fonts."),bt||ot.noFallback||(bt=Le.times[F])==null&&(bt=Le.times.normal),bt},ya=g.__private__.putInfo=function(){var T=Qn(),F=function(pt){return pt};for(var ot in f!==null&&(F=qr.encryptor(T,0)),nt("<<"),nt("/Producer ("+va(F("jsPDF "+pe.version))+")"),Ye)Ye.hasOwnProperty(ot)&&Ye[ot]&&nt("/"+ot.substr(0,1).toUpperCase()+ot.substr(1)+" ("+va(F(Ye[ot]))+")");nt("/CreationDate ("+va(F(dt))+")"),nt(">>"),nt("endobj")},go=g.__private__.putCatalog=function(T){var F=(T=T||{}).rootDictionaryObjId||qi;switch(Qn(),nt("<<"),nt("/Type /Catalog"),nt("/Pages "+F+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":nt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":nt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":nt("/OpenAction [3 0 R /Fit]");break;case"original":nt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ot=""+be;ot.substr(ot.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&nt("/OpenAction [3 0 R /XYZ null null "+D(be)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":nt("/PageLayout /OneColumn");break;case"single":nt("/PageLayout /SinglePage");break;case"two":case"twoleft":nt("/PageLayout /TwoColumnLeft");break;case"tworight":nt("/PageLayout /TwoColumnRight")}me&&nt("/PageMode /"+me),ln.publish("putCatalog"),nt(">>"),nt("endobj")},fs=g.__private__.putTrailer=function(){nt("trailer"),nt("<<"),nt("/Size "+(ct+1)),nt("/Root "+ct+" 0 R"),nt("/Info "+(ct-1)+" 0 R"),f!==null&&nt("/Encrypt "+qr.oid+" 0 R"),nt("/ID [ <"+V+"> <"+V+"> ]"),nt(">>")},vn=g.__private__.putHeader=function(){nt("%PDF-"+w),nt("%")},Uc=g.__private__.putXRef=function(){var T="0000000000";nt("xref"),nt("0 "+(ct+1)),nt("0000000000 65535 f ");for(var F=1;F<=ct;F++)typeof ht[F]=="function"?nt((T+ht[F]()).slice(-10)+" 00000 n "):ht[F]!==void 0?nt((T+ht[F]).slice(-10)+" 00000 n "):nt("0000000000 00000 n ")},Is=g.__private__.buildDocument=function(){var T;ct=0,ut=0,_t=[],ht=[],Et=[],qi=Nr(),Nn=Nr(),Vt(_t),ln.publish("buildDocument"),vn(),os(),(function(){ln.publish("putAdditionalObjects");for(var ot=0;ot<Et.length;ot++){var pt=Et[ot];Qr(pt.objId,!0),nt(pt.content),nt("endobj")}ln.publish("postPutAdditionalObjects")})(),T=[],(function(){for(var ot in Ee)Ee.hasOwnProperty(ot)&&(p===!1||p===!0&&v.hasOwnProperty(ot))&&ls(Ee[ot])})(),(function(){var ot;for(ot in Oe)Oe.hasOwnProperty(ot)&&Bl(Oe[ot])})(),(function(){for(var ot in _i)_i.hasOwnProperty(ot)&&el(_i[ot])})(),(function(ot){var pt;for(pt in we)we.hasOwnProperty(pt)&&(we[pt]instanceof bh?us(we[pt]):we[pt]instanceof od&&cs(we[pt],ot))})(T),ln.publish("putResources"),T.forEach(Rs),Rs({resourcesOid:Nn,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),f!==null&&(qr.oid=Qn(),nt("<<"),nt("/Filter /Standard"),nt("/V "+qr.v),nt("/R "+qr.r),nt("/U <"+qr.toHexString(qr.U)+">"),nt("/O <"+qr.toHexString(qr.O)+">"),nt("/P "+qr.P),nt(">>"),nt("endobj")),ya(),go();var F=ut;return Uc(),fs(),nt("startxref"),nt(""+F),nt("%%EOF"),Vt(Dt[G]),_t.join(`
`)},nl=g.__private__.getBlob=function(T){return new Blob([Ne(T)],{type:"application/pdf"})},qc=g.output=g.__private__.output=(ga=function(T,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",T){case void 0:return Is();case"save":g.save(F.filename);break;case"arraybuffer":return Ne(Is());case"blob":return nl(Is());case"bloburi":case"bloburl":if(Re.URL!==void 0&&typeof Re.URL.createObjectURL=="function")return Re.URL&&Re.URL.createObjectURL(nl(Is()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ot="",pt=Is();try{ot=AP(pt)}catch{ot=AP(unescape(encodeURIComponent(pt)))}return"data:application/pdf;filename="+F.filename+";base64,"+ot;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Re)==="[object Window]"){var bt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Bt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(bt=F.pdfObjectUrl,Bt="");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+bt+'"'+Bt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ne=Re.open();return ne!==null&&ne.document.write(Ht),ne}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Re)==="[object Window]"){var le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',ke=Re.open();if(ke!==null){ke.document.write(le);var Fe=this;ke.document.documentElement.querySelector("#pdfViewer").onload=function(){ke.document.title=F.filename,ke.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Fe.output("bloburl"))}}return ke}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Re)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',nr=Re.open();if(nr!==null&&(nr.document.write(un),nr.document.title=F.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return Re.document.location.href=this.output("datauristring",F);default:return null}},ga.foo=function(){try{return ga.apply(this,arguments)}catch(ot){var T=ot.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var F="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ot.message;if(!Re.console)throw new Error(F);Re.console.error(F,ot),Re.alert&&alert(F)}},ga.foo.bar=ga,ga.foo),Hi=function(T){return Array.isArray(ss)===!0&&ss.indexOf(T)>-1};switch(r){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=Hi("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);je=r}var qr=null;Z(),st();var kr=g.__private__.getPageInfo=g.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:de[T].objId,pageNumber:T,pageContext:de[T]}},zu=g.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in de)if(de[F].objId===T)break;return kr(F)},Qh=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:de[G].objId,pageNumber:G,pageContext:de[G]}};g.addPage=function(){return po.apply(this,arguments),this},g.setPage=function(){return Fc.apply(this,arguments),Vt.call(this,Dt[G]),this},g.insertPage=function(T){return this.addPage(),this.movePage(G,T),this},g.movePage=function(T,F){var ot,pt;if(T>F){ot=Dt[T],pt=de[T];for(var bt=T;bt>F;bt--)Dt[bt]=Dt[bt-1],de[bt]=de[bt-1];Dt[F]=ot,de[F]=pt,this.setPage(F)}else if(T<F){ot=Dt[T],pt=de[T];for(var Bt=T;Bt<F;Bt++)Dt[Bt]=Dt[Bt+1],de[Bt]=de[Bt+1];Dt[F]=ot,de[F]=pt,this.setPage(F)}return this},g.deletePage=function(){return Bc.apply(this,arguments),this},g.__private__.text=g.text=function(T,F,ot,pt,bt){var Bt,Ht,ne,le,ke,Fe,un,nr,xr,Bn=(pt=pt||{}).scope||this;if(typeof T=="number"&&typeof F=="number"&&(typeof ot=="string"||Array.isArray(ot))){var Hr=ot;ot=F,F=T,T=Hr}if(arguments[3]instanceof ve==0?(ne=arguments[4],le=arguments[5],Rn(un=arguments[3])==="object"&&un!==null||(typeof ne=="string"&&(le=ne,ne=null),typeof un=="string"&&(le=un,un=null),typeof un=="number"&&(ne=un,un=null),pt={flags:un,angle:ne,align:le})):(q("The transform parameter of text() with a Matrix value"),xr=bt),isNaN(F)||isNaN(ot)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return Bn;var Lr,ci="",So=typeof pt.lineHeightFactor=="number"?pt.lineHeightFactor:mo,gs=Bn.internal.scaleFactor;function _o(yn){return yn=yn.split("	").join(Array(pt.TabLen||9).join(" ")),va(yn,un)}function Zc(yn){for(var cn,Fn=yn.concat(),_r=[],Ws=Fn.length;Ws--;)typeof(cn=Fn.shift())=="string"?_r.push(cn):Array.isArray(yn)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?_r.push(cn[0]):_r.push([cn[0],cn[1],cn[2]]);return _r}function $u(yn,cn){var Fn;if(typeof yn=="string")Fn=cn(yn)[0];else if(Array.isArray(yn)){for(var _r,Ws,bs=yn.concat(),Vl=[],th=bs.length;th--;)typeof(_r=bs.shift())=="string"?Vl.push(cn(_r)[0]):Array.isArray(_r)&&typeof _r[0]=="string"&&(Ws=cn(_r[0],_r[1],_r[2]),Vl.push([Ws[0],Ws[1],Ws[2]]));Fn=Vl}return Fn}var Fs=!1,ms=!0;if(typeof T=="string")Fs=!0;else if(Array.isArray(T)){var Gl=T.concat();Ht=[];for(var Eo,ti=Gl.length;ti--;)(typeof(Eo=Gl.shift())!="string"||Array.isArray(Eo)&&typeof Eo[0]!="string")&&(ms=!1);Fs=ms}if(Fs===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var il=$t/Bn.internal.scaleFactor,al=il*(So-1);switch(pt.baseline){case"bottom":ot-=al;break;case"top":ot+=il-al;break;case"hanging":ot+=il-2*al;break;case"middle":ot+=il/2-al}if((Fe=pt.maxWidth||0)>0&&(typeof T=="string"?T=Bn.splitTextToSize(T,Fe):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(yn,cn){return yn.concat(Bn.splitTextToSize(cn,Fe))},[]))),Bt={text:T,x:F,y:ot,options:pt,mutex:{pdfEscape:va,activeFontKey:oe,fonts:Ee,activeFontSize:$t}},ln.publish("preProcessText",Bt),T=Bt.text,ne=(pt=Bt.options).angle,xr instanceof ve==0&&ne&&typeof ne=="number"){ne*=Math.PI/180,pt.rotationDirection===0&&(ne=-ne),N===C&&(ne=-ne);var Gu=Math.cos(ne),zs=Math.sin(ne);xr=new ve(Gu,zs,-zs,Gu,0,0)}else ne&&ne instanceof ve&&(xr=ne);N!==C||xr||(xr=Ds),(ke=pt.charSpace||Ra)!==void 0&&(ci+=H(et(ke))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=pt.horizontalScale)!==void 0&&(ci+=H(100*nr)+` Tz
`),pt.lang;var Gi=-1,Co=pt.renderingMode!==void 0?pt.renderingMode:pt.stroke,Wu=Bn.internal.getCurrentPageInfo().pageContext;switch(Co){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var Qc=Wu.usedRenderingMode!==void 0?Wu.usedRenderingMode:-1;Gi!==-1?ci+=Gi+` Tr
`:Qc!==-1&&(ci+=`0 Tr
`),Gi!==-1&&(Wu.usedRenderingMode=Gi),le=pt.align||"left";var Aa,vs=$t*So,To=Bn.internal.pageSize.getWidth(),Jc=Ee[oe];ke=pt.charSpace||Ra,Fe=pt.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},pt.flags);var ys=[],sl=function(yn){return Bn.getStringUnitWidth(yn,{font:Jc,charSpace:ke,fontSize:$t,doKerning:!1})*$t/gs};if(Object.prototype.toString.call(T)==="[object Array]"){var ia;Ht=Zc(T),le!=="left"&&(Aa=Ht.map(sl));var Wi,Us=0;if(le==="right"){F-=Aa[0],T=[],ti=Ht.length;for(var qs=0;qs<ti;qs++)qs===0?(Wi=ba(F),ia=ui(ot)):(Wi=et(Us-Aa[qs]),ia=-vs),T.push([Ht[qs],Wi,ia]),Us=Aa[qs]}else if(le==="center"){F-=Aa[0]/2,T=[],ti=Ht.length;for(var Oo=0;Oo<ti;Oo++)Oo===0?(Wi=ba(F),ia=ui(ot)):(Wi=et((Us-Aa[Oo])/2),ia=-vs),T.push([Ht[Oo],Wi,ia]),Us=Aa[Oo]}else if(le==="left"){T=[],ti=Ht.length;for(var Vu=0;Vu<ti;Vu++)T.push(Ht[Vu])}else if(le==="justify"&&Jc.encoding==="Identity-H"){T=[],ti=Ht.length,Fe=Fe!==0?Fe:To;for(var Yu=0,Sr=0;Sr<ti;Sr++)if(ia=Sr===0?ui(ot):-vs,Wi=Sr===0?ba(F):Yu,Sr<ti-1){var lf=et((Fe-Aa[Sr])/(Ht[Sr].split(" ").length-1)),Hs=Ht[Sr].split(" ");T.push([Hs[0]+" ",Wi,ia]),Yu=0;for(var $s=1;$s<Hs.length;$s++){var hi=(sl(Hs[$s-1]+" "+Hs[$s])-sl(Hs[$s]))*gs+lf;$s==Hs.length-1?T.push([Hs[$s],hi,0]):T.push([Hs[$s]+" ",hi,0]),Yu-=hi}}else T.push([Ht[Sr],Wi,ia]);T.push(["",Yu,0])}else{if(le!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],ti=Ht.length,Fe=Fe!==0?Fe:To,Sr=0;Sr<ti;Sr++){ia=Sr===0?ui(ot):-vs,Wi=Sr===0?ba(F):0;var Po=Ht[Sr].split(" ").length-1,Ku=Po>0?(Fe-Aa[Sr])/Po:0;Sr<ti-1?ys.push(H(et(Ku))):ys.push(0),T.push([Ht[Sr],Wi,ia])}}}(typeof pt.R2L=="boolean"?pt.R2L:_e)===!0&&(T=$u(T,function(yn,cn,Fn){return[yn.split("").reverse().join(""),cn,Fn]})),Bt={text:T,x:F,y:ot,options:pt,mutex:{pdfEscape:va,activeFontKey:oe,fonts:Ee,activeFontSize:$t}},ln.publish("postProcessText",Bt),T=Bt.text,Lr=Bt.mutex.isHex||!1;var Xu=Ee[oe].encoding;Xu!=="WinAnsiEncoding"&&Xu!=="StandardEncoding"||(T=$u(T,function(yn,cn,Fn){return[_o(yn),cn,Fn]})),Ht=Zc(T),T=[];for(var No,ko,Gs,Wl=Array.isArray(Ht[0])?1:0,xa="",Lo=function(yn,cn,Fn){var _r="";return Fn instanceof ve?(Fn=typeof pt.angle=="number"?fo(Fn,new ve(1,0,0,1,yn,cn)):fo(new ve(1,0,0,1,yn,cn),Fn),N===C&&(Fn=fo(new ve(1,0,0,-1,0,0),Fn)),_r=Fn.join(" ")+` Tm
`):_r=H(yn)+" "+H(cn)+` Td
`,_r},Ci=0;Ci<Ht.length;Ci++){switch(xa="",Wl){case 1:Gs=(Lr?"<":"(")+Ht[Ci][0]+(Lr?">":")"),No=parseFloat(Ht[Ci][1]),ko=parseFloat(Ht[Ci][2]);break;case 0:Gs=(Lr?"<":"(")+Ht[Ci]+(Lr?">":")"),No=ba(F),ko=ui(ot)}ys!==void 0&&ys[Ci]!==void 0&&(xa=ys[Ci]+` Tw
`),Ci===0?T.push(xa+Lo(No,ko,xr)+Gs):Wl===0?T.push(xa+Gs):Wl===1&&T.push(xa+Lo(No,ko,xr)+Gs)}T=Wl===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var ja=`BT
/`;return ja+=oe+" "+$t+` Tf
`,ja+=H($t*So)+` TL
`,ja+=js+`
`,ja+=ci,ja+=T,nt(ja+="ET"),v[oe]=!0,Bn};var Hc=g.__private__.clip=g.clip=function(T){return nt(T==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Hc("evenodd")},g.__private__.discardPath=g.discardPath=function(){return nt("n"),this};var $i=g.__private__.isValidStyle=function(T){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(F=!0),F};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(T){return $i(T)&&(h=T),this};var $c=g.__private__.getStyle=g.getStyle=function(T){var F=h;switch(T){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=T}return F},Gc=g.close=function(){return nt("h"),this};g.stroke=function(){return nt("S"),this},g.fill=function(T){return ds("f",T),this},g.fillEvenOdd=function(T){return ds("f*",T),this},g.fillStroke=function(T){return ds("B",T),this},g.fillStrokeEvenOdd=function(T){return ds("B*",T),this};var ds=function(T,F){Rn(F)==="object"?tf(F,T):nt(T)},Fl=function(T){T===null||N===C&&T===void 0||(T=$c(T),nt(T))};function Jh(T,F,ot,pt,bt){var Bt=new od(F||this.boundingBox,ot||this.xStep,pt||this.yStep,this.gState,bt||this.matrix);Bt.stream=this.stream;var Ht=T+"$$"+this.cloneIndex+++"$$";return pa(Ht,Bt),Bt}var tf=function(T,F){var ot=jn[T.key],pt=we[ot];if(pt instanceof bh)nt("q"),nt(Wc(F)),pt.gState&&g.setGState(pt.gState),nt(T.matrix.toString()+" cm"),nt("/"+ot+" sh"),nt("Q");else if(pt instanceof od){var bt=new ve(1,0,0,-1,0,xo());T.matrix&&(bt=bt.multiply(T.matrix||Ds),ot=Jh.call(pt,T.key,T.boundingBox,T.xStep,T.yStep,bt).id),nt("q"),nt("/Pattern cs"),nt("/"+ot+" scn"),pt.gState&&g.setGState(pt.gState),nt(F),nt("Q")}},Wc=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vc=g.moveTo=function(T,F){return nt(H(et(T))+" "+H(tt(F))+" m"),this},ef=g.lineTo=function(T,F){return nt(H(et(T))+" "+H(tt(F))+" l"),this},ra=g.curveTo=function(T,F,ot,pt,bt,Bt){return nt([H(et(T)),H(tt(F)),H(et(ot)),H(tt(pt)),H(et(bt)),H(tt(Bt)),"c"].join(" ")),this};g.__private__.line=g.line=function(T,F,ot,pt,bt){if(isNaN(T)||isNaN(F)||isNaN(ot)||isNaN(pt)||!$i(bt))throw new Error("Invalid arguments passed to jsPDF.line");return N===O?this.lines([[ot-T,pt-F]],T,F,[1,1],bt||"S"):this.lines([[ot-T,pt-F]],T,F,[1,1]).stroke()},g.__private__.lines=g.lines=function(T,F,ot,pt,bt,Bt){var Ht,ne,le,ke,Fe,un,nr,xr,Bn,Hr,Lr,ci;if(typeof T=="number"&&(ci=ot,ot=F,F=T,T=ci),pt=pt||[1,1],Bt=Bt||!1,isNaN(F)||isNaN(ot)||!Array.isArray(T)||!Array.isArray(pt)||!$i(bt)||typeof Bt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vc(F,ot),Ht=pt[0],ne=pt[1],ke=T.length,Hr=F,Lr=ot,le=0;le<ke;le++)(Fe=T[le]).length===2?(Hr=Fe[0]*Ht+Hr,Lr=Fe[1]*ne+Lr,ef(Hr,Lr)):(un=Fe[0]*Ht+Hr,nr=Fe[1]*ne+Lr,xr=Fe[2]*Ht+Hr,Bn=Fe[3]*ne+Lr,Hr=Fe[4]*Ht+Hr,Lr=Fe[5]*ne+Lr,ra(un,nr,xr,Bn,Hr,Lr));return Bt&&Gc(),Fl(bt),this},g.path=function(T){for(var F=0;F<T.length;F++){var ot=T[F],pt=ot.c;switch(ot.op){case"m":Vc(pt[0],pt[1]);break;case"l":ef(pt[0],pt[1]);break;case"c":ra.apply(this,pt);break;case"h":Gc()}}return this},g.__private__.rect=g.rect=function(T,F,ot,pt,bt){if(isNaN(T)||isNaN(F)||isNaN(ot)||isNaN(pt)||!$i(bt))throw new Error("Invalid arguments passed to jsPDF.rect");return N===O&&(pt=-pt),nt([H(et(T)),H(tt(F)),H(et(ot)),H(et(pt)),"re"].join(" ")),Fl(bt),this},g.__private__.triangle=g.triangle=function(T,F,ot,pt,bt,Bt,Ht){if(isNaN(T)||isNaN(F)||isNaN(ot)||isNaN(pt)||isNaN(bt)||isNaN(Bt)||!$i(Ht))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ot-T,pt-F],[bt-ot,Bt-pt],[T-bt,F-Bt]],T,F,[1,1],Ht,!0),this},g.__private__.roundedRect=g.roundedRect=function(T,F,ot,pt,bt,Bt,Ht){if(isNaN(T)||isNaN(F)||isNaN(ot)||isNaN(pt)||isNaN(bt)||isNaN(Bt)||!$i(Ht))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ne=4/3*(Math.SQRT2-1);return bt=Math.min(bt,.5*ot),Bt=Math.min(Bt,.5*pt),this.lines([[ot-2*bt,0],[bt*ne,0,bt,Bt-Bt*ne,bt,Bt],[0,pt-2*Bt],[0,Bt*ne,-bt*ne,Bt,-bt,Bt],[2*bt-ot,0],[-bt*ne,0,-bt,-Bt*ne,-bt,-Bt],[0,2*Bt-pt],[0,-Bt*ne,bt*ne,-Bt,bt,-Bt]],T+bt,F,[1,1],Ht,!0),this},g.__private__.ellipse=g.ellipse=function(T,F,ot,pt,bt){if(isNaN(T)||isNaN(F)||isNaN(ot)||isNaN(pt)||!$i(bt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Bt=4/3*(Math.SQRT2-1)*ot,Ht=4/3*(Math.SQRT2-1)*pt;return Vc(T+ot,F),ra(T+ot,F-Ht,T+Bt,F-pt,T,F-pt),ra(T-Bt,F-pt,T-ot,F-Ht,T-ot,F),ra(T-ot,F+Ht,T-Bt,F+pt,T,F+pt),ra(T+Bt,F+pt,T+ot,F+Ht,T+ot,F),Fl(bt),this},g.__private__.circle=g.circle=function(T,F,ot,pt){if(isNaN(T)||isNaN(F)||isNaN(ot)||!$i(pt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,F,ot,ot,pt)},g.setFont=function(T,F,ot){return ot&&(F=B(F,ot)),oe=Zh(T,F,{disableWarning:!1}),this};var ps=g.__private__.getFont=g.getFont=function(){return Ee[Zh.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var T,F,ot={};for(T in Le)if(Le.hasOwnProperty(T))for(F in ot[T]=[],Le[T])Le[T].hasOwnProperty(F)&&ot[T].push(F);return ot},g.addFont=function(T,F,ot,pt,bt){var Bt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Bt.indexOf(arguments[3])!==-1?bt=arguments[3]:arguments[3]&&Bt.indexOf(arguments[3])==-1&&(ot=B(ot,pt)),jc.call(this,T,F,ot,bt=bt||"Identity-H")};var mo,zl=n.lineWidth||.200025,rl=g.__private__.getLineWidth=g.getLineWidth=function(){return zl},Ce=g.__private__.setLineWidth=g.setLineWidth=function(T){return zl=T,nt(H(et(T))+" w"),this};g.__private__.setLineDash=pe.API.setLineDash=pe.API.setLineDashPattern=function(T,F){if(T=T||[],F=F||0,isNaN(F)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ot){return H(et(ot))}).join(" "),F=H(et(F)),nt("["+T+"] "+F+" d"),this};var nf=g.__private__.getLineHeight=g.getLineHeight=function(){return $t*mo};g.__private__.getLineHeight=g.getLineHeight=function(){return $t*mo};var Yc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(mo=T),this},rf=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return mo};Yc(n.lineHeight);var ba=g.__private__.getHorizontalCoordinate=function(T){return et(T)},ui=g.__private__.getVerticalCoordinate=function(T){return N===C?T:de[G].mediaBox.topRightY-de[G].mediaBox.bottomLeftY-et(T)},Kc=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(T){return H(ba(T))},Ul=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(T){return H(ui(T))},wa=n.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return er(wa)},g.__private__.setStrokeColor=g.setDrawColor=function(T,F,ot,pt){return wa=Ei({ch1:T,ch2:F,ch3:ot,ch4:pt,pdfColorType:"draw",precision:2}),nt(wa),this};var ql=n.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return er(ql)},g.__private__.setFillColor=g.setFillColor=function(T,F,ot,pt){return ql=Ei({ch1:T,ch2:F,ch3:ot,ch4:pt,pdfColorType:"fill",precision:2}),nt(ql),this};var js=n.textColor||"0 g",af=g.__private__.getTextColor=g.getTextColor=function(){return er(js)};g.__private__.setTextColor=g.setTextColor=function(T,F,ot,pt){return js=Ei({ch1:T,ch2:F,ch3:ot,ch4:pt,pdfColorType:"text",precision:3}),this};var Ra=n.charSpace,Uu=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Ra||0)};g.__private__.setCharSpace=g.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ra=T,this};var qu=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(T){var F=g.CapJoinStyles[T];if(F===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qu=F,nt(F+" J"),this};var Jr=0;g.__private__.setLineJoin=g.setLineJoin=function(T){var F=g.CapJoinStyles[T];if(F===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jr=F,nt(F+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return nt(H(et(T))+" M"),this},g.GState=Dv,g.setGState=function(T){(T=typeof T=="string"?Oe[Me[T]]:Bs(null,T)).equals(Pn)||(nt("/"+T.id+" gs"),Pn=T)};var Bs=function(T,F){if(!T||!Me[T]){var ot=!1;for(var pt in Oe)if(Oe.hasOwnProperty(pt)&&Oe[pt].equals(F)){ot=!0;break}if(ot)F=Oe[pt];else{var bt="GS"+(Object.keys(Oe).length+1).toString(10);Oe[bt]=F,F.id=bt}return T&&(Me[T]=F.id),ln.publish("addGState",F),F}};g.addGState=function(T,F){return Bs(T,F),this},g.saveGraphicsState=function(){return nt("q"),tn.push({key:oe,size:$t,color:js}),this},g.restoreGraphicsState=function(){nt("Q");var T=tn.pop();return oe=T.key,$t=T.size,js=T.color,Pn=null,this},g.setCurrentTransformationMatrix=function(T){return nt(T.toString()+" cm"),this},g.comment=function(T){return nt("#"+T),this};var Ia=function(T,F){var ot=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ot},set:function(Bt){isNaN(Bt)||(ot=parseFloat(Bt))}});var pt=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pt},set:function(Bt){isNaN(Bt)||(pt=parseFloat(Bt))}});var bt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return bt},set:function(Bt){bt=Bt.toString()}}),this},vo=function(T,F,ot,pt){Ia.call(this,T,F),this.type="rect";var bt=ot||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return bt},set:function(Ht){isNaN(Ht)||(bt=parseFloat(Ht))}});var Bt=pt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Bt},set:function(Ht){isNaN(Ht)||(Bt=parseFloat(Ht))}}),this},Hu=function(){this.page=$e,this.currentPage=G,this.pages=Dt.slice(0),this.pagesContext=de.slice(0),this.x=fe,this.y=wr,this.matrix=Ze,this.width=bo(G),this.height=Xc(G),this.outputDestination=Wt,this.id="",this.objectNumber=-1};Hu.prototype.restore=function(){$e=this.page,G=this.currentPage,de=this.pagesContext,Dt=this.pages,fe=this.x,wr=this.y,Ze=this.matrix,$l(G,this.width),wo(G,this.height),Wt=this.outputDestination};var Hl=function(T,F,ot,pt,bt){Ma.push(new Hu),$e=G=0,Dt=[],fe=T,wr=F,Ze=bt,hs([ot,pt])};for(var yo in g.beginFormObject=function(T,F,ot,pt,bt){return Hl(T,F,ot,pt,bt),this},g.endFormObject=function(T){return(function(F){if(Ms[F])Ma.pop().restore();else{var ot=new Hu,pt="Xo"+(Object.keys(_i).length+1).toString(10);ot.id=pt,Ms[F]=pt,_i[pt]=ot,ln.publish("addFormObject",ot),Ma.pop().restore()}})(T),this},g.doFormObject=function(T,F){var ot=_i[Ms[T]];return nt("q"),nt(F.toString()+" cm"),nt("/"+ot.id+" Do"),nt("Q"),this},g.getFormObject=function(T){var F=_i[Ms[T]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},g.save=function(T,F){return T=T||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(yh(nl(Is()),T),typeof yh.unload=="function"&&Re.setTimeout&&setTimeout(yh.unload,911),this):new Promise(function(ot,pt){try{var bt=yh(nl(Is()),T);typeof yh.unload=="function"&&Re.setTimeout&&setTimeout(yh.unload,911),ot(bt)}catch(Bt){pt(Bt.message)}})},pe.API)pe.API.hasOwnProperty(yo)&&(yo==="events"&&pe.API.events.length?(function(T,F){var ot,pt,bt;for(bt=F.length-1;bt!==-1;bt--)ot=F[bt][0],pt=F[bt][1],T.subscribe.apply(T,[ot].concat(typeof pt=="function"?[pt]:pt))})(ln,pe.API.events):g[yo]=pe.API[yo]);function bo(T){return de[T].mediaBox.topRightX-de[T].mediaBox.bottomLeftX}function $l(T,F){de[T].mediaBox.topRightX=F+de[T].mediaBox.bottomLeftX}function Xc(T){return de[T].mediaBox.topRightY-de[T].mediaBox.bottomLeftY}function wo(T,F){de[T].mediaBox.topRightY=F+de[T].mediaBox.bottomLeftY}var Ao=g.getPageWidth=function(T){return bo(T=T||G)/je},sf=g.setPageWidth=function(T,F){$l(T,F*je)},xo=g.getPageHeight=function(T){return Xc(T=T||G)/je},of=g.setPageHeight=function(T,F){wo(T,F*je)};return g.internal={pdfEscape:va,getStyle:$c,getFont:ps,getFontSize:Qt,getCharSpace:Uu,getTextColor:af,getLineHeight:nf,getLineHeightFactor:rf,getLineWidth:rl,write:Yt,getHorizontalCoordinate:ba,getVerticalCoordinate:ui,getCoordinateString:Kc,getVerticalCoordinateString:Ul,collections:{},newObject:Qn,newAdditionalObject:tl,newObjectDeferred:Nr,newObjectDeferredBegin:Qr,getFilters:ma,putStream:Da,events:ln,scaleFactor:je,pageSize:{getWidth:function(){return Ao(G)},setWidth:function(T){sf(G,T)},getHeight:function(){return xo(G)},setHeight:function(T){of(G,T)}},encryptionOptions:f,encryption:qr,getEncryptor:function(T){return f!==null?qr.encryptor(T,0):function(F){return F}},output:qc,getNumberOfPages:zc,get pages(){return Dt},out:nt,f2:D,f3:z,getPageInfo:kr,getPageInfoByObjId:zu,getCurrentPageInfo:Qh,getPDFVersion:y,Point:Ia,Rectangle:vo,Matrix:ve,hasHotfix:Hi},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ao(G)},set:function(T){sf(G,T)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return xo(G)},set:function(T){of(G,T)},enumerable:!0,configurable:!0}),(function(T){for(var F=0,ot=ge.length;F<ot;F++){var pt=jc.call(this,T[F][0],T[F][1],T[F][2],ge[F][3],!0);p===!1&&(v[pt]=!0);var bt=T[F][0].split("-");Ar({id:pt,fontName:bt[0],fontStyle:bt[1]||""})}ln.publish("addFonts",{fonts:Ee,dictionary:Le})}).call(g,ge),oe="F1",po(i,e),ln.publish("initialized"),g}td.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},td.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},td.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},td.prototype.processOwnerPassword=function(n,t){return U5(z5(t).substr(0,5),n)},td.prototype.encryptor=function(n,t){var e=z5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return U5(e,r)}},Dv.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||Rn(n)!==Rn(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},pe.API={events:[]},pe.version="3.0.4";var Fr=pe.API,cS=1,Xh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qe=function(n){return n.toFixed(2)},Ac=function(n){return n.toFixed(5)};Fr.__acroform__={};var as=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},EP=function(n){return n*cS},El=function(n){var t=new p8,e=se.internal.getHeight(n)||0,r=se.internal.getWidth(n)||0;return t.BBox=[0,0,Number(qe(r)),Number(qe(e))],t},srt=Fr.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},ort=Fr.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},lrt=Fr.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Yr=Fr.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return lrt(n,t-1)},Kr=Fr.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return srt(n,t-1)},Xr=Fr.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ort(n,t-1)},urt=Fr.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],a=n[1],o=n[2],l=n[3],c={};return c.lowerLeft_X=e(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=e(i+o)||0,c.upperRight_Y=r(a)||0,[Number(qe(c.lowerLeft_X)),Number(qe(c.lowerLeft_Y)),Number(qe(c.upperRight_X)),Number(qe(c.upperRight_Y))]},crt=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=q5(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+qe(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=El(n);return a.scope=n.scope,a.stream=t.join(`
`),a}},q5=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var a=e,o=se.internal.getHeight(n)||0;o=o<0?-o:o;var l=se.internal.getWidth(n)||0;l=l<0?-l:l;var c=function(D,z,et){if(D+1<i.length){var tt=z+" "+i[D+1][0];return w0(tt,n,et).width<=l-4}return!1};a++;t:for(;a>0;){t="",a--;var h,f,p=w0("3",n,a).height,v=n.multiline?o-a:(o-p)/2,g=v+=2,w=0,y=0,x=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+w0(t,n,a=12).width+", FieldWidth:"+l+`
`;break}for(var S="",O=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var N=!1;if(i[C].length!==1&&x!==i[C].length-1){if((p+2)*(O+2)+2>o)continue t;S+=i[C][x],N=!0,y=C,C--}else{S=(S+=i[C][x]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var k=parseInt(C),R=c(k,S,a),B=C>=i.length-1;if(R&&!B){S+=" ",x=0;continue}if(R||B){if(B)y=k;else if(n.multiline&&(p+2)*(O+2)+2>o)continue t}else{if(!n.multiline||(p+2)*(O+2)+2>o)continue t;y=k}}for(var H="",q=w;q<=y;q++){var rt=i[q];if(n.multiline){if(q===y){H+=rt[x]+" ",x=(x+1)%rt.length;continue}if(q===w){H+=rt[rt.length-1]+" ";continue}}H+=rt[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,f=w0(H,n,a).width,n.textAlign){case"right":h=l-f-2;break;case"center":h=(l-f)/2;break;default:h=2}t+=qe(h)+" "+qe(g)+` Td
`,t+="("+Xh(H)+`) Tj
`,t+=-qe(h)+` 0 Td
`,g=-(a+2),f=0,w=N?y:y+1,O++,S=""}break}return r.text=t,r.fontSize=a,r},w0=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},hrt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},frt=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},drt=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Qo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(hrt)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cS=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new g8,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&frt(a,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],h=l.Rect;if(l.Rect&&(l.Rect=urt(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=se.createDefaultAppearanceStream(l),Rn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=h,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=crt(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var g=l.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var w=g[o];typeof w=="function"&&(w=w.call(i,l)),p+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(i,l)),p+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&(function(y,x){for(var S in y)if(y.hasOwnProperty(S)){var O=S,C=y[S];x.internal.newObjectDeferredBegin(C.objId,!0),Rn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete y[O]}})(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},d8=Fr.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),Rn(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+Xh(r(n[a].toString()))+")"):i+=n[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lw=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+Xh(r(n))+")"},Pl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Pl.prototype.toString=function(){return this.objId+" 0 R"},Pl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Pl.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:d8(i,this.objId,this.scope)}):i instanceof Pl?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var p8=function(){Pl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};as(p8,Pl);var g8=function(){Pl.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Xh(e(n))+")"}},set:function(e){n=e}})};as(g8,Pl);var Qo=function n(){Pl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(t,3)},set:function(S){S?this.F=Kr(t,3):this.F=Xr(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');e=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Rv)return;a="FieldObject"+n.FieldNum++}var S=function(O){return O};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Xh(S(a))+")"},set:function(S){a=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(S){a=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/cS:h},set:function(S){h=S}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(S){f=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Rv||this instanceof kh))return lw(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ji==0?lw(v,this.objId,this.scope):v},set:function(S){S=S.toString(),v=this instanceof ji==0?S.substr(0,1)==="("?Vf(S.substr(1,S.length-2)):Vf(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?Vf(v.substr(1,v.length-1)):v},set:function(S){S=S.toString(),v=this instanceof ji==1?"/"+S:S}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ji==0?lw(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof ji==0?S.substr(0,1)==="("?Vf(S.substr(1,S.length-2)):Vf(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ji==1?Vf(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof ji==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(S){S=!!S,y=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(S){w=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(S){S?this.Ff=Kr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(S){S?this.Ff=Kr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(S){S?this.Ff=Kr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');x=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(x){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};as(Qo,Pl);var pd=function(){Qo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return d8(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=(function(a,o,l){l||(l=1);for(var c,h=[];c=o.exec(a);)h.push(c[l]);return h})(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(e){e?this.Ff=Kr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Kr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(e){e?(this.Ff=Kr(this.Ff,20),t.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(e){e?this.Ff=Kr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(e){e?this.Ff=Kr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(e){e?this.Ff=Kr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};as(pd,Qo);var gd=function(){pd.call(this),this.fontName="helvetica",this.combo=!1};as(gd,pd);var md=function(){gd.call(this),this.combo=!0};as(md,gd);var M0=function(){md.call(this),this.edit=!0};as(M0,md);var ji=function(){Qo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(e){e?this.Ff=Kr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(e){e?this.Ff=Kr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(e){e?this.Ff=Kr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(e){e?this.Ff=Kr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(a){return a};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Xh(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){Rn(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};as(ji,Qo);var D0=function(){ji.call(this),this.pushButton=!0};as(D0,ji);var vd=function(){ji.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};as(vd,ji);var Rv=function(){var n,t;Qo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Xh(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Rn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=se.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};as(Rv,Qo),vd.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},vd.prototype.createOption=function(n){var t=new Rv;return t.Parent=this,t.optionName=n,this.Kids.push(t),prt.call(this.scope,t),t};var R0=function(){ji.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=se.CheckBox.createAppearanceStream()};as(R0,ji);var kh=function(){Qo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(t){t?this.Ff=Kr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(t){t?this.Ff=Kr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(t){t?this.Ff=Kr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(t){t?this.Ff=Kr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(t){t?this.Ff=Kr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(t){t?this.Ff=Kr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};as(kh,Qo);var I0=function(){kh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(n){n?this.Ff=Kr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};as(I0,kh);var se={CheckBox:{createAppearanceStream:function(){return{N:{On:se.CheckBox.YesNormal},D:{On:se.CheckBox.YesPushDown,Off:se.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=El(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=q5(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+qe(se.internal.getWidth(n))+" "+qe(se.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+qe(a.fontSize)+" Tf "+i),e.push("BT"),e.push(a.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=El(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=se.internal.getHeight(n),o=se.internal.getWidth(n),l=q5(n,n.caption);return i.push("1 g"),i.push("0 0 "+qe(o)+" "+qe(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+qe(o-1)+" "+qe(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+qe(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=El(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(se.internal.getWidth(n))+" "+qe(se.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:se.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=se.RadioButton.Circle.YesNormal,t.D[n]=se.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=El(n);t.scope=n.scope;var e=[],r=se.internal.getWidth(n)<=se.internal.getHeight(n)?se.internal.getWidth(n)/4:se.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=se.internal.Bezier_C,a=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ac(se.internal.getWidth(n)/2)+" "+Ac(se.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),e.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),e.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),e.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=El(n);t.scope=n.scope;var e=[],r=se.internal.getWidth(n)<=se.internal.getHeight(n)?se.internal.getWidth(n)/4:se.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*se.internal.Bezier_C).toFixed(5)),o=Number((r*se.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ac(se.internal.getWidth(n)/2)+" "+Ac(se.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ac(se.internal.getWidth(n)/2)+" "+Ac(se.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=El(n);t.scope=n.scope;var e=[],r=se.internal.getWidth(n)<=se.internal.getHeight(n)?se.internal.getWidth(n)/4:se.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*se.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ac(se.internal.getWidth(n)/2)+" "+Ac(se.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),e.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),e.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),e.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:se.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=se.RadioButton.Cross.YesNormal,t.D[n]=se.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=El(n);t.scope=n.scope;var e=[],r=se.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+qe(se.internal.getWidth(n)-2)+" "+qe(se.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(qe(r.x1.x)+" "+qe(r.x1.y)+" m"),e.push(qe(r.x2.x)+" "+qe(r.x2.y)+" l"),e.push(qe(r.x4.x)+" "+qe(r.x4.y)+" m"),e.push(qe(r.x3.x)+" "+qe(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=El(n);t.scope=n.scope;var e=se.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+qe(se.internal.getWidth(n))+" "+qe(se.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+qe(se.internal.getWidth(n)-2)+" "+qe(se.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(qe(e.x1.x)+" "+qe(e.x1.y)+" m"),r.push(qe(e.x2.x)+" "+qe(e.x2.y)+" l"),r.push(qe(e.x4.x)+" "+qe(e.x4.y)+" m"),r.push(qe(e.x3.x)+" "+qe(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=El(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(se.internal.getWidth(n))+" "+qe(se.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};se.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=se.internal.getWidth(n),e=se.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},se.internal.getWidth=function(n){var t=0;return Rn(n)==="object"&&(t=EP(n.Rect[2])),t},se.internal.getHeight=function(n){var t=0;return Rn(n)==="object"&&(t=EP(n.Rect[3])),t};var prt=Fr.addField=function(n){if(drt(this,n),!(n instanceof Qo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fr.AcroFormChoiceField=pd,Fr.AcroFormListBox=gd,Fr.AcroFormComboBox=md,Fr.AcroFormEditBox=M0,Fr.AcroFormButton=ji,Fr.AcroFormPushButton=D0,Fr.AcroFormRadioButton=vd,Fr.AcroFormCheckBox=R0,Fr.AcroFormTextField=kh,Fr.AcroFormPasswordField=I0,Fr.AcroFormAppearance=se,Fr.AcroForm={ChoiceField:pd,ListBox:gd,ComboBox:md,EditBox:M0,Button:ji,PushButton:D0,RadioButton:vd,CheckBox:R0,TextField:kh,PasswordField:I0,Appearance:se},pe.AcroForm={ChoiceField:pd,ListBox:gd,ComboBox:md,EditBox:M0,Button:ji,PushButton:D0,RadioButton:vd,CheckBox:R0,TextField:kh,PasswordField:I0,Appearance:se};pe.AcroForm;function m8(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(D,z){var et,tt,dt,V,J,st=e;if((z=z||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(R(D))for(J in r)for(dt=r[J],et=0;et<dt.length;et+=1){for(V=!0,tt=0;tt<dt[et].length;tt+=1)if(dt[et][tt]!==void 0&&dt[et][tt]!==D[tt]){V=!1;break}if(V===!0){st=J;break}}else for(J in r)for(dt=r[J],et=0;et<dt.length;et+=1){for(V=!0,tt=0;tt<dt[et].length;tt+=1)if(dt[et][tt]!==void 0&&dt[et][tt]!==D.charCodeAt(tt)){V=!1;break}if(V===!0){st=J;break}}return st===e&&z!==e&&(st=z),st},a=function D(z){for(var et=this.internal.write,tt=this.internal.putStream,dt=(0,this.internal.getFilters)();dt.indexOf("FlateEncode")!==-1;)dt.splice(dt.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:z.width}),V.push({key:"Height",value:z.height}),z.colorSpace===S.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===S.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var J="",st=0,gt=z.transparency.length;st<gt;st++)J+=z.transparency[st]+" "+z.transparency[st]+" ";V.push({key:"Mask",value:"["+J+"]"})}z.sMask!==void 0&&V.push({key:"SMask",value:z.objectId+1+" 0 R"});var kt=z.filter!==void 0?["/"+z.filter]:void 0;if(tt({data:z.data,additionalKeyValues:V,alreadyAppliedFilters:kt,objectId:z.objectId}),et("endobj"),"sMask"in z&&z.sMask!==void 0){var Z,I=(Z=z.sMaskBitsPerComponent)!==null&&Z!==void 0?Z:z.bitsPerComponent,G={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:z.sMask};"filter"in z&&(G.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(z.width),G.filter=z.filter),D.call(this,G)}if(z.colorSpace===S.INDEXED){var X=this.internal.newObject();tt({data:H(new Uint8Array(z.palette)),objectId:X}),et("endobj")}},o=function(){var D=this.internal.collections[t+"images"];for(var z in D)a.call(this,D[z])},l=function(){var D,z=this.internal.collections[t+"images"],et=this.internal.write;for(var tt in z)et("/I"+(D=z[tt]).index,D.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var D=this.internal.collections[t+"images"];return c.call(this),D},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(D){return typeof n["process"+D.toUpperCase()]=="function"},v=function(D){return Rn(D)==="object"&&D.nodeType===1},g=function(D,z){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var et=""+D.getAttribute("src");if(et.indexOf("data:image/")===0)return L0(unescape(et).split("base64,").pop());var tt=n.loadFile(et,!0);if(tt!==void 0)return tt}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var dt;switch(z){case"PNG":dt="image/png";break;case"WEBP":dt="image/webp";break;default:dt="image/jpeg"}return L0(D.toDataURL(dt,1).split("base64,").pop())}},w=function(D){var z=this.internal.collections[t+"images"];if(z){for(var et in z)if(D===z[et].alias)return z[et]}},y=function(D,z,et){return D||z||(D=-96,z=-96),D<0&&(D=-1*et.width*72/D/this.internal.scaleFactor),z<0&&(z=-1*et.height*72/z/this.internal.scaleFactor),D===0&&(D=z*et.width/et.height),z===0&&(z=D*et.height/et.width),[D,z]},x=function(D,z,et,tt,dt,V){var J=y.call(this,et,tt,dt),st=this.internal.getCoordinateString,gt=this.internal.getVerticalCoordinateString,kt=h.call(this);if(et=J[0],tt=J[1],kt[dt.index]=dt,V){V*=Math.PI/180;var Z=Math.cos(V),I=Math.sin(V),G=function(lt){return lt.toFixed(4)},X=[G(Z),G(I),G(-1*I),G(Z),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,st(D),gt(z+tt),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([st(et),"0","0",st(tt),"0","0","cm"].join(" "))):this.internal.write([st(et),"0","0",st(tt),st(D),gt(z+tt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+dt.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=n.__addimage__.sHashCode=function(D){var z,et,tt=0;if(typeof D=="string")for(et=D.length,z=0;z<et;z++)tt=(tt<<5)-tt+D.charCodeAt(z),tt|=0;else if(R(D))for(et=D.byteLength/2,z=0;z<et;z++)tt=(tt<<5)-tt+D[z],tt|=0;return tt},N=n.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var z=!0;return D.length===0&&(z=!1),D.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(z=!1),z},k=n.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var z=D.indexOf(",");return z<0?null:D.substring(0,z).trim().endsWith("base64")?D.substring(z+1):null};n.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var R=n.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},B=n.__addimage__.binaryStringToUint8Array=function(D){for(var z=D.length,et=new Uint8Array(z),tt=0;tt<z;tt++)et[tt]=D.charCodeAt(tt);return et},H=n.__addimage__.arrayBufferToBinaryString=function(D){for(var z="",et=R(D)?D:new Uint8Array(D),tt=0;tt<et.length;tt+=8192)z+=String.fromCharCode.apply(null,et.subarray(tt,tt+8192));return z};n.addImage=function(){var D,z,et,tt,dt,V,J,st,gt;if(typeof arguments[1]=="number"?(z=e,et=arguments[1],tt=arguments[2],dt=arguments[3],V=arguments[4],J=arguments[5],st=arguments[6],gt=arguments[7]):(z=arguments[1],et=arguments[2],tt=arguments[3],dt=arguments[4],V=arguments[5],J=arguments[6],st=arguments[7],gt=arguments[8]),Rn(D=arguments[0])==="object"&&!v(D)&&"imageData"in D){var kt=D;D=kt.imageData,z=kt.format||z||e,et=kt.x||et||0,tt=kt.y||tt||0,dt=kt.w||kt.width||dt,V=kt.h||kt.height||V,J=kt.alias||J,st=kt.compression||st,gt=kt.rotation||kt.angle||gt}var Z=this.internal.getFilters();if(st===void 0&&Z.indexOf("FlateEncode")!==-1&&(st="SLOW"),isNaN(et)||isNaN(tt))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var I=q.call(this,D,z,J,st);return x.call(this,et,tt,dt,V,I,gt),this};var q=function(D,z,et,tt){var dt,V,J;if(typeof D=="string"&&i(D)===e){D=unescape(D);var st=rt(D,!1);(st!==""||(st=n.loadFile(D,!0))!==void 0)&&(D=st)}if(v(D)&&(D=g(D,z)),z=i(D,z),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((J=et)==null||J.length===0)&&(et=(function(gt){return typeof gt=="string"||R(gt)?C(gt):R(gt.data)?C(gt.data):null})(D)),(dt=w.call(this,et))||(D instanceof Uint8Array||z==="RGBA"||(V=D,D=B(D)),dt=this["process"+z.toUpperCase()](D,f.call(this),et,(function(gt){return gt&&typeof gt=="string"&&(gt=gt.toUpperCase()),gt in n.image_compression?gt:O.NONE})(tt),V)),!dt)throw new Error("An unknown error occurred whilst processing the image.");return dt},rt=n.__addimage__.convertBase64ToBinaryString=function(D,z){z=typeof z!="boolean"||z;var et,tt="";if(typeof D=="string"){var dt;et=(dt=k(D))!==null&&dt!==void 0?dt:D;try{tt=L0(et)}catch(V){if(z)throw N(et)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return tt};n.getImageProperties=function(D){var z,et,tt="";if(v(D)&&(D=g(D)),typeof D=="string"&&i(D)===e&&((tt=rt(D,!1))===""&&(tt=n.loadFile(D)||""),D=tt),et=i(D),!p(et))throw new Error("addImage does not support files of type '"+et+"', please ensure that a plugin for '"+et+"' support is added.");if(D instanceof Uint8Array||(D=B(D)),!(z=this["process"+et.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=et,z}})(pe.API),(function(n){var t=function(e){if(e!==void 0&&e!="")return!0};pe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(e.objId),h=e.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((r=h[p]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<h.length;v++){r=h[v];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(y.objId),O=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+g(S(r.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+g(S(O))+") >>",y.content=a;var C=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(y.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(w(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var k=this.annotations._nameMap[r.options.name];r.options.pageNumber=k.page,r.options.top=k.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var R=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+R+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(e),y:h(r),w:c(e+i),h:h(r+a)},options:o,type:"link"})},n.textWithLink=function(e,r,i,a){var o,l,c=this.getTextWidth(e),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(e,l).length;o=Math.ceil(h*f)}else l=c,o=h;return this.text(e,r,i,a),i+=.2*h,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-h,l,o,a),c},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}})(pe.API),(function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=n.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length==4},p=n.__arabicParser__.resolveLigatures=function(y){var x=0,S=e,O="",C=0;for(x=0;x<y.length;x+=1)S[y.charCodeAt(x)]!==void 0?(C++,typeof(S=S[y.charCodeAt(x)])=="number"&&(O+=String.fromCharCode(S),S=e,C=0),x===y.length-1&&(S=e,O+=y.charAt(x-(C-1)),x-=C-1,C=0)):(S=e,O+=y.charAt(x-C),x-=C,C=0);return O};n.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var v=n.__arabicParser__.getCorrectForm=function(y,x,S){return o(y)?a(y)===!1?-1:!h(y)||!o(x)&&!o(S)||!o(S)&&l(x)||l(y)&&!o(x)||l(y)&&c(x)||l(y)&&l(x)?0:f(y)&&o(x)&&!l(x)&&o(S)&&h(S)?3:l(y)||!o(S)?1:2:-1},g=function(y){var x=0,S=0,O=0,C="",N="",k="",R=(y=y||"").split("\\s+"),B=[];for(x=0;x<R.length;x+=1){for(B.push(""),S=0;S<R[x].length;S+=1)C=R[x][S],N=R[x][S-1],k=R[x][S+1],o(C)?(O=v(C,N,k),B[x]+=O!==-1?String.fromCharCode(t[C.charCodeAt(0)][O]):C):B[x]+=C;B[x]=p(B[x])}return B.join(" ")},w=n.__arabicParser__.processArabic=n.processArabic=function(){var y,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(x)){var O=0;for(S=[],O=0;O<x.length;O+=1)Array.isArray(x[O])?S.push([g(x[O][0]),x[O][1],x[O][2]]):S.push([g(x[O])]);y=S}else y=g(x);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};n.events.push(["preProcessText",w])})(pe.API),pe.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(pe.API),(function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(y){w=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),v=h.scaleFactor||this.internal.scaleFactor,g=0,w=0,y=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var S=h.maxWidth;S>0?typeof c=="string"?c=this.splitTextToSize(c,S):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,N){return C.concat(x.splitTextToSize(N,S))},[])):c=Array.isArray(c)?c:[c];for(var O=0;O<c.length;O++)g<(y=this.getStringUnitWidth(c[O],{font:p})*f)&&(g=y);return g!==0&&(w=c.length),{w:g/=v,h:Math.max((w*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,e===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,f,p,v){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,w,y,x,S=[],O=[],C=[],N={},k={},R=[],B=[],H=(v=v||{}).autoSize||!1,q=v.printHeaders!==!1,rt=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,D=v.margins||Object.assign({width:this.getPageWidth()},t),z=typeof v.padding=="number"?v.padding:3,et=v.headerBackgroundColor||"#c8c8c8",tt=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=q,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=rt,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=et,this.internal.__cell__.headerTextColor=tt,this.setFontSize(rt),p==null)O=S=Object.keys(f[0]),C=S.map(function(){return"left"});else if(Array.isArray(p)&&Rn(p[0])==="object")for(S=p.map(function(kt){return kt.name}),O=p.map(function(kt){return kt.prompt||kt.name||""}),C=p.map(function(kt){return kt.align||"left"}),g=0;g<p.length;g+=1)k[p[g].name]=.7499990551181103*p[g].width;else Array.isArray(p)&&typeof p[0]=="string"&&(O=S=p,C=S.map(function(){return"left"}));if(H||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<S.length;g+=1){for(N[x=S[g]]=f.map(function(kt){return kt[x]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(O[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=N[x],this.setFont(void 0,"normal"),y=0;y<w.length;y+=1)R.push(this.getTextDimensions(w[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[x]=Math.max.apply(null,R)+z+z,R=[]}if(q){var dt={};for(g=0;g<S.length;g+=1)dt[S[g]]={},dt[S[g]].text=O[g],dt[S[g]].align=C[g];var V=l.call(this,dt,k);B=S.map(function(kt){return new a(c,h,k[kt],V,dt[kt].text,void 0,dt[kt].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var J=p.reduce(function(kt,Z){return kt[Z.name]=Z.align,kt},{});for(g=0;g<f.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:f[g]},this);var st=l.call(this,f[g],k);for(y=0;y<S.length;y+=1){var gt=f[g][S[y]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:y,data:gt},this),o.call(this,new a(c,h,k[S[y]],st,gt,g+2,J[S[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var l=function(c,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var w=c[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,h[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/v+f+f},this).reduce(function(g,w){return Math.max(g,w)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(w)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),e=!1}})(pe.API);var v8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],H5=m8(y8),b8=[100,200,300,400,500,600,700,800,900],grt=m8(b8);function uw(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=(function(a){return v8[a=a||"normal"]?a:"normal"})(n.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(n.weight),i=(function(a){return typeof H5[a=a||"normal"]=="number"?a:"normal"})(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function CP(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var mrt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TP={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function OP(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function PP(n){return n.trimLeft()}function vrt(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function yrt(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var A0,NP,kP,Yf,x0,LP,MP,DP,cw=["times"];function RP(n,t,e,r,i){var a=4,o=jP;switch(i){case pe.API.image_compression.FAST:a=1,o=IP;break;case pe.API.image_compression.MEDIUM:a=6,o=BP;break;case pe.API.image_compression.SLOW:a=9,o=FP}n=(function(c,h,f,p){for(var v,g=c.length/h,w=new Uint8Array(c.length+g),y=[brt,IP,jP,BP,FP],x=0;x<g;x+=1){var S=x*h,O=c.subarray(S,S+h);if(p)w.set(p(O,f,v),S+x);else{for(var C=y.length,N=[],k=0;k<C;k+=1)N[k]=y[k](O,f,v);var R=Art(N.concat());w.set(N[R],S+x)}v=O}return w})(n,t,Math.ceil(e*r/8),o);var l=I5(n,{level:a});return pe.API.__addimage__.arrayBufferToBinaryString(l)}function brt(n){var t=Array.apply([],n);return t.unshift(0),t}function IP(n,t){var e=n.length,r=[];r[0]=1;for(var i=0;i<e;i+=1){var a=n[i-t]||0;r[i+1]=n[i]-a+256&255}return r}function jP(n,t,e){var r=n.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=e&&e[a]||0;i[a+1]=n[a]-o+256&255}return i}function BP(n,t,e){var r=n.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=n[a-t]||0,l=e&&e[a]||0;i[a+1]=n[a]+256-(o+l>>>1)&255}return i}function FP(n,t,e){var r=n.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=wrt(n[a-t]||0,e&&e[a]||0,e&&e[a-t]||0);i[a+1]=n[a]-o+256&255}return i}function wrt(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),i=Math.abs(n-e),a=Math.abs(n+t-e-e);return r<=i&&r<=a?n:i<=a?t:e}function Art(n){var t=n.map(function(e){return e.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function hw(n,t,e){var r=t*e,i=Math.floor(r/8),a=16-(r-8*i+e),o=(1<<e)-1;return w8(n,i)>>a&o}function zP(n,t,e,r){var i=e*r,a=Math.floor(i/8),o=16-(i-8*a+r),l=(1<<r)-1,c=(t&l)<<o;(function(h,f,p){if(f+1<h.byteLength)h.setUint16(f,p,!1);else{var v=p>>8&255;h.setUint8(f,v)}})(n,a,w8(n,a)&~(l<<o)&65535|c)}function w8(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function xrt(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],a=i>>7,o=1<<1+(7&i);n[t++],n[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var h=!0,f=[],p=0,v=null,g=0,w=null;for(this.width=e,this.height=r;h&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,w=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((D=n[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=n[t++];p=n[t++]|n[t++]<<8,v=n[t++],1&y||(v=null),g=y>>2&7,t++;break;case 254:for(;;){if(!((D=n[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var x=n[t++]|n[t++]<<8,S=n[t++]|n[t++]<<8,O=n[t++]|n[t++]<<8,C=n[t++]|n[t++]<<8,N=n[t++],k=N>>6&1,R=1<<1+(7&N),B=l,H=c,q=!1;N>>7&&(q=!0,B=t,H=R,t+=3*R);var rt=t;for(t++;;){var D;if(!((D=n[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}f.push({x,y:S,width:O,height:C,has_local_palette:q,palette_offset:B,palette_size:H,data_offset:rt,data_length:t-rt,transparent_index:v,interlaced:!!k,delay:p,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return w},this.frameInfo=function(z){if(z<0||z>=f.length)throw new Error("Frame index out of range.");return f[z]},this.decodeAndBlitFrameBGRA=function(z,et){var tt=this.frameInfo(z),dt=tt.width*tt.height,V=new Uint8Array(dt);UP(n,tt.data_offset,V,dt);var J=tt.palette_offset,st=tt.transparent_index;st===null&&(st=256);var gt=tt.width,kt=e-gt,Z=gt,I=4*(tt.y*e+tt.x),G=4*((tt.y+tt.height)*e+tt.x),X=I,lt=4*kt;tt.interlaced===!0&&(lt+=4*e*7);for(var ct=8,ht=0,_t=V.length;ht<_t;++ht){var ut=V[ht];if(Z===0&&(Z=gt,(X+=lt)>=G&&(lt=4*kt+4*e*(ct-1),X=I+(gt+kt)*(ct<<1),ct>>=1)),ut===st)X+=4;else{var Et=n[J+3*ut],Dt=n[J+3*ut+1],At=n[J+3*ut+2];et[X++]=At,et[X++]=Dt,et[X++]=Et,et[X++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(z,et){var tt=this.frameInfo(z),dt=tt.width*tt.height,V=new Uint8Array(dt);UP(n,tt.data_offset,V,dt);var J=tt.palette_offset,st=tt.transparent_index;st===null&&(st=256);var gt=tt.width,kt=e-gt,Z=gt,I=4*(tt.y*e+tt.x),G=4*((tt.y+tt.height)*e+tt.x),X=I,lt=4*kt;tt.interlaced===!0&&(lt+=4*e*7);for(var ct=8,ht=0,_t=V.length;ht<_t;++ht){var ut=V[ht];if(Z===0&&(Z=gt,(X+=lt)>=G&&(lt=4*kt+4*e*(ct-1),X=I+(gt+kt)*(ct<<1),ct>>=1)),ut===st)X+=4;else{var Et=n[J+3*ut],Dt=n[J+3*ut+1],At=n[J+3*ut+2];et[X++]=Et,et[X++]=Dt,et[X++]=At,et[X++]=255}--Z}}}function UP(n,t,e,r){for(var i=n[t++],a=1<<i,o=a+1,l=o+1,c=i+1,h=(1<<c)-1,f=0,p=0,v=0,g=n[t++],w=new Int32Array(4096),y=null;;){for(;f<16&&g!==0;)p|=n[t++]<<f,f+=8,g===1?g=n[t++]:--g;if(f<c)break;var x=p&h;if(p>>=c,f-=c,x!==a){if(x===o)break;for(var S=x<l?x:y,O=0,C=S;C>a;)C=w[C]>>8,++O;var N=C;if(v+O+(S!==x?1:0)>r)return void Kn.log("Warning, gif stream longer than expected.");e[v++]=N;var k=v+=O;for(S!==x&&(e[v++]=N),C=S;O--;)C=w[C],e[--k]=255&C,C>>=8;y!==null&&l<4096&&(w[l++]=y<<8|N,l>=h+1&&c<12&&(++c,h=h<<1|1)),y=x}else l=o+1,h=(1<<(c=i+1))-1,y=null}return v!==r&&Kn.log("Warning, gif stream shorter than expected."),e}function fw(n){var t,e,r,i,a,o=Math.floor,l=new Array(64),c=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),v=new Array(65535),g=new Array(64),w=new Array(64),y=[],x=0,S=7,O=new Array(64),C=new Array(64),N=new Array(64),k=new Array(256),R=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],rt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],et=[0,1,2,3,4,5,6,7,8,9,10,11],tt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],dt=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(I,G){for(var X=0,lt=0,ct=new Array,ht=1;ht<=16;ht++){for(var _t=1;_t<=I[ht];_t++)ct[G[lt]]=[],ct[G[lt]][0]=X,ct[G[lt]][1]=ht,lt++,X++;X*=2}return ct}function J(I){for(var G=I[0],X=I[1]-1;X>=0;)G&1<<X&&(x|=1<<S),X--,--S<0&&(x==255?(st(255),st(0)):st(x),S=7,x=0)}function st(I){y.push(I)}function gt(I){st(I>>8&255),st(255&I)}function kt(I,G,X,lt,ct){for(var ht,_t=ct[0],ut=ct[240],Et=(function($t,be){var Qt,_e,me,Be,Qe,Ie,Je,Ye,oe,je,fe=0;for(oe=0;oe<8;++oe){Qt=$t[fe],_e=$t[fe+1],me=$t[fe+2],Be=$t[fe+3],Qe=$t[fe+4],Ie=$t[fe+5],Je=$t[fe+6];var wr=Qt+(Ye=$t[fe+7]),Ze=Qt-Ye,Ee=_e+Je,Le=_e-Je,tn=me+Ie,we=me-Ie,jn=Be+Qe,Oe=Be-Qe,Me=wr+jn,Pn=wr-jn,$e=Ee+tn,de=Ee-tn;$t[fe]=Me+$e,$t[fe+4]=Me-$e;var ln=.707106781*(de+Pn);$t[fe+2]=Pn+ln,$t[fe+6]=Pn-ln;var ss=.382683433*((Me=Oe+we)-(de=Le+Ze)),_i=.5411961*Me+ss,Ms=1.306562965*de+ss,Ma=.707106781*($e=we+Le),ve=Ze+Ma,fo=Ze-Ma;$t[fe+5]=fo+_i,$t[fe+3]=fo-_i,$t[fe+1]=ve+Ms,$t[fe+7]=ve-Ms,fe+=8}for(fe=0,oe=0;oe<8;++oe){Qt=$t[fe],_e=$t[fe+8],me=$t[fe+16],Be=$t[fe+24],Qe=$t[fe+32],Ie=$t[fe+40],Je=$t[fe+48];var Ds=Qt+(Ye=$t[fe+56]),pa=Qt-Ye,ga=_e+Je,Qn=_e-Je,Nr=me+Ie,Qr=me-Ie,tl=Be+Qe,qi=Be-Qe,Nn=Ds+tl,er=Ds-tl,Ei=ga+Nr,ma=ga-Nr;$t[fe]=Nn+Ei,$t[fe+32]=Nn-Ei;var Da=.707106781*(ma+er);$t[fe+16]=er+Da,$t[fe+48]=er-Da;var jl=.382683433*((Nn=qi+Qr)-(ma=Qn+pa)),os=.5411961*Nn+jl,ls=1.306562965*ma+jl,el=.707106781*(Ei=Qr+Qn),us=pa+el,cs=pa-el;$t[fe+40]=cs+os,$t[fe+24]=cs-os,$t[fe+8]=us+ls,$t[fe+56]=us-ls,fe++}for(oe=0;oe<64;++oe)je=$t[oe]*be[oe],g[oe]=je>0?je+.5|0:je-.5|0;return g})(I,G),Dt=0;Dt<64;++Dt)w[B[Dt]]=Et[Dt];var At=w[0]-X;X=w[0],At==0?J(lt[0]):(J(lt[v[ht=32767+At]]),J(p[ht]));for(var Wt=63;Wt>0&&w[Wt]==0;)Wt--;if(Wt==0)return J(_t),X;for(var Vt,nt=1;nt<=Wt;){for(var Yt=nt;w[nt]==0&&nt<=Wt;)++nt;var Ne=nt-Yt;if(Ne>=16){Vt=Ne>>4;for(var ge=1;ge<=Vt;++ge)J(ut);Ne&=15}ht=32767+w[nt],J(ct[(Ne<<4)+v[ht]]),J(p[ht]),nt++}return Wt!=63&&J(_t),X}function Z(I){I=Math.min(Math.max(I,1),100),a!=I&&((function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],lt=0;lt<64;lt++){var ct=o((X[lt]*G+50)/100);ct=Math.min(Math.max(ct,1),255),l[B[lt]]=ct}for(var ht=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_t=0;_t<64;_t++){var ut=o((ht[_t]*G+50)/100);ut=Math.min(Math.max(ut,1),255),c[B[_t]]=ut}for(var Et=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Dt=0,At=0;At<8;At++)for(var Wt=0;Wt<8;Wt++)h[Dt]=1/(l[B[Dt]]*Et[At]*Et[Wt]*8),f[Dt]=1/(c[B[Dt]]*Et[At]*Et[Wt]*8),Dt++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),a=I)}this.encode=function(I,G){G&&Z(G),y=new Array,x=0,S=7,gt(65496),gt(65504),gt(16),st(74),st(70),st(73),st(70),st(0),st(1),st(1),st(0),gt(1),gt(1),st(0),st(0),(function(){gt(65499),gt(132),st(0);for(var _e=0;_e<64;_e++)st(l[_e]);st(1);for(var me=0;me<64;me++)st(c[me])})(),(function(_e,me){gt(65472),gt(17),st(8),gt(me),gt(_e),st(3),st(1),st(17),st(0),st(2),st(17),st(1),st(3),st(17),st(1)})(I.width,I.height),(function(){gt(65476),gt(418),st(0);for(var _e=0;_e<16;_e++)st(H[_e+1]);for(var me=0;me<=11;me++)st(q[me]);st(16);for(var Be=0;Be<16;Be++)st(rt[Be+1]);for(var Qe=0;Qe<=161;Qe++)st(D[Qe]);st(1);for(var Ie=0;Ie<16;Ie++)st(z[Ie+1]);for(var Je=0;Je<=11;Je++)st(et[Je]);st(17);for(var Ye=0;Ye<16;Ye++)st(tt[Ye+1]);for(var oe=0;oe<=161;oe++)st(dt[oe])})(),gt(65498),gt(12),st(3),st(1),st(0),st(2),st(17),st(3),st(17),st(0),st(63),st(0);var X=0,lt=0,ct=0;x=0,S=7,this.encode.displayName="_encode_";for(var ht,_t,ut,Et,Dt,At,Wt,Vt,nt,Yt=I.data,Ne=I.width,ge=I.height,$t=4*Ne,be=0;be<ge;){for(ht=0;ht<$t;){for(Dt=$t*be+ht,Wt=-1,Vt=0,nt=0;nt<64;nt++)At=Dt+(Vt=nt>>3)*$t+(Wt=4*(7&nt)),be+Vt>=ge&&(At-=$t*(be+1+Vt-ge)),ht+Wt>=$t&&(At-=ht+Wt-$t+4),_t=Yt[At++],ut=Yt[At++],Et=Yt[At++],O[nt]=(R[_t]+R[ut+256|0]+R[Et+512|0]>>16)-128,C[nt]=(R[_t+768|0]+R[ut+1024|0]+R[Et+1280|0]>>16)-128,N[nt]=(R[_t+1280|0]+R[ut+1536|0]+R[Et+1792|0]>>16)-128;X=kt(O,h,X,t,r),lt=kt(C,f,lt,e,i),ct=kt(N,f,ct,e,i),ht+=32}be+=8}if(S>=0){var Qt=[];Qt[1]=S+1,Qt[0]=(1<<S+1)-1,J(Qt)}return gt(65497),new Uint8Array(y)},n=n||50,(function(){for(var I=String.fromCharCode,G=0;G<256;G++)k[G]=I(G)})(),t=V(H,q),e=V(z,et),r=V(rt,D),i=V(tt,dt),(function(){for(var I=1,G=2,X=1;X<=15;X++){for(var lt=I;lt<G;lt++)v[32767+lt]=X,p[32767+lt]=[],p[32767+lt][1]=X,p[32767+lt][0]=lt;for(var ct=-(G-1);ct<=-I;ct++)v[32767+ct]=X,p[32767+ct]=[],p[32767+ct][1]=X,p[32767+ct][0]=G-1+ct;I<<=1,G<<=1}})(),(function(){for(var I=0;I<256;I++)R[I]=19595*I,R[I+256|0]=38470*I,R[I+512|0]=7471*I+32768,R[I+768|0]=-11059*I,R[I+1024|0]=-21709*I,R[I+1280|0]=32768*I+8421375,R[I+1536|0]=-27439*I,R[I+1792|0]=-5329*I})(),Z(n)}function Uo(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qP(n){function t(q){if(!q)throw Error("assert :P")}function e(q,rt,D){for(var z=0;4>z;z++)if(q[rt+z]!=D.charCodeAt(z))return!0;return!1}function r(q,rt,D,z,et){for(var tt=0;tt<et;tt++)q[rt+tt]=D[z+tt]}function i(q,rt,D,z){for(var et=0;et<z;et++)q[rt+et]=D}function a(q){return new Int32Array(q)}function o(q,rt){for(var D=[],z=0;z<q;z++)D.push(new rt);return D}function l(q,rt){var D=[];return(function z(et,tt,dt){for(var V=dt[tt],J=0;J<V&&(et.push(dt.length>tt+1?[]:new rt),!(dt.length<tt+1));J++)z(et[J],tt+1,dt)})(D,0,q),D}var c=function(){var q=this;function rt(b,_){for(var P=1<<_-1>>>0;b&P;)P>>>=1;return P?(b&P-1)+P:b}function D(b,_,P,L,U){t(!(L%P));do b[_+(L-=P)]=U;while(0<L)}function z(b,_,P,L,U){if(t(2328>=U),512>=U)var $=a(512);else if(($=a(U))==null)return 0;return(function(W,K,Q,at,mt,Ct){var it,yt,xt=K,It=1<<Q,St=a(16),Rt=a(16);for(t(mt!=0),t(at!=null),t(W!=null),t(0<Q),yt=0;yt<mt;++yt){if(15<at[yt])return 0;++St[at[yt]]}if(St[0]==mt)return 0;for(Rt[1]=0,it=1;15>it;++it){if(St[it]>1<<it)return 0;Rt[it+1]=Rt[it]+St[it]}for(yt=0;yt<mt;++yt)it=at[yt],0<at[yt]&&(Ct[Rt[it]++]=yt);if(Rt[15]==1)return(at=new et).g=0,at.value=Ct[0],D(W,xt,1,It,at),It;var Ft,Gt=-1,qt=It-1,ae=0,Xt=1,De=1,Jt=1<<Q;for(yt=0,it=1,mt=2;it<=Q;++it,mt<<=1){if(Xt+=De<<=1,0>(De-=St[it]))return 0;for(;0<St[it];--St[it])(at=new et).g=it,at.value=Ct[yt++],D(W,xt+ae,mt,Jt,at),ae=rt(ae,it)}for(it=Q+1,mt=2;15>=it;++it,mt<<=1){if(Xt+=De<<=1,0>(De-=St[it]))return 0;for(;0<St[it];--St[it]){if(at=new et,(ae&qt)!=Gt){for(xt+=Jt,Ft=1<<(Gt=it)-Q;15>Gt&&!(0>=(Ft-=St[Gt]));)++Gt,Ft<<=1;It+=Jt=1<<(Ft=Gt-Q),W[K+(Gt=ae&qt)].g=Ft+Q,W[K+Gt].value=xt-K-Gt}at.g=it-Q,at.value=Ct[yt++],D(W,xt+(ae>>Q),mt,Jt,at),ae=rt(ae,it)}}return Xt!=2*Rt[15]-1?0:It})(b,_,P,L,U,$)}function et(){this.value=this.g=0}function tt(){this.value=this.g=0}function dt(){this.G=o(5,et),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(sl,tt)}function V(b,_,P,L){t(b!=null),t(_!=null),t(2147483648>L),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=P,b.Jd=_,b.Yc=P+L,b.Zc=4<=L?P+L-4+1:P,_t(b)}function J(b,_){for(var P=0;0<_--;)P|=Et(b,128)<<_;return P}function st(b,_){var P=J(b,_);return ut(b)?-P:P}function gt(b,_,P,L){var U,$=0;for(t(b!=null),t(_!=null),t(4294967288>L),b.Sb=L,b.Ra=0,b.u=0,b.h=0,4<L&&(L=4),U=0;U<L;++U)$+=_[P+U]<<8*U;b.Ra=$,b.bb=L,b.oa=_,b.pa=P}function kt(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Us-8>>>0,++b.bb,b.u-=8;lt(b)&&(b.h=1,b.u=0)}function Z(b,_){if(t(0<=_),!b.h&&_<=Wi){var P=X(b)&ia[_];return b.u+=_,kt(b),P}return b.h=1,b.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(b){return b.Ra>>>(b.u&Us-1)>>>0}function lt(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Us}function ct(b,_){b.u=_,b.h=lt(b)}function ht(b){b.u>=qs&&(t(b.u>=qs),kt(b))}function _t(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ut(b){return J(b,1)}function Et(b,_){var P=b.Ca;0>b.b&&_t(b);var L=b.b,U=P*_>>>8,$=(b.I>>>L>U)+0;for($?(P-=U,b.I-=U+1<<L>>>0):P=U+1,L=P,U=0;256<=L;)U+=8,L>>=8;return L=7^U+Oo[L],b.b-=L,b.Ca=(P<<L)-1,$}function Dt(b,_,P){b[_+0]=P>>24&255,b[_+1]=P>>16&255,b[_+2]=P>>8&255,b[_+3]=255&P}function At(b,_){return b[_+0]|b[_+1]<<8}function Wt(b,_){return At(b,_)|b[_+2]<<16}function Vt(b,_){return At(b,_)|At(b,_+2)<<16}function nt(b,_){var P=1<<_;return t(b!=null),t(0<_),b.X=a(P),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function Yt(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),r(_.X,0,b.X,0,1<<_.Xa)}function Ne(){this.X=[],this.Xa=this.Mb=0}function ge(b,_,P,L){t(P!=null),t(L!=null);var U=P[0],$=L[0];return U==0&&(U=(b*$+_/2)/_),$==0&&($=(_*U+b/2)/b),0>=U||0>=$?0:(P[0]=U,L[0]=$,1)}function $t(b,_){return b+(1<<_)-1>>>_}function be(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function Qt(b,_){q[_]=function(P,L,U,$,W,K,Q){var at;for(at=0;at<W;++at){var mt=q[b](K[Q+at-1],U,$+at);K[Q+at]=be(P[L+at],mt)}}}function _e(){this.ud=this.hd=this.jd=0}function me(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function Be(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Qe(b,_){return Be(b+(b-_+.5>>1))}function Ie(b,_,P){return Math.abs(_-P)-Math.abs(b-P)}function Je(b,_,P,L,U,$,W){for(L=$[W-1],P=0;P<U;++P)$[W+P]=L=be(b[_+P],L)}function Ye(b,_,P,L,U){var $;for($=0;$<P;++$){var W=b[_+$],K=W>>8&255,Q=16711935&(Q=(Q=16711935&W)+((K<<16)+K));L[U+$]=(4278255360&W)+Q>>>0}}function oe(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function je(b,_,P,L,U,$){var W;for(W=0;W<L;++W){var K=_[P+W],Q=K>>>8,at=K,mt=255&(mt=(mt=K>>>16)+((b.jd<<24>>24)*(Q<<24>>24)>>>5));at=255&(at=(at+=(b.hd<<24>>24)*(Q<<24>>24)>>>5)+((b.ud<<24>>24)*(mt<<24>>24)>>>5)),U[$+W]=(4278255360&K)+(mt<<16)+at}}function fe(b,_,P,L,U){q[_]=function($,W,K,Q,at,mt,Ct,it,yt){for(Q=Ct;Q<it;++Q)for(Ct=0;Ct<yt;++Ct)at[mt++]=U(K[L($[W++])])},q[b]=function($,W,K,Q,at,mt,Ct){var it=8>>$.b,yt=$.Ea,xt=$.K[0],It=$.w;if(8>it)for($=(1<<$.b)-1,It=(1<<it)-1;W<K;++W){var St,Rt=0;for(St=0;St<yt;++St)St&$||(Rt=L(Q[at++])),mt[Ct++]=U(xt[Rt&It]),Rt>>=it}else q["VP8LMapColor"+P](Q,at,xt,It,mt,Ct,W,K,yt)}}function wr(b,_,P,L,U){for(P=_+P;_<P;){var $=b[_++];L[U++]=$>>16&255,L[U++]=$>>8&255,L[U++]=255&$}}function Ze(b,_,P,L,U){for(P=_+P;_<P;){var $=b[_++];L[U++]=$>>16&255,L[U++]=$>>8&255,L[U++]=255&$,L[U++]=$>>24&255}}function Ee(b,_,P,L,U){for(P=_+P;_<P;){var $=(W=b[_++])>>16&240|W>>12&15,W=240&W|W>>28&15;L[U++]=$,L[U++]=W}}function Le(b,_,P,L,U){for(P=_+P;_<P;){var $=(W=b[_++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;L[U++]=$,L[U++]=W}}function tn(b,_,P,L,U){for(P=_+P;_<P;){var $=b[_++];L[U++]=255&$,L[U++]=$>>8&255,L[U++]=$>>16&255}}function we(b,_,P,L,U,$){if($==0)for(P=_+P;_<P;)Dt(L,(($=b[_++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),U+=32;else r(L,U,b,_,P)}function jn(b,_){q[_][0]=q[b+"0"],q[_][1]=q[b+"1"],q[_][2]=q[b+"2"],q[_][3]=q[b+"3"],q[_][4]=q[b+"4"],q[_][5]=q[b+"5"],q[_][6]=q[b+"6"],q[_][7]=q[b+"7"],q[_][8]=q[b+"8"],q[_][9]=q[b+"9"],q[_][10]=q[b+"10"],q[_][11]=q[b+"11"],q[_][12]=q[b+"12"],q[_][13]=q[b+"13"],q[_][14]=q[b+"0"],q[_][15]=q[b+"0"]}function Oe(b){return b==sh||b==df||b==Qu||b==pf}function Me(){this.eb=[],this.size=this.A=this.fb=0}function Pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $e(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Me,this.f.kb=new Pn,this.sd=null}function de(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ss(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function _i(b,_){var P=b.T,L=_.ba.f.RGBA,U=L.eb,$=L.fb+b.ka*L.A,W=pi[_.ba.S],K=b.y,Q=b.O,at=b.f,mt=b.N,Ct=b.ea,it=b.W,yt=_.cc,xt=_.dc,It=_.Mc,St=_.Nc,Rt=b.ka,Ft=b.ka+b.T,Gt=b.U,qt=Gt+1>>1;for(Rt==0?W(K,Q,null,null,at,mt,Ct,it,at,mt,Ct,it,U,$,null,null,Gt):(W(_.ec,_.fc,K,Q,yt,xt,It,St,at,mt,Ct,it,U,$-L.A,U,$,Gt),++P);Rt+2<Ft;Rt+=2)yt=at,xt=mt,It=Ct,St=it,mt+=b.Rc,it+=b.Rc,$+=2*L.A,W(K,(Q+=2*b.fa)-b.fa,K,Q,yt,xt,It,St,at,mt,Ct,it,U,$-L.A,U,$,Gt);return Q+=b.fa,b.j+Ft<b.o?(r(_.ec,_.fc,K,Q,Gt),r(_.cc,_.dc,at,mt,qt),r(_.Mc,_.Nc,Ct,it,qt),P--):1&Ft||W(K,Q,null,null,at,mt,Ct,it,at,mt,Ct,it,U,$+L.A,null,null,Gt),P}function Ms(b,_,P){var L=b.F,U=[b.J];if(L!=null){var $=b.U,W=_.ba.S,K=W==ah||W==Qu;_=_.ba.f.RGBA;var Q=[0],at=b.ka;Q[0]=b.T,b.Kb&&(at==0?--Q[0]:(--at,U[0]-=b.width),b.j+b.ka+b.T==b.o&&(Q[0]=b.o-b.j-at));var mt=_.eb;at=_.fb+at*_.A,b=eh(L,U[0],b.width,$,Q,mt,at+(K?0:3),_.A),t(P==Q),b&&Oe(W)&&Yl(mt,at,K,$,Q,_.A)}return 0}function Ma(b){var _=b.ma,P=_.ba.S,L=11>P,U=P==Oi||P==Fa||P==ah||P==Zu||P==12||Oe(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!To(_.Oa,b,U?11:12))return 0;if(U&&Oe(P)&&Zc(),b.da)alert("todo:use_scaling");else{if(L){if(_.Ib=ss,b.Kb){if(P=b.U+1>>1,_.memory=a(b.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=_i,Zc()}}else alert("todo:EmitYUV");U&&(_.Jb=Ms,L&&gs())}if(L&&!dl){for(b=0;256>b;++b)gi[b]=89858*(b-128)+ec>>Ga,z1[b]=-22014*(b-128)+ec,em[b]=-45773*(b-128),bf[b]=113618*(b-128)+ec>>Ga;for(b=Ql;b<fl;++b)_=76283*(b-16)+ec>>Ga,U1[b-Ql]=ya(_,255),q1[b-Ql]=ya(_+8>>4,15);dl=1}return 1}function ve(b){var _=b.ma,P=b.U,L=b.T;return t(!(1&b.ka)),0>=P||0>=L?0:(P=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,P),_.Dc+=P,1)}function fo(b){b.ma.memory=null}function Ds(b,_,P,L){return Z(b,8)!=47?0:(_[0]=Z(b,14)+1,P[0]=Z(b,14)+1,L[0]=Z(b,1),Z(b,3)!=0?0:!b.h)}function pa(b,_){if(4>b)return b+1;var P=b-2>>1;return(2+(1&b)<<P)+Z(_,P)+1}function ga(b,_){return 120<_?_-120:1<=(P=((P=Ua[_-1])>>4)*b+(8-(15&P)))?P:1;var P}function Qn(b,_,P){var L=X(P),U=b[_+=255&L].g-8;return 0<U&&(ct(P,P.u+8),L=X(P),_+=b[_].value,_+=L&(1<<U)-1),ct(P,P.u+b[_].g),b[_].value}function Nr(b,_,P){return P.g+=b.g,P.value+=b.value<<_>>>0,t(8>=P.g),b.g}function Qr(b,_,P){var L=b.xc;return t((_=L==0?0:b.vc[b.md*(P>>L)+(_>>L)])<b.Wb),b.Ya[_]}function tl(b,_,P,L){var U=b.ab,$=b.c*_,W=b.C;_=W+_;var K=P,Q=L;for(L=b.Ta,P=b.Ua;0<U--;){var at=b.gc[U],mt=W,Ct=_,it=K,yt=Q,xt=(Q=L,K=P,at.Ea);switch(t(mt<Ct),t(Ct<=at.nc),at.hc){case 2:Sr(it,yt,(Ct-mt)*xt,Q,K);break;case 0:var It=mt,St=Ct,Rt=Q,Ft=K,Gt=(Jt=at).Ea;It==0&&(Vu(it,yt,null,null,1,Rt,Ft),Je(it,yt+1,0,0,Gt-1,Rt,Ft+1),yt+=Gt,Ft+=Gt,++It);for(var qt=1<<Jt.b,ae=qt-1,Xt=$t(Gt,Jt.b),De=Jt.K,Jt=Jt.w+(It>>Jt.b)*Xt;It<St;){var en=De,Vn=Jt,ze=1;for(Yu(it,yt,Rt,Ft-Gt,1,Rt,Ft);ze<Gt;){var Zt=(ze&~ae)+qt;Zt>Gt&&(Zt=Gt),(0,Po[en[Vn++]>>8&15])(it,yt+ +ze,Rt,Ft+ze-Gt,Zt-ze,Rt,Ft+ze),ze=Zt}yt+=Gt,Ft+=Gt,++It&ae||(Jt+=Xt)}Ct!=at.nc&&r(Q,K-xt,Q,K+(Ct-mt-1)*xt,xt);break;case 1:for(xt=it,St=yt,Gt=(it=at.Ea)-(Ft=it&~(Rt=(yt=1<<at.b)-1)),It=$t(it,at.b),qt=at.K,at=at.w+(mt>>at.b)*It;mt<Ct;){for(ae=qt,Xt=at,De=new _e,Jt=St+Ft,en=St+it;St<Jt;)oe(ae[Xt++],De),Ku(De,xt,St,yt,Q,K),St+=yt,K+=yt;St<en&&(oe(ae[Xt++],De),Ku(De,xt,St,Gt,Q,K),St+=Gt,K+=Gt),++mt&Rt||(at+=It)}break;case 3:if(it==Q&&yt==K&&0<at.b){for(St=Q,it=xt=K+(Ct-mt)*xt-(Ft=(Ct-mt)*$t(at.Ea,at.b)),yt=Q,Rt=K,It=[],Ft=(Gt=Ft)-1;0<=Ft;--Ft)It[Ft]=yt[Rt+Ft];for(Ft=Gt-1;0<=Ft;--Ft)St[it+Ft]=It[Ft];lf(at,mt,Ct,Q,xt,Q,K)}else lf(at,mt,Ct,it,yt,Q,K)}K=L,Q=P}Q!=P&&r(L,P,K,Q,$)}function qi(b,_){var P=b.V,L=b.Ba+b.c*b.C,U=_-b.C;if(t(_<=b.l.o),t(16>=U),0<U){var $=b.l,W=b.Ta,K=b.Ua,Q=$.width;if(tl(b,U,P,L),U=K=[K],t((P=b.C)<(L=_)),t($.v<$.va),L>$.o&&(L=$.o),P<$.j){var at=$.j-P;P=$.j,U[0]+=at*Q}if(P>=L?P=0:(U[0]+=4*$.v,$.ka=P-$.j,$.U=$.va-$.v,$.T=L-P,P=1),P){if(K=K[0],11>(P=b.ca).S){var mt=P.f.RGBA,Ct=(L=P.S,U=$.U,$=$.T,at=mt.eb,mt.A),it=$;for(mt=mt.fb+b.Ma*mt.A;0<it--;){var yt=W,xt=K,It=U,St=at,Rt=mt;switch(L){case hf:Xu(yt,xt,It,St,Rt);break;case Oi:No(yt,xt,It,St,Rt);break;case sh:No(yt,xt,It,St,Rt),Yl(St,Rt,0,It,1,0);break;case ff:Wl(yt,xt,It,St,Rt);break;case Fa:we(yt,xt,It,St,Rt,1);break;case df:we(yt,xt,It,St,Rt,1),Yl(St,Rt,0,It,1,0);break;case ah:we(yt,xt,It,St,Rt,0);break;case Qu:we(yt,xt,It,St,Rt,0),Yl(St,Rt,1,It,1,0);break;case Zu:ko(yt,xt,It,St,Rt);break;case pf:ko(yt,xt,It,St,Rt),Ba(St,Rt,It,1,0);break;case ol:Gs(yt,xt,It,St,Rt);break;default:t(0)}K+=Q,mt+=Ct}b.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=P.height)}}b.C=_,t(b.C<=b.i)}function Nn(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var P=b.Ya[_].G,L=b.Ya[_].H;if(0<P[1][L[1]+0].g||0<P[2][L[2]+0].g||0<P[3][L[3]+0].g)return 0}return 1}function er(b,_,P,L,U,$){if(b.Z!=0){var W=b.qd,K=b.rd;for(t(Do[b.Z]!=null);_<P;++_)Do[b.Z](W,K,L,U,L,U,$),W=L,K=U,U+=$;b.qd=W,b.rd=K}}function Ei(b,_){var P=b.l.ma,L=P.Z==0||P.Z==1?b.l.j:b.C;if(L=b.C<L?L:b.C,t(_<=b.l.o),_>L){var U=b.l.width,$=P.ca,W=P.tb+U*L,K=b.V,Q=b.Ba+b.c*L,at=b.gc;t(b.ab==1),t(at[0].hc==3),$s(at[0],L,_,K,Q,$,W),er(P,L,_,$,W,U)}b.C=b.Ma=_}function ma(b,_,P,L,U,$,W){var K=b.$/L,Q=b.$%L,at=b.m,mt=b.s,Ct=P+b.$,it=Ct;U=P+L*U;var yt=P+L*$,xt=280+mt.ua,It=b.Pb?K:16777216,St=0<mt.ua?mt.Wa:null,Rt=mt.wc,Ft=Ct<yt?Qr(mt,Q,K):null;t(b.C<$),t(yt<=U);var Gt=!1;t:for(;;){for(;Gt||Ct<yt;){var qt=0;if(K>=It){var ae=Ct-P;t((It=b).Pb),It.wd=It.m,It.xd=ae,0<It.s.ua&&Yt(It.s.Wa,It.s.vb),It=K+ll}if(Q&Rt||(Ft=Qr(mt,Q,K)),t(Ft!=null),Ft.Qb&&(_[Ct]=Ft.qb,Gt=!0),!Gt)if(ht(at),Ft.jc){qt=at,ae=_;var Xt=Ct,De=Ft.pd[X(qt)&sl-1];t(Ft.jc),256>De.g?(ct(qt,qt.u+De.g),ae[Xt]=De.value,qt=0):(ct(qt,qt.u+De.g-256),t(256<=De.value),qt=De.value),qt==0&&(Gt=!0)}else qt=Qn(Ft.G[0],Ft.H[0],at);if(at.h)break;if(Gt||256>qt){if(!Gt)if(Ft.nd)_[Ct]=(Ft.qb|qt<<8)>>>0;else{if(ht(at),Gt=Qn(Ft.G[1],Ft.H[1],at),ht(at),ae=Qn(Ft.G[2],Ft.H[2],at),Xt=Qn(Ft.G[3],Ft.H[3],at),at.h)break;_[Ct]=(Xt<<24|Gt<<16|qt<<8|ae)>>>0}if(Gt=!1,++Ct,++Q>=L&&(Q=0,++K,W!=null&&K<=$&&!(K%16)&&W(b,K),St!=null))for(;it<Ct;)qt=_[it++],St.X[(506832829*qt&4294967295)>>>St.Mb]=qt}else if(280>qt){if(qt=pa(qt-256,at),ae=Qn(Ft.G[4],Ft.H[4],at),ht(at),ae=ga(L,ae=pa(ae,at)),at.h)break;if(Ct-P<ae||U-Ct<qt)break t;for(Xt=0;Xt<qt;++Xt)_[Ct+Xt]=_[Ct+Xt-ae];for(Ct+=qt,Q+=qt;Q>=L;)Q-=L,++K,W!=null&&K<=$&&!(K%16)&&W(b,K);if(t(Ct<=U),Q&Rt&&(Ft=Qr(mt,Q,K)),St!=null)for(;it<Ct;)qt=_[it++],St.X[(506832829*qt&4294967295)>>>St.Mb]=qt}else{if(!(qt<xt))break t;for(Gt=qt-280,t(St!=null);it<Ct;)qt=_[it++],St.X[(506832829*qt&4294967295)>>>St.Mb]=qt;qt=Ct,t(!(Gt>>>(ae=St).Xa)),_[qt]=ae.X[Gt],Gt=!0}Gt||t(at.h==lt(at))}if(b.Pb&&at.h&&Ct<U)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Yt(b.s.vb,b.s.Wa);else{if(at.h)break t;W?.(b,K>$?$:K),b.a=0,b.$=Ct-P}return 1}return b.a=3,0}function Da(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function jl(){var b=new ke;return b==null?null:(b.a=0,b.xb=Vd,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),Sr=Ye,Ku=je,Xu=wr,No=Ze,ko=Ee,Gs=Le,Wl=tn,q.VP8LMapColor32b=Hs,q.VP8LMapColor8b=hi,b)}function os(b,_,P,L,U){var $=1,W=[b],K=[_],Q=L.m,at=L.s,mt=null,Ct=0;t:for(;;){if(P)for(;$&&Z(Q,1);){var it=W,yt=K,xt=L,It=1,St=xt.m,Rt=xt.gc[xt.ab],Ft=Z(St,2);if(xt.Oc&1<<Ft)$=0;else{switch(xt.Oc|=1<<Ft,Rt.hc=Ft,Rt.Ea=it[0],Rt.nc=yt[0],Rt.K=[null],++xt.ab,t(4>=xt.ab),Ft){case 0:case 1:Rt.b=Z(St,3)+2,It=os($t(Rt.Ea,Rt.b),$t(Rt.nc,Rt.b),0,xt,Rt.K),Rt.K=Rt.K[0];break;case 3:var Gt,qt=Z(St,8)+1,ae=16<qt?0:4<qt?1:2<qt?2:3;if(it[0]=$t(Rt.Ea,ae),Rt.b=ae,Gt=It=os(qt,1,0,xt,Rt.K)){var Xt,De=qt,Jt=Rt,en=1<<(8>>Jt.b),Vn=a(en);if(Vn==null)Gt=0;else{var ze=Jt.K[0],Zt=Jt.w;for(Vn[0]=Jt.K[0][0],Xt=1;Xt<1*De;++Xt)Vn[Xt]=be(ze[Zt+Xt],Vn[Xt-1]);for(;Xt<4*en;++Xt)Vn[Xt]=0;Jt.K[0]=null,Jt.K[0]=Vn,Gt=1}}It=Gt;break;case 2:break;default:t(0)}$=It}}if(W=W[0],K=K[0],$&&Z(Q,1)&&!($=1<=(Ct=Z(Q,4))&&11>=Ct)){L.a=3;break t}var Kt;if(Kt=$)e:{var rr,Te,Ge,_n=L,$r=W,mi=K,zn=Ct,Mr=P,Pi=_n.m,Dr=_n.s,Xe=[null],pn=1,ir=0,bn=qa[zn];n:for(;;){if(Mr&&Z(Pi,1)){var Gr=Z(Pi,3)+2,ar=$t($r,Gr),gn=$t(mi,Gr),Cr=ar*gn;if(!os(ar,gn,0,_n,Xe))break n;for(Xe=Xe[0],Dr.xc=Gr,rr=0;rr<Cr;++rr){var En=Xe[rr]>>8&65535;Xe[rr]=En,En>=pn&&(pn=En+1)}}if(Pi.h)break n;for(Te=0;5>Te;++Te){var Rr=Xl[Te];!Te&&0<zn&&(Rr+=1<<zn),ir<Rr&&(ir=Rr)}var Ir=o(pn*bn,et),kn=pn,hn=o(kn,dt);if(hn==null)var Ni=null;else t(65536>=kn),Ni=hn;var cr=a(ir);if(Ni==null||cr==null||Ir==null){_n.a=1;break n}var ye=Ir;for(rr=Ge=0;rr<pn;++rr){var Ae=Ni[rr],mn=Ae.G,aa=Ae.H,Wa=0,Yi=1,jr=0;for(Te=0;5>Te;++Te){Rr=Xl[Te],mn[Te]=ye,aa[Te]=Ge,!Te&&0<zn&&(Rr+=1<<zn);i:{var pl,gl=Rr,Af=_n,Un=cr,Kd=ye,Xd=Ge,xf=0,Ro=Af.m,H1=Z(Ro,1);if(i(Un,0,0,gl),H1){var Zd=Z(Ro,1)+1,Qd=Z(Ro,1),Sf=Z(Ro,Qd==0?1:8);Un[Sf]=1,Zd==2&&(Un[Sf=Z(Ro,8)]=1);var ei=1}else{var hr=a(19),ch=Z(Ro,4)+4;if(19<ch){Af.a=3;var ml=0;break i}for(pl=0;pl<ch;++pl)hr[oh[pl]]=Z(Ro,3);var rc=void 0,Jl=void 0,Ys=Af,_f=hr,ic=gl,Ef=Un,Cf=0,Io=Ys.m,Jd=8,tp=o(128,et);r:for(;z(tp,0,7,_f,19);){if(Z(Io,1)){var nm=2+2*Z(Io,3);if((rc=2+Z(Io,nm))>ic)break r}else rc=ic;for(Jl=0;Jl<ic&&rc--;){ht(Io);var ep=tp[0+(127&X(Io))];ct(Io,Io.u+ep.g);var vl=ep.value;if(16>vl)Ef[Jl++]=vl,vl!=0&&(Jd=vl);else{var rm=vl==16,im=vl-16,am=Ju[im],np=Z(Io,za[im])+am;if(Jl+np>ic)break r;for(var sm=rm?Jd:0;0<np--;)Ef[Jl++]=sm}}Cf=1;break r}Cf||(Ys.a=3),ei=Cf}(ei=ei&&!Ro.h)&&(xf=z(Kd,Xd,8,Un,gl)),ei&&xf!=0?ml=xf:(Af.a=3,ml=0)}if(ml==0)break n;if(Yi&&gf[Te]==1&&(Yi=ye[Ge].g==0),Wa+=ye[Ge].g,Ge+=ml,3>=Te){var tu,Tf=cr[0];for(tu=1;tu<Rr;++tu)cr[tu]>Tf&&(Tf=cr[tu]);jr+=Tf}}if(Ae.nd=Yi,Ae.Qb=0,Yi&&(Ae.qb=(mn[3][aa[3]+0].value<<24|mn[1][aa[1]+0].value<<16|mn[2][aa[2]+0].value)>>>0,Wa==0&&256>mn[0][aa[0]+0].value&&(Ae.Qb=1,Ae.qb+=mn[0][aa[0]+0].value<<8)),Ae.jc=!Ae.Qb&&6>jr,Ae.jc){var hh,Ks=Ae;for(hh=0;hh<sl;++hh){var jo=hh,Bo=Ks.pd[jo],Of=Ks.G[0][Ks.H[0]+jo];256<=Of.value?(Bo.g=Of.g+256,Bo.value=Of.value):(Bo.g=0,Bo.value=0,jo>>=Nr(Of,8,Bo),jo>>=Nr(Ks.G[1][Ks.H[1]+jo],16,Bo),jo>>=Nr(Ks.G[2][Ks.H[2]+jo],0,Bo),Nr(Ks.G[3][Ks.H[3]+jo],24,Bo))}}}Dr.vc=Xe,Dr.Wb=pn,Dr.Ya=Ni,Dr.yc=Ir,Kt=1;break e}Kt=0}if(!($=Kt)){L.a=3;break t}if(0<Ct){if(at.ua=1<<Ct,!nt(at.Wa,Ct)){L.a=1,$=0;break t}}else at.ua=0;var Pf=L,eu=W,om=K,ac=Pf.s,sc=ac.xc;if(Pf.c=eu,Pf.i=om,ac.md=$t(eu,sc),ac.wc=sc==0?-1:(1<<sc)-1,P){L.xb=ul;break t}if((mt=a(W*K))==null){L.a=1,$=0;break t}$=($=ma(L,mt,0,W,K,K,null))&&!Q.h;break t}return $?(U!=null?U[0]=mt:(t(mt==null),t(P)),L.$=0,P||Da(at)):Da(at),$}function ls(b,_){var P=b.c*b.i,L=P+_+16*_;return t(b.c<=_),b.V=a(L),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+P+_,1)}function el(b,_){var P=b.C,L=_-P,U=b.V,$=b.Ba+b.c*P;for(t(_<=b.l.o);0<L;){var W=16<L?16:L,K=b.l.ma,Q=b.l.width,at=Q*W,mt=K.ca,Ct=K.tb+Q*P,it=b.Ta,yt=b.Ua;tl(b,W,U,$),Sa(it,yt,mt,Ct,at),er(K,P,P+W,mt,Ct,Q),L-=W,U+=W*b.c,P+=W}t(P==_),b.C=b.Ma=_}function us(){this.ub=this.yd=this.td=this.Rb=0}function cs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bl(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Rs(){this.Yb=(function(){var b=[];return(function _(P,L,U){for(var $=U[L],W=0;W<$&&(P.push(U.length>L+1?[]:0),!(U.length<L+1));W++)_(P[W],L+1,U)})(b,0,[3,11]),b})()}function Ar(){this.jb=a(3),this.Wc=l([4,8],Rs),this.Xc=l([4,17],Rs)}function jc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function hs(){this.Na=this.la=0}function po(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bc(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fc(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new Bc),this.aa=0,this.l=new go}function zc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Zh(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new us,this.Kc=new cs,this.ed=new jc,this.Qa=new Bl,this.Ic=this.$c=this.Aa=0,this.D=new Fc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,I),this.ia=0,this.pb=o(4,po),this.Pa=new Ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new zc),this.Hd=0,this.rb=Array(new hs),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bc),this.L=this.aa=0,this.gd=l([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ya(b,_){return 0>b?0:b>_?_:b}function go(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fs(){var b=new Zh;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,_a||(_a=nl)),b}function vn(b,_,P){return b.a==0&&(b.a=_,b.sc=P,b.cb=0),0}function Uc(b,_,P){return 3<=P&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function Is(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return vn(b,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,L=_.w,U=_.ha;if(4>U)return vn(b,7,"Truncated header.");var $=P[L+0]|P[L+1]<<8|P[L+2]<<16,W=b.Od;if(W.Rb=!(1&$),W.td=$>>1&7,W.yd=$>>4&1,W.ub=$>>5,3<W.td)return vn(b,3,"Incorrect keyframe parameters.");if(!W.yd)return vn(b,4,"Frame not displayable.");L+=3,U-=3;var K=b.Kc;if(W.Rb){if(7>U)return vn(b,7,"cannot parse picture header");if(!Uc(P,L,U))return vn(b,3,"Bad code word");K.c=16383&(P[L+4]<<8|P[L+3]),K.Td=P[L+4]>>6,K.i=16383&(P[L+6]<<8|P[L+5]),K.Ud=P[L+6]>>6,L+=7,U-=7,b.za=K.c+15>>4,b.Ub=K.i+15>>4,_.width=K.c,_.height=K.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i(($=b.Pa).jb,0,255,$.jb.length),t(($=b.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(W.ub>U)return vn(b,7,"bad partition length");V($=b.m,P,L,W.ub),L+=W.ub,U-=W.ub,W.Rb&&(K.Ld=ut($),K.Kd=ut($)),K=b.Qa;var Q,at=b.Pa;if(t($!=null),t(K!=null),K.Cb=ut($),K.Cb){if(K.Bb=ut($),ut($)){for(K.Fb=ut($),Q=0;4>Q;++Q)K.Zb[Q]=ut($)?st($,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=ut($)?st($,6):0}if(K.Bb)for(Q=0;3>Q;++Q)at.jb[Q]=ut($)?J($,8):255}else K.Bb=0;if($.Ka)return vn(b,3,"cannot parse segment header");if((K=b.ed).zd=ut($),K.Tb=J($,6),K.wb=J($,3),K.Pc=ut($),K.Pc&&ut($)){for(at=0;4>at;++at)ut($)&&(K.vd[at]=st($,6));for(at=0;4>at;++at)ut($)&&(K.od[at]=st($,6))}if(b.L=K.Tb==0?0:K.zd?1:2,$.Ka)return vn(b,3,"cannot parse filter header");var mt=U;if(U=Q=L,L=Q+mt,K=mt,b.Xb=(1<<J(b.m,2))-1,mt<3*(at=b.Xb))P=7;else{for(Q+=3*at,K-=3*at,mt=0;mt<at;++mt){var Ct=P[U+0]|P[U+1]<<8|P[U+2]<<16;Ct>K&&(Ct=K),V(b.Jc[+mt],P,Q,Ct),Q+=Ct,K-=Ct,U+=3}V(b.Jc[+at],P,Q,K),P=Q<L?0:5}if(P!=0)return vn(b,P,"cannot parse partitions");for(P=J(Q=b.m,7),U=ut(Q)?st(Q,4):0,L=ut(Q)?st(Q,4):0,K=ut(Q)?st(Q,4):0,at=ut(Q)?st(Q,4):0,Q=ut(Q)?st(Q,4):0,mt=b.Qa,Ct=0;4>Ct;++Ct){if(mt.Cb){var it=mt.Zb[Ct];mt.Fb||(it+=P)}else{if(0<Ct){b.pb[Ct]=b.pb[0];continue}it=P}var yt=b.pb[Ct];yt.Sc[0]=Ha[ya(it+U,127)],yt.Sc[1]=$a[ya(it+0,127)],yt.Eb[0]=2*Ha[ya(it+L,127)],yt.Eb[1]=101581*$a[ya(it+K,127)]>>16,8>yt.Eb[1]&&(yt.Eb[1]=8),yt.Qc[0]=Ha[ya(it+at,117)],yt.Qc[1]=$a[ya(it+Q,127)],yt.lc=it+Q}if(!W.Rb)return vn(b,4,"Not a key frame.");for(ut($),W=b.Pa,P=0;4>P;++P){for(U=0;8>U;++U)for(L=0;3>L;++L)for(K=0;11>K;++K)at=Et($,Wn[P][U][L][K])?J($,8):tm[P][U][L][K],W.Wc[P][U].Yb[L][K]=at;for(U=0;17>U;++U)W.Xc[P][U]=W.Wc[P][nn[U]]}return b.kc=ut($),b.kc&&(b.Bd=J($,8)),b.cb=1}function nl(b,_,P,L,U,$,W){var K=_[U].Yb[P];for(P=0;16>U;++U){if(!Et(b,K[P+0]))return U;for(;!Et(b,K[P+1]);)if(K=_[++U].Yb[0],P=0,U==16)return 16;var Q=_[U+1].Yb;if(Et(b,K[P+2])){var at=b,mt=0;if(Et(at,(it=K)[(Ct=P)+3]))if(Et(at,it[Ct+6])){for(K=0,Ct=2*(mt=Et(at,it[Ct+8]))+(it=Et(at,it[Ct+9+mt])),mt=0,it=Jg[Ct];it[K];++K)mt+=mt+Et(at,it[K]);mt+=3+(8<<Ct)}else Et(at,it[Ct+7])?(mt=7+2*Et(at,165),mt+=Et(at,145)):mt=5+Et(at,159);else mt=Et(at,it[Ct+4])?3+Et(at,it[Ct+5]):2;K=Q[2]}else mt=1,K=Q[1];Q=W+Wd[U],0>(at=b).b&&_t(at);var Ct,it=at.b,yt=(Ct=at.Ca>>1)-(at.I>>it)>>31;--at.b,at.Ca+=yt,at.Ca|=1,at.I-=(Ct+1&yt)<<it,$[Q]=((mt^yt)-yt)*L[(0<U)+0]}return 16}function qc(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Hi(b,_,P,L,U){U=b[_+P+32*L]+(U>>3),b[_+P+32*L]=-256&U?0>U?0:255:U}function qr(b,_,P,L,U,$){Hi(b,_,0,P,L+U),Hi(b,_,1,P,L+$),Hi(b,_,2,P,L-$),Hi(b,_,3,P,L-U)}function kr(b){return(20091*b>>16)+b}function zu(b,_,P,L){var U,$=0,W=a(16);for(U=0;4>U;++U){var K=b[_+0]+b[_+8],Q=b[_+0]-b[_+8],at=(35468*b[_+4]>>16)-kr(b[_+12]),mt=kr(b[_+4])+(35468*b[_+12]>>16);W[$+0]=K+mt,W[$+1]=Q+at,W[$+2]=Q-at,W[$+3]=K-mt,$+=4,_++}for(U=$=0;4>U;++U)K=(b=W[$+0]+4)+W[$+8],Q=b-W[$+8],at=(35468*W[$+4]>>16)-kr(W[$+12]),Hi(P,L,0,0,K+(mt=kr(W[$+4])+(35468*W[$+12]>>16))),Hi(P,L,1,0,Q+at),Hi(P,L,2,0,Q-at),Hi(P,L,3,0,K-mt),$++,L+=32}function Qh(b,_,P,L){var U=b[_+0]+4,$=35468*b[_+4]>>16,W=kr(b[_+4]),K=35468*b[_+1]>>16;qr(P,L,0,U+W,b=kr(b[_+1]),K),qr(P,L,1,U+$,b,K),qr(P,L,2,U-$,b,K),qr(P,L,3,U-W,b,K)}function Hc(b,_,P,L,U){zu(b,_,P,L),U&&zu(b,_+16,P,L+4)}function $i(b,_,P,L){Lo(b,_+0,P,L,1),Lo(b,_+32,P,L+128,1)}function $c(b,_,P,L){var U;for(b=b[_+0]+4,U=0;4>U;++U)for(_=0;4>_;++_)Hi(P,L,_,U,b)}function Gc(b,_,P,L){b[_+0]&&yn(b,_+0,P,L),b[_+16]&&yn(b,_+16,P,L+4),b[_+32]&&yn(b,_+32,P,L+128),b[_+48]&&yn(b,_+48,P,L+128+4)}function ds(b,_,P,L){var U,$=a(16);for(U=0;4>U;++U){var W=b[_+0+U]+b[_+12+U],K=b[_+4+U]+b[_+8+U],Q=b[_+4+U]-b[_+8+U],at=b[_+0+U]-b[_+12+U];$[0+U]=W+K,$[8+U]=W-K,$[4+U]=at+Q,$[12+U]=at-Q}for(U=0;4>U;++U)W=(b=$[0+4*U]+3)+$[3+4*U],K=$[1+4*U]+$[2+4*U],Q=$[1+4*U]-$[2+4*U],at=b-$[3+4*U],P[L+0]=W+K>>3,P[L+16]=at+Q>>3,P[L+32]=W-K>>3,P[L+48]=at-Q>>3,L+=64}function Fl(b,_,P){var L,U=_-32,$=Ti,W=255-b[U-1];for(L=0;L<P;++L){var K,Q=$,at=W+b[_-1];for(K=0;K<P;++K)b[_+K]=Q[at+b[U+K]];_+=32}}function Jh(b,_){Fl(b,_,4)}function tf(b,_){Fl(b,_,8)}function Wc(b,_){Fl(b,_,16)}function Vc(b,_){var P;for(P=0;16>P;++P)r(b,_+32*P,b,_-32,16)}function ef(b,_){var P;for(P=16;0<P;--P)i(b,_,b[_-1],16),_+=32}function ra(b,_,P){var L;for(L=0;16>L;++L)i(_,P+32*L,b,16)}function ps(b,_){var P,L=16;for(P=0;16>P;++P)L+=b[_-1+32*P]+b[_+P-32];ra(L>>5,b,_)}function mo(b,_){var P,L=8;for(P=0;16>P;++P)L+=b[_-1+32*P];ra(L>>4,b,_)}function zl(b,_){var P,L=8;for(P=0;16>P;++P)L+=b[_+P-32];ra(L>>4,b,_)}function rl(b,_){ra(128,b,_)}function Ce(b,_,P){return b+2*_+P+2>>2}function nf(b,_){var P,L=_-32;for(L=new Uint8Array([Ce(b[L-1],b[L+0],b[L+1]),Ce(b[L+0],b[L+1],b[L+2]),Ce(b[L+1],b[L+2],b[L+3]),Ce(b[L+2],b[L+3],b[L+4])]),P=0;4>P;++P)r(b,_+32*P,L,0,L.length)}function Yc(b,_){var P=b[_-1],L=b[_-1+32],U=b[_-1+64],$=b[_-1+96];Dt(b,_+0,16843009*Ce(b[_-1-32],P,L)),Dt(b,_+32,16843009*Ce(P,L,U)),Dt(b,_+64,16843009*Ce(L,U,$)),Dt(b,_+96,16843009*Ce(U,$,$))}function rf(b,_){var P,L=4;for(P=0;4>P;++P)L+=b[_+P-32]+b[_-1+32*P];for(L>>=3,P=0;4>P;++P)i(b,_+32*P,L,4)}function ba(b,_){var P=b[_-1+0],L=b[_-1+32],U=b[_-1+64],$=b[_-1-32],W=b[_+0-32],K=b[_+1-32],Q=b[_+2-32],at=b[_+3-32];b[_+0+96]=Ce(L,U,b[_-1+96]),b[_+1+96]=b[_+0+64]=Ce(P,L,U),b[_+2+96]=b[_+1+64]=b[_+0+32]=Ce($,P,L),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=Ce(W,$,P),b[_+3+64]=b[_+2+32]=b[_+1+0]=Ce(K,W,$),b[_+3+32]=b[_+2+0]=Ce(Q,K,W),b[_+3+0]=Ce(at,Q,K)}function ui(b,_){var P=b[_+1-32],L=b[_+2-32],U=b[_+3-32],$=b[_+4-32],W=b[_+5-32],K=b[_+6-32],Q=b[_+7-32];b[_+0+0]=Ce(b[_+0-32],P,L),b[_+1+0]=b[_+0+32]=Ce(P,L,U),b[_+2+0]=b[_+1+32]=b[_+0+64]=Ce(L,U,$),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=Ce(U,$,W),b[_+3+32]=b[_+2+64]=b[_+1+96]=Ce($,W,K),b[_+3+64]=b[_+2+96]=Ce(W,K,Q),b[_+3+96]=Ce(K,Q,Q)}function Kc(b,_){var P=b[_-1+0],L=b[_-1+32],U=b[_-1+64],$=b[_-1-32],W=b[_+0-32],K=b[_+1-32],Q=b[_+2-32],at=b[_+3-32];b[_+0+0]=b[_+1+64]=$+W+1>>1,b[_+1+0]=b[_+2+64]=W+K+1>>1,b[_+2+0]=b[_+3+64]=K+Q+1>>1,b[_+3+0]=Q+at+1>>1,b[_+0+96]=Ce(U,L,P),b[_+0+64]=Ce(L,P,$),b[_+0+32]=b[_+1+96]=Ce(P,$,W),b[_+1+32]=b[_+2+96]=Ce($,W,K),b[_+2+32]=b[_+3+96]=Ce(W,K,Q),b[_+3+32]=Ce(K,Q,at)}function Ul(b,_){var P=b[_+0-32],L=b[_+1-32],U=b[_+2-32],$=b[_+3-32],W=b[_+4-32],K=b[_+5-32],Q=b[_+6-32],at=b[_+7-32];b[_+0+0]=P+L+1>>1,b[_+1+0]=b[_+0+64]=L+U+1>>1,b[_+2+0]=b[_+1+64]=U+$+1>>1,b[_+3+0]=b[_+2+64]=$+W+1>>1,b[_+0+32]=Ce(P,L,U),b[_+1+32]=b[_+0+96]=Ce(L,U,$),b[_+2+32]=b[_+1+96]=Ce(U,$,W),b[_+3+32]=b[_+2+96]=Ce($,W,K),b[_+3+64]=Ce(W,K,Q),b[_+3+96]=Ce(K,Q,at)}function wa(b,_){var P=b[_-1+0],L=b[_-1+32],U=b[_-1+64],$=b[_-1+96];b[_+0+0]=P+L+1>>1,b[_+2+0]=b[_+0+32]=L+U+1>>1,b[_+2+32]=b[_+0+64]=U+$+1>>1,b[_+1+0]=Ce(P,L,U),b[_+3+0]=b[_+1+32]=Ce(L,U,$),b[_+3+32]=b[_+1+64]=Ce(U,$,$),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=$}function ql(b,_){var P=b[_-1+0],L=b[_-1+32],U=b[_-1+64],$=b[_-1+96],W=b[_-1-32],K=b[_+0-32],Q=b[_+1-32],at=b[_+2-32];b[_+0+0]=b[_+2+32]=P+W+1>>1,b[_+0+32]=b[_+2+64]=L+P+1>>1,b[_+0+64]=b[_+2+96]=U+L+1>>1,b[_+0+96]=$+U+1>>1,b[_+3+0]=Ce(K,Q,at),b[_+2+0]=Ce(W,K,Q),b[_+1+0]=b[_+3+32]=Ce(P,W,K),b[_+1+32]=b[_+3+64]=Ce(L,P,W),b[_+1+64]=b[_+3+96]=Ce(U,L,P),b[_+1+96]=Ce($,U,L)}function js(b,_){var P;for(P=0;8>P;++P)r(b,_+32*P,b,_-32,8)}function af(b,_){var P;for(P=0;8>P;++P)i(b,_,b[_-1],8),_+=32}function Ra(b,_,P){var L;for(L=0;8>L;++L)i(_,P+32*L,b,8)}function Uu(b,_){var P,L=8;for(P=0;8>P;++P)L+=b[_+P-32]+b[_-1+32*P];Ra(L>>4,b,_)}function qu(b,_){var P,L=4;for(P=0;8>P;++P)L+=b[_+P-32];Ra(L>>3,b,_)}function Jr(b,_){var P,L=4;for(P=0;8>P;++P)L+=b[_-1+32*P];Ra(L>>3,b,_)}function Bs(b,_){Ra(128,b,_)}function Ia(b,_,P){var L=b[_-P],U=b[_+0],$=3*(U-L)+Mo[1020+b[_-2*P]-b[_+P]],W=ih[112+($+4>>3)];b[_-P]=Ti[255+L+ih[112+($+3>>3)]],b[_+0]=Ti[255+U-W]}function vo(b,_,P,L){var U=b[_+0],$=b[_+P];return fi[255+b[_-2*P]-b[_-P]]>L||fi[255+$-U]>L}function Hu(b,_,P,L){return 4*fi[255+b[_-P]-b[_+0]]+fi[255+b[_-2*P]-b[_+P]]<=L}function Hl(b,_,P,L,U){var $=b[_-3*P],W=b[_-2*P],K=b[_-P],Q=b[_+0],at=b[_+P],mt=b[_+2*P],Ct=b[_+3*P];return 4*fi[255+K-Q]+fi[255+W-at]>L?0:fi[255+b[_-4*P]-$]<=U&&fi[255+$-W]<=U&&fi[255+W-K]<=U&&fi[255+Ct-mt]<=U&&fi[255+mt-at]<=U&&fi[255+at-Q]<=U}function yo(b,_,P,L){var U=2*L+1;for(L=0;16>L;++L)Hu(b,_+L,P,U)&&Ia(b,_+L,P)}function bo(b,_,P,L){var U=2*L+1;for(L=0;16>L;++L)Hu(b,_+L*P,1,U)&&Ia(b,_+L*P,1)}function $l(b,_,P,L){var U;for(U=3;0<U;--U)yo(b,_+=4*P,P,L)}function Xc(b,_,P,L){var U;for(U=3;0<U;--U)bo(b,_+=4,P,L)}function wo(b,_,P,L,U,$,W,K){for($=2*$+1;0<U--;){if(Hl(b,_,P,$,W))if(vo(b,_,P,K))Ia(b,_,P);else{var Q=b,at=_,mt=P,Ct=Q[at-2*mt],it=Q[at-mt],yt=Q[at+0],xt=Q[at+mt],It=Q[at+2*mt],St=27*(Ft=Mo[1020+3*(yt-it)+Mo[1020+Ct-xt]])+63>>7,Rt=18*Ft+63>>7,Ft=9*Ft+63>>7;Q[at-3*mt]=Ti[255+Q[at-3*mt]+Ft],Q[at-2*mt]=Ti[255+Ct+Rt],Q[at-mt]=Ti[255+it+St],Q[at+0]=Ti[255+yt-St],Q[at+mt]=Ti[255+xt-Rt],Q[at+2*mt]=Ti[255+It-Ft]}_+=L}}function Ao(b,_,P,L,U,$,W,K){for($=2*$+1;0<U--;){if(Hl(b,_,P,$,W))if(vo(b,_,P,K))Ia(b,_,P);else{var Q=b,at=_,mt=P,Ct=Q[at-mt],it=Q[at+0],yt=Q[at+mt],xt=ih[112+(4+(It=3*(it-Ct))>>3)],It=ih[112+(It+3>>3)],St=xt+1>>1;Q[at-2*mt]=Ti[255+Q[at-2*mt]+St],Q[at-mt]=Ti[255+Ct+It],Q[at+0]=Ti[255+it-xt],Q[at+mt]=Ti[255+yt-St]}_+=L}}function sf(b,_,P,L,U,$){wo(b,_,P,1,16,L,U,$)}function xo(b,_,P,L,U,$){wo(b,_,1,P,16,L,U,$)}function of(b,_,P,L,U,$){var W;for(W=3;0<W;--W)Ao(b,_+=4*P,P,1,16,L,U,$)}function T(b,_,P,L,U,$){var W;for(W=3;0<W;--W)Ao(b,_+=4,1,P,16,L,U,$)}function F(b,_,P,L,U,$,W,K){wo(b,_,U,1,8,$,W,K),wo(P,L,U,1,8,$,W,K)}function ot(b,_,P,L,U,$,W,K){wo(b,_,1,U,8,$,W,K),wo(P,L,1,U,8,$,W,K)}function pt(b,_,P,L,U,$,W,K){Ao(b,_+4*U,U,1,8,$,W,K),Ao(P,L+4*U,U,1,8,$,W,K)}function bt(b,_,P,L,U,$,W,K){Ao(b,_+4,1,U,8,$,W,K),Ao(P,L+4,1,U,8,$,W,K)}function Bt(){this.ba=new $e,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ht(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ne(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function le(){this.ua=0,this.Wa=new Ne,this.vb=new Ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new dt,this.yc=new et}function ke(){this.xb=this.a=0,this.l=new go,this.ca=new $e,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new le,this.ab=0,this.gc=o(4,ne),this.Oc=0}function Fe(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new go,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(b,_,P,L,U,$,W){for(b=b==null?0:b[_+0],_=0;_<W;++_)U[$+_]=b+P[L+_]&255,b=U[$+_]}function nr(b,_,P,L,U,$,W){var K;if(b==null)un(null,null,P,L,U,$,W);else for(K=0;K<W;++K)U[$+K]=b[_+K]+P[L+K]&255}function xr(b,_,P,L,U,$,W){if(b==null)un(null,null,P,L,U,$,W);else{var K,Q=b[_+0],at=Q,mt=Q;for(K=0;K<W;++K)at=mt+(Q=b[_+K])-at,mt=P[L+K]+(-256&at?0>at?0:255:at)&255,at=Q,U[$+K]=mt}}function Bn(b,_,P,L){var U=_.width,$=_.o;if(t(b!=null&&_!=null),0>P||0>=L||P+L>$)return null;if(!b.Cc){if(b.ga==null){var W;if(b.ga=new Fe,(W=b.ga==null)||(W=_.width*_.o,t(b.Gb.length==0),b.Gb=a(W),b.Uc=0,b.Gb==null?W=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,W=1),W=!W),!W){W=b.ga;var K=b.Fa,Q=b.P,at=b.qc,mt=b.mb,Ct=b.nb,it=Q+1,yt=at-1,xt=W.l;if(t(K!=null&&mt!=null&&_!=null),Do[0]=null,Do[1]=un,Do[2]=nr,Do[3]=xr,W.ca=mt,W.tb=Ct,W.c=_.width,W.i=_.height,t(0<W.c&&0<W.i),1>=at)_=0;else if(W.$a=3&K[Q+0],W.Z=K[Q+0]>>2&3,W.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||Q)_=0;else if(xt.put=ve,xt.ac=Ma,xt.bc=fo,xt.ma=W,xt.width=_.width,xt.height=_.height,xt.Da=_.Da,xt.v=_.v,xt.va=_.va,xt.j=_.j,xt.o=_.o,W.$a)t:{t(W.$a==1),_=jl();e:for(;;){if(_==null){_=0;break t}if(t(W!=null),W.mc=_,_.c=W.c,_.i=W.i,_.l=W.l,_.l.ma=W,_.l.width=W.c,_.l.height=W.i,_.a=0,gt(_.m,K,it,yt),!os(W.c,W.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Nn(_.s)?(W.ic=1,K=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(K),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(W.ic=0,_=ls(_,W.c)),!_))break e;_=1;break t}W.mc=null,_=0}else _=yt>=W.c*W.i;W=!_}if(W)return null;b.ga.Lc!=1?b.Ga=0:L=$-P}t(b.ga!=null),t(P+L<=$);t:{if(_=(K=b.ga).c,$=K.l.o,K.$a==0){if(it=b.rc,yt=b.Vc,xt=b.Fa,Q=b.P+1+P*_,at=b.mb,mt=b.nb+P*_,t(Q<=b.P+b.qc),K.Z!=0)for(t(Do[K.Z]!=null),W=0;W<L;++W)Do[K.Z](it,yt,xt,Q,at,mt,_),it=at,yt=mt,mt+=_,Q+=_;else for(W=0;W<L;++W)r(at,mt,xt,Q,_),it=at,yt=mt,mt+=_,Q+=_;b.rc=it,b.Vc=yt}else{if(t(K.mc!=null),_=P+L,t((W=K.mc)!=null),t(_<=W.i),W.C>=_)_=1;else if(K.ic||gs(),K.ic){K=W.V,it=W.Ba,yt=W.c;var It=W.i,St=(xt=1,Q=W.$/yt,at=W.$%yt,mt=W.m,Ct=W.s,W.$),Rt=yt*It,Ft=yt*_,Gt=Ct.wc,qt=St<Ft?Qr(Ct,at,Q):null;t(St<=Rt),t(_<=It),t(Nn(Ct));e:for(;;){for(;!mt.h&&St<Ft;){if(at&Gt||(qt=Qr(Ct,at,Q)),t(qt!=null),ht(mt),256>(It=Qn(qt.G[0],qt.H[0],mt)))K[it+St]=It,++St,++at>=yt&&(at=0,++Q<=_&&!(Q%16)&&Ei(W,Q));else{if(!(280>It)){xt=0;break e}It=pa(It-256,mt);var ae,Xt=Qn(qt.G[4],qt.H[4],mt);if(ht(mt),!(St>=(Xt=ga(yt,Xt=pa(Xt,mt)))&&Rt-St>=It)){xt=0;break e}for(ae=0;ae<It;++ae)K[it+St+ae]=K[it+St+ae-Xt];for(St+=It,at+=It;at>=yt;)at-=yt,++Q<=_&&!(Q%16)&&Ei(W,Q);St<Ft&&at&Gt&&(qt=Qr(Ct,at,Q))}t(mt.h==lt(mt))}Ei(W,Q>_?_:Q);break e}!xt||mt.h&&St<Rt?(xt=0,W.a=mt.h?5:3):W.$=St,_=xt}else _=ma(W,W.V,W.Ba,W.c,W.i,_,el);if(!_){L=0;break t}}P+L>=$&&(b.Cc=1),L=1}if(!L)return null;if(b.Cc&&((L=b.ga)!=null&&(L.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+P*U}function Hr(b,_,P,L,U,$){for(;0<U--;){var W,K=b,Q=_+(P?1:0),at=b,mt=_+(P?0:3);for(W=0;W<L;++W){var Ct=at[mt+4*W];Ct!=255&&(Ct*=32897,K[Q+4*W+0]=K[Q+4*W+0]*Ct>>23,K[Q+4*W+1]=K[Q+4*W+1]*Ct>>23,K[Q+4*W+2]=K[Q+4*W+2]*Ct>>23)}_+=$}}function Lr(b,_,P,L,U){for(;0<L--;){var $;for($=0;$<P;++$){var W=b[_+2*$+0],K=15&(at=b[_+2*$+1]),Q=4369*K,at=(240&at|at>>4)*Q>>16;b[_+2*$+0]=(240&W|W>>4)*Q>>16&240|(15&W|W<<4)*Q>>16>>4&15,b[_+2*$+1]=240&at|K}_+=U}}function ci(b,_,P,L,U,$,W,K){var Q,at,mt=255;for(at=0;at<U;++at){for(Q=0;Q<L;++Q){var Ct=b[_+Q];$[W+4*Q]=Ct,mt&=Ct}_+=P,W+=K}return mt!=255}function So(b,_,P,L,U){var $;for($=0;$<U;++$)P[L+$]=b[_+$]>>8}function gs(){Yl=Hr,Ba=Lr,eh=ci,Sa=So}function _o(b,_,P){q[b]=function(L,U,$,W,K,Q,at,mt,Ct,it,yt,xt,It,St,Rt,Ft,Gt){var qt,ae=Gt-1>>1,Xt=K[Q+0]|at[mt+0]<<16,De=Ct[it+0]|yt[xt+0]<<16;t(L!=null);var Jt=3*Xt+De+131074>>2;for(_(L[U+0],255&Jt,Jt>>16,It,St),$!=null&&(Jt=3*De+Xt+131074>>2,_($[W+0],255&Jt,Jt>>16,Rt,Ft)),qt=1;qt<=ae;++qt){var en=K[Q+qt]|at[mt+qt]<<16,Vn=Ct[it+qt]|yt[xt+qt]<<16,ze=Xt+en+De+Vn+524296,Zt=ze+2*(en+De)>>3;Jt=Zt+Xt>>1,Xt=(ze=ze+2*(Xt+Vn)>>3)+en>>1,_(L[U+2*qt-1],255&Jt,Jt>>16,It,St+(2*qt-1)*P),_(L[U+2*qt-0],255&Xt,Xt>>16,It,St+(2*qt-0)*P),$!=null&&(Jt=ze+De>>1,Xt=Zt+Vn>>1,_($[W+2*qt-1],255&Jt,Jt>>16,Rt,Ft+(2*qt-1)*P),_($[W+2*qt+0],255&Xt,Xt>>16,Rt,Ft+(2*qt+0)*P)),Xt=en,De=Vn}1&Gt||(Jt=3*Xt+De+131074>>2,_(L[U+Gt-1],255&Jt,Jt>>16,It,St+(Gt-1)*P),$!=null&&(Jt=3*De+Xt+131074>>2,_($[W+Gt-1],255&Jt,Jt>>16,Rt,Ft+(Gt-1)*P)))}}function Zc(){pi[hf]=Zl,pi[Oi]=tc,pi[ff]=Yd,pi[Fa]=vf,pi[ah]=cl,pi[Zu]=Vs,pi[ol]=hl,pi[sh]=tc,pi[df]=vf,pi[Qu]=cl,pi[pf]=Vs}function $u(b){return b&-16384?0>b?0:255:b>>yf}function Fs(b,_){return $u((19077*b>>8)+(26149*_>>8)-14234)}function ms(b,_,P){return $u((19077*b>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function Gl(b,_){return $u((19077*b>>8)+(33050*_>>8)-17685)}function Eo(b,_,P,L,U){L[U+0]=Fs(b,P),L[U+1]=ms(b,_,P),L[U+2]=Gl(b,_)}function ti(b,_,P,L,U){L[U+0]=Gl(b,_),L[U+1]=ms(b,_,P),L[U+2]=Fs(b,P)}function il(b,_,P,L,U){var $=ms(b,_,P);_=$<<3&224|Gl(b,_)>>3,L[U+0]=248&Fs(b,P)|$>>5,L[U+1]=_}function al(b,_,P,L,U){var $=240&Gl(b,_)|15;L[U+0]=240&Fs(b,P)|ms(b,_,P)>>4,L[U+1]=$}function Gu(b,_,P,L,U){L[U+0]=255,Eo(b,_,P,L,U+1)}function zs(b,_,P,L,U){ti(b,_,P,L,U),L[U+3]=255}function Gi(b,_,P,L,U){Eo(b,_,P,L,U),L[U+3]=255}function Co(b,_,P){q[b]=function(L,U,$,W,K,Q,at,mt,Ct){for(var it=mt+(-2&Ct)*P;mt!=it;)_(L[U+0],$[W+0],K[Q+0],at,mt),_(L[U+1],$[W+0],K[Q+0],at,mt+P),U+=2,++W,++Q,mt+=2*P;1&Ct&&_(L[U+0],$[W+0],K[Q+0],at,mt)}}function Wu(b,_,P){return P==0?b==0?_==0?6:5:_==0?4:0:P}function Qc(b,_,P,L,U){switch(b>>>30){case 3:Lo(_,P,L,U,0);break;case 2:Ci(_,P,L,U);break;case 1:yn(_,P,L,U)}}function Aa(b,_){var P,L,U=_.M,$=_.Nb,W=b.oc,K=b.pc+40,Q=b.oc,at=b.pc+584,mt=b.oc,Ct=b.pc+600;for(P=0;16>P;++P)W[K+32*P-1]=129;for(P=0;8>P;++P)Q[at+32*P-1]=129,mt[Ct+32*P-1]=129;for(0<U?W[K-1-32]=Q[at-1-32]=mt[Ct-1-32]=129:(i(W,K-32-1,127,21),i(Q,at-32-1,127,9),i(mt,Ct-32-1,127,9)),L=0;L<b.za;++L){var it=_.ya[_.aa+L];if(0<L){for(P=-1;16>P;++P)r(W,K+32*P-4,W,K+32*P+12,4);for(P=-1;8>P;++P)r(Q,at+32*P-4,Q,at+32*P+4,4),r(mt,Ct+32*P-4,mt,Ct+32*P+4,4)}var yt=b.Gd,xt=b.Hd+L,It=it.ad,St=it.Hc;if(0<U&&(r(W,K-32,yt[xt].y,0,16),r(Q,at-32,yt[xt].f,0,8),r(mt,Ct-32,yt[xt].ea,0,8)),it.Za){var Rt=W,Ft=K-32+16;for(0<U&&(L>=b.za-1?i(Rt,Ft,yt[xt].y[15],4):r(Rt,Ft,yt[xt+1].y,0,4)),P=0;4>P;P++)Rt[Ft+128+P]=Rt[Ft+256+P]=Rt[Ft+384+P]=Rt[Ft+0+P];for(P=0;16>P;++P,St<<=2)Rt=W,Ft=K+Er[P],ur[it.Ob[P]](Rt,Ft),Qc(St,It,16*+P,Rt,Ft)}else if(Rt=Wu(L,U,it.Ob[0]),Vi[Rt](W,K),St!=0)for(P=0;16>P;++P,St<<=2)Qc(St,It,16*+P,W,K+Er[P]);for(P=it.Gc,Rt=Wu(L,U,it.Dd),ws[Rt](Q,at),ws[Rt](mt,Ct),St=It,Rt=Q,Ft=at,255&(it=0|P)&&(170&it?ja(St,256,Rt,Ft):cn(St,256,Rt,Ft)),it=mt,St=Ct,255&(P>>=8)&&(170&P?ja(It,320,it,St):cn(It,320,it,St)),U<b.Ub-1&&(r(yt[xt].y,0,W,K+480,16),r(yt[xt].f,0,Q,at+224,8),r(yt[xt].ea,0,mt,Ct+224,8)),P=8*$*b.B,yt=b.sa,xt=b.ta+16*L+16*$*b.R,It=b.qa,it=b.ra+8*L+P,St=b.Ha,Rt=b.Ia+8*L+P,P=0;16>P;++P)r(yt,xt+P*b.R,W,K+32*P,16);for(P=0;8>P;++P)r(It,it+P*b.B,Q,at+32*P,8),r(St,Rt+P*b.B,mt,Ct+32*P,8)}}function vs(b,_,P,L,U,$,W,K,Q){var at=[0],mt=[0],Ct=0,it=Q!=null?Q.kd:0,yt=Q??new Ht;if(b==null||12>P)return 7;yt.data=b,yt.w=_,yt.ha=P,_=[_],P=[P],yt.gb=[yt.gb];t:{var xt=_,It=P,St=yt.gb;if(t(b!=null),t(It!=null),t(St!=null),St[0]=0,12<=It[0]&&!e(b,xt[0],"RIFF")){if(e(b,xt[0]+8,"WEBP")){St=3;break t}var Rt=Vt(b,xt[0]+4);if(12>Rt||4294967286<Rt){St=3;break t}if(it&&Rt>It[0]-8){St=7;break t}St[0]=Rt,xt[0]+=12,It[0]-=12}St=0}if(St!=0)return St;for(Rt=0<yt.gb[0],P=P[0];;){t:{var Ft=b;It=_,St=P;var Gt=at,qt=mt,ae=xt=[0];if((Jt=Ct=[Ct])[0]=0,8>St[0])St=7;else{if(!e(Ft,It[0],"VP8X")){if(Vt(Ft,It[0]+4)!=10){St=3;break t}if(18>St[0]){St=7;break t}var Xt=Vt(Ft,It[0]+8),De=1+Wt(Ft,It[0]+12);if(2147483648<=De*(Ft=1+Wt(Ft,It[0]+15))){St=3;break t}ae!=null&&(ae[0]=Xt),Gt!=null&&(Gt[0]=De),qt!=null&&(qt[0]=Ft),It[0]+=18,St[0]-=18,Jt[0]=1}St=0}}if(Ct=Ct[0],xt=xt[0],St!=0)return St;if(It=!!(2&xt),!Rt&&Ct)return 3;if($!=null&&($[0]=!!(16&xt)),W!=null&&(W[0]=It),K!=null&&(K[0]=0),W=at[0],xt=mt[0],Ct&&It&&Q==null){St=0;break}if(4>P){St=7;break}if(Rt&&Ct||!Rt&&!Ct&&!e(b,_[0],"ALPH")){P=[P],yt.na=[yt.na],yt.P=[yt.P],yt.Sa=[yt.Sa];t:{Xt=b,St=_,Rt=P;var Jt=yt.gb;Gt=yt.na,qt=yt.P,ae=yt.Sa,De=22,t(Xt!=null),t(Rt!=null),Ft=St[0];var en=Rt[0];for(t(Gt!=null),t(ae!=null),Gt[0]=null,qt[0]=null,ae[0]=0;;){if(St[0]=Ft,Rt[0]=en,8>en){St=7;break t}var Vn=Vt(Xt,Ft+4);if(4294967286<Vn){St=3;break t}var ze=8+Vn+1&-2;if(De+=ze,0<Jt&&De>Jt){St=3;break t}if(!e(Xt,Ft,"VP8 ")||!e(Xt,Ft,"VP8L")){St=0;break t}if(en[0]<ze){St=7;break t}e(Xt,Ft,"ALPH")||(Gt[0]=Xt,qt[0]=Ft+8,ae[0]=Vn),Ft+=ze,en-=ze}}if(P=P[0],yt.na=yt.na[0],yt.P=yt.P[0],yt.Sa=yt.Sa[0],St!=0)break}P=[P],yt.Ja=[yt.Ja],yt.xa=[yt.xa];t:if(Jt=b,St=_,Rt=P,Gt=yt.gb[0],qt=yt.Ja,ae=yt.xa,Xt=St[0],Ft=!e(Jt,Xt,"VP8 "),De=!e(Jt,Xt,"VP8L"),t(Jt!=null),t(Rt!=null),t(qt!=null),t(ae!=null),8>Rt[0])St=7;else{if(Ft||De){if(Jt=Vt(Jt,Xt+4),12<=Gt&&Jt>Gt-12){St=3;break t}if(it&&Jt>Rt[0]-8){St=7;break t}qt[0]=Jt,St[0]+=8,Rt[0]-=8,ae[0]=De}else ae[0]=5<=Rt[0]&&Jt[Xt+0]==47&&!(Jt[Xt+4]>>5),qt[0]=Rt[0];St=0}if(P=P[0],yt.Ja=yt.Ja[0],yt.xa=yt.xa[0],_=_[0],St!=0)break;if(4294967286<yt.Ja)return 3;if(K==null||It||(K[0]=yt.xa?2:1),W=[W],xt=[xt],yt.xa){if(5>P){St=7;break}K=W,it=xt,It=$,b==null||5>P?b=0:5<=P&&b[_+0]==47&&!(b[_+4]>>5)?(Rt=[0],Jt=[0],Gt=[0],gt(qt=new G,b,_,P),Ds(qt,Rt,Jt,Gt)?(K!=null&&(K[0]=Rt[0]),it!=null&&(it[0]=Jt[0]),It!=null&&(It[0]=Gt[0]),b=1):b=0):b=0}else{if(10>P){St=7;break}K=xt,b==null||10>P||!Uc(b,_+3,P-3)?b=0:(it=b[_+0]|b[_+1]<<8|b[_+2]<<16,It=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=yt.Ja||!It||!b?b=0:(W&&(W[0]=It),K&&(K[0]=b),b=1))}if(!b||(W=W[0],xt=xt[0],Ct&&(at[0]!=W||mt[0]!=xt)))return 3;Q!=null&&(Q[0]=yt,Q.offset=_-Q.w,t(4294967286>_-Q.w),t(Q.offset==Q.ha-P));break}return St==0||St==7&&Ct&&Q==null?($!=null&&($[0]|=yt.na!=null&&0<yt.na.length),L!=null&&(L[0]=W),U!=null&&(U[0]=xt),0):St}function To(b,_,P){var L=_.width,U=_.height,$=0,W=0,K=L,Q=U;if(_.Da=b!=null&&0<b.Da,_.Da&&(K=b.cd,Q=b.bd,$=b.v,W=b.j,11>P||($&=-2,W&=-2),0>$||0>W||0>=K||0>=Q||$+K>L||W+Q>U))return 0;if(_.v=$,_.j=W,_.va=$+K,_.o=W+Q,_.U=K,_.T=Q,_.da=b!=null&&0<b.da,_.da){if(!ge(K,Q,P=[b.ib],$=[b.hb]))return 0;_.ib=P[0],_.hb=$[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*L/4&&_.hb<3*U/4,_.Kb=0),1}function Jc(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function ys(b,_,P,L){if(L==null||0>=b||0>=_)return 2;if(P!=null){if(P.Da){var U=P.cd,$=P.bd,W=-2&P.v,K=-2&P.j;if(0>W||0>K||0>=U||0>=$||W+U>b||K+$>_)return 2;b=U,_=$}if(P.da){if(!ge(b,_,U=[P.ib],$=[P.hb]))return 2;b=U[0],_=$[0]}}L.width=b,L.height=_;t:{var Q=L.width,at=L.height;if(b=L.S,0>=Q||0>=at||!(b>=hf&&13>b))b=2;else{if(0>=L.Rd&&L.sd==null){W=$=U=_=0;var mt=(K=Q*wf[b])*at;if(11>b||($=(at+1)/2*(_=(Q+1)/2),b==12&&(W=(U=Q)*at)),(at=a(mt+2*$+W))==null){b=1;break t}L.sd=at,11>b?((Q=L.f.RGBA).eb=at,Q.fb=0,Q.A=K,Q.size=mt):((Q=L.f.kb).y=at,Q.O=0,Q.fa=K,Q.Fd=mt,Q.f=at,Q.N=0+mt,Q.Ab=_,Q.Cd=$,Q.ea=at,Q.W=0+mt+$,Q.Db=_,Q.Ed=$,b==12&&(Q.F=at,Q.J=0+mt+2*$),Q.Tc=W,Q.lb=U)}if(_=1,U=L.S,$=L.width,W=L.height,U>=hf&&13>U)if(11>U)b=L.f.RGBA,_&=(K=Math.abs(b.A))*(W-1)+$<=b.size,_&=K>=$*wf[U],_&=b.eb!=null;else{b=L.f.kb,K=($+1)/2,mt=(W+1)/2,Q=Math.abs(b.fa),at=Math.abs(b.Ab);var Ct=Math.abs(b.Db),it=Math.abs(b.lb),yt=it*(W-1)+$;_&=Q*(W-1)+$<=b.Fd,_&=at*(mt-1)+K<=b.Cd,_=(_&=Ct*(mt-1)+K<=b.Ed)&Q>=$&at>=K&Ct>=K,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,U==12&&(_&=it>=$,_&=yt<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||P!=null&&P.fd&&(b=Jc(L)),b}var sl=64,ia=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wi=24,Us=32,qs=8,Oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qt("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(b){return b},q.Predictor2=function(b,_,P){return _[P+0]},q.Predictor3=function(b,_,P){return _[P+1]},q.Predictor4=function(b,_,P){return _[P-1]},q.Predictor5=function(b,_,P){return me(me(b,_[P+1]),_[P+0])},q.Predictor6=function(b,_,P){return me(b,_[P-1])},q.Predictor7=function(b,_,P){return me(b,_[P+0])},q.Predictor8=function(b,_,P){return me(_[P-1],_[P+0])},q.Predictor9=function(b,_,P){return me(_[P+0],_[P+1])},q.Predictor10=function(b,_,P){return me(me(b,_[P-1]),me(_[P+0],_[P+1]))},q.Predictor11=function(b,_,P){var L=_[P+0];return 0>=Ie(L>>24&255,b>>24&255,(_=_[P-1])>>24&255)+Ie(L>>16&255,b>>16&255,_>>16&255)+Ie(L>>8&255,b>>8&255,_>>8&255)+Ie(255&L,255&b,255&_)?L:b},q.Predictor12=function(b,_,P){var L=_[P+0];return(Be((b>>24&255)+(L>>24&255)-((_=_[P-1])>>24&255))<<24|Be((b>>16&255)+(L>>16&255)-(_>>16&255))<<16|Be((b>>8&255)+(L>>8&255)-(_>>8&255))<<8|Be((255&b)+(255&L)-(255&_)))>>>0},q.Predictor13=function(b,_,P){var L=_[P-1];return(Qe((b=me(b,_[P+0]))>>24&255,L>>24&255)<<24|Qe(b>>16&255,L>>16&255)<<16|Qe(b>>8&255,L>>8&255)<<8|Qe(255&b,255&L))>>>0};var Vu=q.PredictorAdd0;q.PredictorAdd1=Je,Qt("Predictor2","PredictorAdd2"),Qt("Predictor3","PredictorAdd3"),Qt("Predictor4","PredictorAdd4"),Qt("Predictor5","PredictorAdd5"),Qt("Predictor6","PredictorAdd6"),Qt("Predictor7","PredictorAdd7"),Qt("Predictor8","PredictorAdd8"),Qt("Predictor9","PredictorAdd9"),Qt("Predictor10","PredictorAdd10"),Qt("Predictor11","PredictorAdd11"),Qt("Predictor12","PredictorAdd12"),Qt("Predictor13","PredictorAdd13");var Yu=q.PredictorAdd2;fe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),fe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Sr,lf=q.ColorIndexInverseTransform,Hs=q.MapARGB,$s=q.VP8LColorIndexInverseTransformAlpha,hi=q.MapAlpha,Po=q.VP8LPredictorsAdd=[];Po.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Ku,Xu,No,ko,Gs,Wl,xa,Lo,Ci,ja,yn,cn,Fn,_r,Ws,bs,Vl,th,Hd,Xg,Zg,Qg,$d,Gd,Yl,Ba,eh,Sa,Kl=a(511),uf=a(2041),nh=a(225),rh=a(767),cf=0,Mo=uf,ih=nh,Ti=rh,fi=Kl,hf=0,Oi=1,ff=2,Fa=3,ah=4,Zu=5,ol=6,sh=7,df=8,Qu=9,pf=10,za=[2,3,7],Ju=[3,3,11],Xl=[280,256,256,256,40],gf=[0,1,1,1,0],oh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ua=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qa=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ll=8,Ha=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$a=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_a=null,Jg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],mf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],tm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],di=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Vi=[],ur=[],ws=[],ul=1,Vd=2,Do=[],pi=[];_o("UpsampleRgbLinePair",Eo,3),_o("UpsampleBgrLinePair",ti,3),_o("UpsampleRgbaLinePair",Gi,4),_o("UpsampleBgraLinePair",zs,4),_o("UpsampleArgbLinePair",Gu,4),_o("UpsampleRgba4444LinePair",al,2),_o("UpsampleRgb565LinePair",il,2);var Zl=q.UpsampleRgbLinePair,Yd=q.UpsampleBgrLinePair,tc=q.UpsampleRgbaLinePair,vf=q.UpsampleBgraLinePair,cl=q.UpsampleArgbLinePair,Vs=q.UpsampleRgba4444LinePair,hl=q.UpsampleRgb565LinePair,Ga=16,ec=1<<Ga-1,Ql=-227,fl=482,yf=6,dl=0,gi=a(256),bf=a(256),em=a(256),z1=a(256),U1=a(fl-Ql),q1=a(fl-Ql);Co("YuvToRgbRow",Eo,3),Co("YuvToBgrRow",ti,3),Co("YuvToRgbaRow",Gi,4),Co("YuvToBgraRow",zs,4),Co("YuvToArgbRow",Gu,4),Co("YuvToRgba4444Row",al,2),Co("YuvToRgb565Row",il,2);var Er=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nc=[0,2,8],lh=[8,7,6,4,4,2,2,2,1,1,1,1],uh=1;this.WebPDecodeRGBA=function(b,_,P,L,U){var $=Oi,W=new Bt,K=new $e;W.ba=K,K.S=$,K.width=[K.width],K.height=[K.height];var Q=K.width,at=K.height,mt=new de;if(mt==null||b==null)var Ct=2;else t(mt!=null),Ct=vs(b,_,P,mt.width,mt.height,mt.Pd,mt.Qd,mt.format,null);if(Ct!=0?Q=0:(Q!=null&&(Q[0]=mt.width[0]),at!=null&&(at[0]=mt.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],L!=null&&(L[0]=K.width),U!=null&&(U[0]=K.height);t:{if(L=new go,(U=new Ht).data=b,U.w=_,U.ha=P,U.kd=1,_=[0],t(U!=null),((b=vs(U.data,U.w,U.ha,null,null,null,_,null,U))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(W!=null),L.data=U.data,L.w=U.w+U.offset,L.ha=U.ha-U.offset,L.put=ve,L.ac=Ma,L.bc=fo,L.ma=W,U.xa){if((b=jl())==null){W=1;break t}if((function(it,yt){var xt=[0],It=[0],St=[0];e:for(;;){if(it==null)return 0;if(yt==null)return it.a=2,0;if(it.l=yt,it.a=0,gt(it.m,yt.data,yt.w,yt.ha),!Ds(it.m,xt,It,St)){it.a=3;break e}if(it.xb=Vd,yt.width=xt[0],yt.height=It[0],!os(xt[0],It[0],1,it,null))break e;return 1}return t(it.a!=0),0})(b,L)){if(L=(_=ys(L.width,L.height,W.Oa,W.ba))==0){e:{L=b;n:for(;;){if(L==null){L=0;break e}if(t(L.s.yc!=null),t(L.s.Ya!=null),t(0<L.s.Wb),t((P=L.l)!=null),t((U=P.ma)!=null),L.xb!=0){if(L.ca=U.ba,L.tb=U.tb,t(L.ca!=null),!To(U.Oa,P,Fa)){L.a=2;break n}if(!ls(L,P.width)||P.da)break n;if((P.da||Oe(L.ca.S))&&gs(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&gs()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!nt(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!ma(L,L.V,L.Ba,L.c,L.i,P.o,qi))break n;U.Dc=L.Ma,L=1;break e}t(L.a!=0),L=0}L=!L}L&&(_=b.a)}else _=b.a}else{if((b=new fs)==null){W=1;break t}if(b.Fa=U.na,b.P=U.P,b.qc=U.Sa,Is(b,L)){if((_=ys(L.width,L.height,W.Oa,W.ba))==0){if(b.Aa=0,P=W.Oa,t((U=b)!=null),P!=null){if(0<(Q=0>(Q=P.Md)?0:100<Q?255:255*Q/100)){for(at=mt=0;4>at;++at)12>(Ct=U.pb[at]).lc&&(Ct.ia=Q*lh[0>Ct.lc?0:Ct.lc]>>3),mt|=Ct.ia;mt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=P.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(it,yt){if(it==null)return 0;if(yt==null)return vn(it,2,"NULL VP8Io parameter in VP8Decode().");if(!it.cb&&!Is(it,yt))return 0;if(t(it.cb),yt.ac==null||yt.ac(yt)){yt.ob&&(it.L=0);var xt=nc[it.L];if(it.L==2?(it.yb=0,it.zb=0):(it.yb=yt.v-xt>>4,it.zb=yt.j-xt>>4,0>it.yb&&(it.yb=0),0>it.zb&&(it.zb=0)),it.Va=yt.o+15+xt>>4,it.Hb=yt.va+15+xt>>4,it.Hb>it.za&&(it.Hb=it.za),it.Va>it.Ub&&(it.Va=it.Ub),0<it.L){var It=it.ed;for(xt=0;4>xt;++xt){var St;if(it.Qa.Cb){var Rt=it.Qa.Lb[xt];it.Qa.Fb||(Rt+=It.Tb)}else Rt=It.Tb;for(St=0;1>=St;++St){var Ft=it.gd[xt][St],Gt=Rt;if(It.Pc&&(Gt+=It.vd[0],St&&(Gt+=It.od[0])),0<(Gt=0>Gt?0:63<Gt?63:Gt)){var qt=Gt;0<It.wb&&(qt=4<It.wb?qt>>2:qt>>1)>9-It.wb&&(qt=9-It.wb),1>qt&&(qt=1),Ft.dd=qt,Ft.tc=2*Gt+qt,Ft.ld=40<=Gt?2:15<=Gt?1:0}else Ft.tc=0;Ft.La=St}}}xt=0}else vn(it,6,"Frame setup failed"),xt=it.a;if(xt=xt==0){if(xt){it.$c=0,0<it.Aa||(it.Ic=uh);e:{xt=it.Ic,It=4*(qt=it.za);var ae=32*qt,Xt=qt+1,De=0<it.L?qt*(0<it.Aa?2:1):0,Jt=(it.Aa==2?2:1)*qt;if((Ft=It+832+(St=3*(16*xt+nc[it.L])/2*ae)+(Rt=it.Fa!=null&&0<it.Fa.length?it.Kc.c*it.Kc.i:0))!=Ft)xt=0;else{if(Ft>it.Vb){if(it.Vb=0,it.Ec=a(Ft),it.Fc=0,it.Ec==null){xt=vn(it,1,"no memory during frame initialization.");break e}it.Vb=Ft}Ft=it.Ec,Gt=it.Fc,it.Ac=Ft,it.Bc=Gt,Gt+=It,it.Gd=o(ae,zc),it.Hd=0,it.rb=o(Xt+1,hs),it.sb=1,it.wa=De?o(De,va):null,it.Y=0,it.D.Nb=0,it.D.wa=it.wa,it.D.Y=it.Y,0<it.Aa&&(it.D.Y+=qt),t(!0),it.oc=Ft,it.pc=Gt,Gt+=832,it.ya=o(Jt,Bc),it.aa=0,it.D.ya=it.ya,it.D.aa=it.aa,it.Aa==2&&(it.D.aa+=qt),it.R=16*qt,it.B=8*qt,qt=(ae=nc[it.L])*it.R,ae=ae/2*it.B,it.sa=Ft,it.ta=Gt+qt,it.qa=it.sa,it.ra=it.ta+16*xt*it.R+ae,it.Ha=it.qa,it.Ia=it.ra+8*xt*it.B+ae,it.$c=0,Gt+=St,it.mb=Rt?Ft:null,it.nb=Rt?Gt:null,t(Gt+Rt<=it.Fc+it.Vb),qc(it),i(it.Ac,it.Bc,0,It),xt=1}}if(xt){if(yt.ka=0,yt.y=it.sa,yt.O=it.ta,yt.f=it.qa,yt.N=it.ra,yt.ea=it.Ha,yt.Vd=it.Ia,yt.fa=it.R,yt.Rc=it.B,yt.F=null,yt.J=0,!cf){for(xt=-255;255>=xt;++xt)Kl[255+xt]=0>xt?-xt:xt;for(xt=-1020;1020>=xt;++xt)uf[1020+xt]=-128>xt?-128:127<xt?127:xt;for(xt=-112;112>=xt;++xt)nh[112+xt]=-16>xt?-16:15<xt?15:xt;for(xt=-255;510>=xt;++xt)rh[255+xt]=0>xt?0:255<xt?255:xt;cf=1}xa=ds,Lo=Hc,ja=$i,yn=$c,cn=Gc,Ci=Qh,Fn=sf,_r=xo,Ws=F,bs=ot,Vl=of,th=T,Hd=pt,Xg=bt,Zg=yo,Qg=bo,$d=$l,Gd=Xc,ur[0]=rf,ur[1]=Jh,ur[2]=nf,ur[3]=Yc,ur[4]=ba,ur[5]=Kc,ur[6]=ui,ur[7]=Ul,ur[8]=ql,ur[9]=wa,Vi[0]=ps,Vi[1]=Wc,Vi[2]=Vc,Vi[3]=ef,Vi[4]=mo,Vi[5]=zl,Vi[6]=rl,ws[0]=Uu,ws[1]=tf,ws[2]=js,ws[3]=af,ws[4]=Jr,ws[5]=qu,ws[6]=Bs,xt=1}else xt=0}xt&&(xt=(function(en,Vn){for(en.M=0;en.M<en.Va;++en.M){var ze,Zt=en.Jc[en.M&en.Xb],Kt=en.m,rr=en;for(ze=0;ze<rr.za;++ze){var Te=Kt,Ge=rr,_n=Ge.Ac,$r=Ge.Bc+4*ze,mi=Ge.zc,zn=Ge.ya[Ge.aa+ze];if(Ge.Qa.Bb?zn.$b=Et(Te,Ge.Pa.jb[0])?2+Et(Te,Ge.Pa.jb[2]):Et(Te,Ge.Pa.jb[1]):zn.$b=0,Ge.kc&&(zn.Ad=Et(Te,Ge.Bd)),zn.Za=!Et(Te,145)+0,zn.Za){var Mr=zn.Ob,Pi=0;for(Ge=0;4>Ge;++Ge){var Dr,Xe=mi[0+Ge];for(Dr=0;4>Dr;++Dr){Xe=di[_n[$r+Dr]][Xe];for(var pn=mf[Et(Te,Xe[0])];0<pn;)pn=mf[2*pn+Et(Te,Xe[pn])];Xe=-pn,_n[$r+Dr]=Xe}r(Mr,Pi,_n,$r,4),Pi+=4,mi[0+Ge]=Xe}}else Xe=Et(Te,156)?Et(Te,128)?1:3:Et(Te,163)?2:0,zn.Ob[0]=Xe,i(_n,$r,Xe,4),i(mi,0,Xe,4);zn.Dd=Et(Te,142)?Et(Te,114)?Et(Te,183)?1:3:2:0}if(rr.m.Ka)return vn(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(rr=Zt,Te=(Kt=en).rb[Kt.sb-1],_n=Kt.rb[Kt.sb+Kt.ja],ze=Kt.ya[Kt.aa+Kt.ja],$r=Kt.kc?ze.Ad:0)Te.la=_n.la=0,ze.Za||(Te.Na=_n.Na=0),ze.Hc=0,ze.Gc=0,ze.ia=0;else{var ir,bn;if(Te=_n,_n=rr,$r=Kt.Pa.Xc,mi=Kt.ya[Kt.aa+Kt.ja],zn=Kt.pb[mi.$b],Ge=mi.ad,Mr=0,Pi=Kt.rb[Kt.sb-1],Xe=Dr=0,i(Ge,Mr,0,384),mi.Za)var Gr=0,ar=$r[3];else{pn=a(16);var gn=Te.Na+Pi.Na;if(gn=_a(_n,$r[1],gn,zn.Eb,0,pn,0),Te.Na=Pi.Na=(0<gn)+0,1<gn)xa(pn,0,Ge,Mr);else{var Cr=pn[0]+3>>3;for(pn=0;256>pn;pn+=16)Ge[Mr+pn]=Cr}Gr=1,ar=$r[0]}var En=15&Te.la,Rr=15&Pi.la;for(pn=0;4>pn;++pn){var Ir=1&Rr;for(Cr=bn=0;4>Cr;++Cr)En=En>>1|(Ir=(gn=_a(_n,ar,gn=Ir+(1&En),zn.Sc,Gr,Ge,Mr))>Gr)<<7,bn=bn<<2|(3<gn?3:1<gn?2:Ge[Mr+0]!=0),Mr+=16;En>>=4,Rr=Rr>>1|Ir<<7,Dr=(Dr<<8|bn)>>>0}for(ar=En,Gr=Rr>>4,ir=0;4>ir;ir+=2){for(bn=0,En=Te.la>>4+ir,Rr=Pi.la>>4+ir,pn=0;2>pn;++pn){for(Ir=1&Rr,Cr=0;2>Cr;++Cr)gn=Ir+(1&En),En=En>>1|(Ir=0<(gn=_a(_n,$r[2],gn,zn.Qc,0,Ge,Mr)))<<3,bn=bn<<2|(3<gn?3:1<gn?2:Ge[Mr+0]!=0),Mr+=16;En>>=2,Rr=Rr>>1|Ir<<5}Xe|=bn<<4*ir,ar|=En<<4<<ir,Gr|=(240&Rr)<<ir}Te.la=ar,Pi.la=Gr,mi.Hc=Dr,mi.Gc=Xe,mi.ia=43690&Xe?0:zn.ia,$r=!(Dr|Xe)}if(0<Kt.L&&(Kt.wa[Kt.Y+Kt.ja]=Kt.gd[ze.$b][ze.Za],Kt.wa[Kt.Y+Kt.ja].La|=!$r),rr.Ka)return vn(en,7,"Premature end-of-file encountered.")}if(qc(en),Kt=Vn,rr=1,ze=(Zt=en).D,Te=0<Zt.L&&Zt.M>=Zt.zb&&Zt.M<=Zt.Va,Zt.Aa==0)e:{if(ze.M=Zt.M,ze.uc=Te,Aa(Zt,ze),rr=1,ze=(bn=Zt.D).Nb,Te=(Xe=nc[Zt.L])*Zt.R,_n=Xe/2*Zt.B,pn=16*ze*Zt.R,Cr=8*ze*Zt.B,$r=Zt.sa,mi=Zt.ta-Te+pn,zn=Zt.qa,Ge=Zt.ra-_n+Cr,Mr=Zt.Ha,Pi=Zt.Ia-_n+Cr,Rr=(En=bn.M)==0,Dr=En>=Zt.Va-1,Zt.Aa==2&&Aa(Zt,bn),bn.uc)for(Ir=(gn=Zt).D.M,t(gn.D.uc),bn=gn.yb;bn<gn.Hb;++bn){Gr=bn,ar=Ir;var kn=(hn=(jr=gn).D).Nb;ir=jr.R;var hn=hn.wa[hn.Y+Gr],Ni=jr.sa,cr=jr.ta+16*kn*ir+16*Gr,ye=hn.dd,Ae=hn.tc;if(Ae!=0)if(t(3<=Ae),jr.L==1)0<Gr&&Qg(Ni,cr,ir,Ae+4),hn.La&&Gd(Ni,cr,ir,Ae),0<ar&&Zg(Ni,cr,ir,Ae+4),hn.La&&$d(Ni,cr,ir,Ae);else{var mn=jr.B,aa=jr.qa,Wa=jr.ra+8*kn*mn+8*Gr,Yi=jr.Ha,jr=jr.Ia+8*kn*mn+8*Gr;kn=hn.ld,0<Gr&&(_r(Ni,cr,ir,Ae+4,ye,kn),bs(aa,Wa,Yi,jr,mn,Ae+4,ye,kn)),hn.La&&(th(Ni,cr,ir,Ae,ye,kn),Xg(aa,Wa,Yi,jr,mn,Ae,ye,kn)),0<ar&&(Fn(Ni,cr,ir,Ae+4,ye,kn),Ws(aa,Wa,Yi,jr,mn,Ae+4,ye,kn)),hn.La&&(Vl(Ni,cr,ir,Ae,ye,kn),Hd(aa,Wa,Yi,jr,mn,Ae,ye,kn))}}if(Zt.ia&&alert("todo:DitherRow"),Kt.put!=null){if(bn=16*En,En=16*(En+1),Rr?(Kt.y=Zt.sa,Kt.O=Zt.ta+pn,Kt.f=Zt.qa,Kt.N=Zt.ra+Cr,Kt.ea=Zt.Ha,Kt.W=Zt.Ia+Cr):(bn-=Xe,Kt.y=$r,Kt.O=mi,Kt.f=zn,Kt.N=Ge,Kt.ea=Mr,Kt.W=Pi),Dr||(En-=Xe),En>Kt.o&&(En=Kt.o),Kt.F=null,Kt.J=null,Zt.Fa!=null&&0<Zt.Fa.length&&bn<En&&(Kt.J=Bn(Zt,Kt,bn,En-bn),Kt.F=Zt.mb,Kt.F==null&&Kt.F.length==0)){rr=vn(Zt,3,"Could not decode alpha data.");break e}bn<Kt.j&&(Xe=Kt.j-bn,bn=Kt.j,t(!(1&Xe)),Kt.O+=Zt.R*Xe,Kt.N+=Zt.B*(Xe>>1),Kt.W+=Zt.B*(Xe>>1),Kt.F!=null&&(Kt.J+=Kt.width*Xe)),bn<En&&(Kt.O+=Kt.v,Kt.N+=Kt.v>>1,Kt.W+=Kt.v>>1,Kt.F!=null&&(Kt.J+=Kt.v),Kt.ka=bn-Kt.j,Kt.U=Kt.va-Kt.v,Kt.T=En-bn,rr=Kt.put(Kt))}ze+1!=Zt.Ic||Dr||(r(Zt.sa,Zt.ta-Te,$r,mi+16*Zt.R,Te),r(Zt.qa,Zt.ra-_n,zn,Ge+8*Zt.B,_n),r(Zt.Ha,Zt.Ia-_n,Mr,Pi+8*Zt.B,_n))}if(!rr)return vn(en,6,"Output aborted.")}return 1})(it,yt)),yt.bc!=null&&yt.bc(yt),xt&=1}return xt?(it.cb=0,xt):0})(b,L)||(_=b.a)}}else _=b.a}_==0&&W.Oa!=null&&W.Oa.fd&&(_=Jc(W.ba))}W=_}$=W!=0?null:11>$?K.f.RGBA.eb:K.f.kb.y}else $=null;return $};var wf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(q,rt){for(var D="",z=0;z<4;z++)D+=String.fromCharCode(q[rt++]);return D}function f(q,rt){return q[rt+0]|q[rt+1]<<8}function p(q,rt){return(q[rt+0]|q[rt+1]<<8|q[rt+2]<<16)>>>0}function v(q,rt){return(q[rt+0]|q[rt+1]<<8|q[rt+2]<<16|q[rt+3]<<24)>>>0}new c;var g=[0],w=[0],y=[],x=new c,S=n,O=(function(q,rt){var D={},z=0,et=!1,tt=0,dt=0;if(D.frames=[],!(function(I,G){for(var X=0;X<4;X++)if(I[G+X]!="RIFF".charCodeAt(X))return!0;return!1})(q,rt)){for(v(q,rt+=4),rt+=8;rt<q.length;){var V=h(q,rt),J=v(q,rt+=4);rt+=4;var st=J+(1&J);switch(V){case"VP8 ":case"VP8L":D.frames[z]===void 0&&(D.frames[z]={}),(Z=D.frames[z]).src_off=et?dt:rt-8,Z.src_size=tt+J+8,z++,et&&(et=!1,tt=0,dt=0);break;case"VP8X":(Z=D.header={}).feature_flags=q[rt];var gt=rt+4;Z.canvas_width=1+p(q,gt),gt+=3,Z.canvas_height=1+p(q,gt),gt+=3;break;case"ALPH":et=!0,tt=st+8,dt=rt-8;break;case"ANIM":(Z=D.header).bgcolor=v(q,rt),gt=rt+4,Z.loop_count=f(q,gt),gt+=2;break;case"ANMF":var kt,Z;(Z=D.frames[z]={}).offset_x=2*p(q,rt),rt+=3,Z.offset_y=2*p(q,rt),rt+=3,Z.width=1+p(q,rt),rt+=3,Z.height=1+p(q,rt),rt+=3,Z.duration=p(q,rt),rt+=3,kt=q[rt++],Z.dispose=1&kt,Z.blend=kt>>1&1}V!="ANMF"&&(rt+=st)}return D}})(S,0);O.response=S,O.rgbaoutput=!0,O.dataurl=!1;var C=O.header?O.header:null,N=O.frames?O.frames:null;if(C){C.loop_counter=C.loop_count,g=[C.canvas_height],w=[C.canvas_width];for(var k=0;k<N.length&&N[k].blend!=0;k++);}var R=N[0],B=x.WebPDecodeRGBA(S,R.src_off,R.src_size,w,g);R.rgba=B,R.imgwidth=w[0],R.imgheight=g[0];for(var H=0;H<w[0]*g[0]*4;H++)y[H]=B[H];return this.width=w,this.height=g,this.data=y,this}(function(n){var t,e,r,i,a,o,l,c,h,f=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new c,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,h=new f}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=I;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(nt){X=!!nt}});var lt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return lt},set:function(nt){lt=!!nt}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(nt){isNaN(nt)||(ct=nt)}});var ht=0;Object.defineProperty(this,"posY",{get:function(){return ht},set:function(nt){isNaN(nt)||(ht=nt)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(nt){var Yt;typeof nt=="number"?Yt=[nt,nt,nt,nt]:((Yt=new Array(4))[0]=nt[0],Yt[1]=nt.length>=2?nt[1]:Yt[0],Yt[2]=nt.length>=3?nt[2]:Yt[0],Yt[3]=nt.length>=4?nt[3]:Yt[1]),h.margin=Yt}});var _t=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _t},set:function(nt){_t=nt}});var ut=0;Object.defineProperty(this,"lastBreak",{get:function(){return ut},set:function(nt){ut=nt}});var Et=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Et},set:function(nt){Et=nt}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(nt){nt instanceof f&&(h=nt)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(nt){h.path=nt}});var Dt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Dt},set:function(nt){Dt=nt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(nt){var Yt;Yt=v(nt),this.ctx.fillStyle=Yt.style,this.ctx.isFillTransparent=Yt.a===0,this.ctx.fillOpacity=Yt.a,this.pdf.setFillColor(Yt.r,Yt.g,Yt.b,{a:Yt.a}),this.pdf.setTextColor(Yt.r,Yt.g,Yt.b,{a:Yt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(nt){var Yt=v(nt);this.ctx.strokeStyle=Yt.style,this.ctx.isStrokeTransparent=Yt.a===0,this.ctx.strokeOpacity=Yt.a,Yt.a===0?this.pdf.setDrawColor(255,255,255):(Yt.a,this.pdf.setDrawColor(Yt.r,Yt.g,Yt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(nt){["butt","round","square"].indexOf(nt)!==-1&&(this.ctx.lineCap=nt,this.pdf.setLineCap(nt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(nt){isNaN(nt)||(this.ctx.lineWidth=nt,this.pdf.setLineWidth(nt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(nt){["bevel","round","miter"].indexOf(nt)!==-1&&(this.ctx.lineJoin=nt,this.pdf.setLineJoin(nt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(nt){isNaN(nt)||(this.ctx.miterLimit=nt,this.pdf.setMiterLimit(nt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(nt){this.ctx.textBaseline=nt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(nt){["right","end","center","left","start"].indexOf(nt)!==-1&&(this.ctx.textAlign=nt)}});var At=null,Wt=null,Vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Vt},set:function(nt){At=null,Wt=null,Vt=nt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(nt){var Yt;if(this.ctx.font=nt,(Yt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(nt))!==null){var Ne=Yt[1];Yt[2];var ge=Yt[3],$t=Yt[4];Yt[5];var be=Yt[6],Qt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($t)[2];$t=Math.floor(Qt==="px"?parseFloat($t)*this.pdf.internal.scaleFactor:Qt==="em"?parseFloat($t)*this.pdf.getFontSize():parseFloat($t)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($t);var _e=(function(fe){var wr,Ze,Ee=[],Le=fe.trim();if(Le==="")return cw;if(Le in TP)return[TP[Le]];for(;Le!=="";){switch(Ze=null,wr=(Le=PP(Le)).charAt(0)){case'"':case"'":Ze=vrt(Le.substring(1),wr);break;default:Ze=yrt(Le)}if(Ze===null||(Ee.push(Ze[0]),(Le=PP(Ze[1]))!==""&&Le.charAt(0)!==","))return cw;Le=Le.replace(/^,/,"")}return Ee})(be);if(this.fontFaces){var me=(function(fe,wr){var Ze=fe.getFontList(),Ee=JSON.stringify(Ze);if(At===null||Wt!==Ee){var Le=(function(tn){var we=[];return Object.keys(tn).forEach(function(jn){tn[jn].forEach(function(Oe){var Me=null;switch(Oe){case"bold":Me={family:jn,weight:"bold"};break;case"italic":Me={family:jn,style:"italic"};break;case"bolditalic":Me={family:jn,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:jn}}Me!==null&&(Me.ref={name:jn,style:Oe},we.push(Me))})}),we})(Ze);At=(function(tn){for(var we={},jn=0;jn<tn.length;++jn){var Oe=uw(tn[jn]),Me=Oe.family,Pn=Oe.stretch,$e=Oe.style,de=Oe.weight;we[Me]=we[Me]||{},we[Me][Pn]=we[Me][Pn]||{},we[Me][Pn][$e]=we[Me][Pn][$e]||{},we[Me][Pn][$e][de]=Oe}return we})(Le.concat(wr)),Wt=Ee}return At})(this.pdf,this.fontFaces),Be=_e.map(function(fe){return{family:fe,stretch:"normal",weight:ge,style:Ne}}),Qe=(function(fe,wr,Ze){for(var Ee=(Ze=Ze||{}).defaultFontFamily||"times",Le=Object.assign({},mrt,Ze.genericFontFamilies||{}),tn=null,we=null,jn=0;jn<wr.length;++jn)if(Le[(tn=uw(wr[jn])).family]&&(tn.family=Le[tn.family]),fe.hasOwnProperty(tn.family)){we=fe[tn.family];break}if(!(we=we||fe[Ee]))throw new Error("Could not find a font-family for the rule '"+OP(tn)+"' and default family '"+Ee+"'.");if(we=(function(Oe,Me){if(Me[Oe])return Me[Oe];var Pn=H5[Oe],$e=Pn<=H5.normal?-1:1,de=CP(Me,y8,Pn,$e);if(!de)throw new Error("Could not find a matching font-stretch value for "+Oe);return de})(tn.stretch,we),we=(function(Oe,Me){if(Me[Oe])return Me[Oe];for(var Pn=v8[Oe],$e=0;$e<Pn.length;++$e)if(Me[Pn[$e]])return Me[Pn[$e]];throw new Error("Could not find a matching font-style for "+Oe)})(tn.style,we),!(we=(function(Oe,Me){if(Me[Oe])return Me[Oe];if(Oe===400&&Me[500])return Me[500];if(Oe===500&&Me[400])return Me[400];var Pn=grt[Oe],$e=CP(Me,b8,Pn,Oe<400?-1:1);if(!$e)throw new Error("Could not find a matching font-weight for value "+Oe);return $e})(tn.weight,we)))throw new Error("Failed to resolve a font for the rule '"+OP(tn)+"'.");return we})(me,Be);this.pdf.setFont(Qe.ref.name,Qe.ref.style)}else{var Ie="";(ge==="bold"||parseInt(ge,10)>=700||Ne==="bold")&&(Ie="bold"),Ne==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var Je="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},oe=0;oe<_e.length;oe++){if(this.pdf.internal.getFont(_e[oe],Ie,{noFallback:!0,disableWarning:!0})!==void 0){Je=_e[oe];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(_e[oe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Je=_e[oe],Ie="bold";else if(this.pdf.internal.getFont(_e[oe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Je=_e[oe],Ie="normal";break}}if(Je===""){for(var je=0;je<_e.length;je++)if(Ye[_e[je]]){Je=Ye[_e[je]];break}}Je=Je===""?"Times":Je,this.pdf.setFont(Je,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(nt){this.ctx.globalCompositeOperation=nt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(nt){this.ctx.globalAlpha=nt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(nt){this.ctx.lineDashOffset=nt,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(nt){this.ctx.lineDash=nt,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(nt){this.ctx.ignoreClearRect=!!nt}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){N.call(this,"fill",!1)},p.prototype.stroke=function(){N.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,G){if(isNaN(I)||isNaN(G))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(I,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(I,G)},p.prototype.closePath=function(){var I=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Rn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){I=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},p.prototype.lineTo=function(I,G){if(isNaN(I)||isNaN(G))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(I,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,G,X,lt){if(isNaN(X)||isNaN(lt)||isNaN(I)||isNaN(G))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new o(X,lt)),ht=this.ctx.transform.applyToPoint(new o(I,G));this.path.push({type:"qct",x1:ht.x,y1:ht.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new o(ct.x,ct.y)},p.prototype.bezierCurveTo=function(I,G,X,lt,ct,ht){if(isNaN(ct)||isNaN(ht)||isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _t=this.ctx.transform.applyToPoint(new o(ct,ht)),ut=this.ctx.transform.applyToPoint(new o(I,G)),Et=this.ctx.transform.applyToPoint(new o(X,lt));this.path.push({type:"bct",x1:ut.x,y1:ut.y,x2:Et.x,y2:Et.y,x:_t.x,y:_t.y}),this.ctx.lastPoint=new o(_t.x,_t.y)},p.prototype.arc=function(I,G,X,lt,ct,ht){if(isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt)||isNaN(ct))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ht=!!ht,!this.ctx.transform.isIdentity){var _t=this.ctx.transform.applyToPoint(new o(I,G));I=_t.x,G=_t.y;var ut=this.ctx.transform.applyToPoint(new o(0,X)),Et=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(ut.x-Et.x,2)+Math.pow(ut.y-Et.y,2))}Math.abs(ct-lt)>=2*Math.PI&&(lt=0,ct=2*Math.PI),this.path.push({type:"arc",x:I,y:G,radius:X,startAngle:lt,endAngle:ct,counterclockwise:ht})},p.prototype.arcTo=function(I,G,X,lt,ct){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,G,X,lt){if(isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,G),this.lineTo(I+X,G),this.lineTo(I+X,G+lt),this.lineTo(I,G+lt),this.lineTo(I,G),this.lineTo(I+X,G),this.lineTo(I,G)},p.prototype.fillRect=function(I,G,X,lt){if(isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,G,X,lt),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},p.prototype.strokeRect=function(I,G,X,lt){if(isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(I,G,X,lt),this.stroke())},p.prototype.clearRect=function(I,G,X,lt){if(isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,G,X,lt))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var lt=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=lt}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(I){var G,X,lt,ct;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))G=0,X=0,lt=0,ct=0;else{var ht=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ht!==null)G=parseInt(ht[1]),X=parseInt(ht[2]),lt=parseInt(ht[3]),ct=1;else if((ht=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)G=parseInt(ht[1]),X=parseInt(ht[2]),lt=parseInt(ht[3]),ct=parseFloat(ht[4]);else{if(ct=1,typeof I=="string"&&I.charAt(0)!=="#"){var _t=new c8(I);I=_t.ok?_t.toHex():"#000000"}I.length===4?(G=I.substring(1,2),G+=G,X=I.substring(2,3),X+=X,lt=I.substring(3,4),lt+=lt):(G=I.substring(1,3),X=I.substring(3,5),lt=I.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),lt=parseInt(lt,16)}}return{r:G,g:X,b:lt,a:ct,style:I}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,G,X,lt){if(isNaN(G)||isNaN(X)||typeof I!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(lt=isNaN(lt)?void 0:lt,!g.call(this)){var ct=st(this.ctx.transform.rotation),ht=this.ctx.transform.scaleX;z.call(this,{text:I,x:G,y:X,scale:ht,angle:ct,align:this.textAlign,maxWidth:lt})}},p.prototype.strokeText=function(I,G,X,lt){if(isNaN(G)||isNaN(X)||typeof I!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){lt=isNaN(lt)?void 0:lt;var ct=st(this.ctx.transform.rotation),ht=this.ctx.transform.scaleX;z.call(this,{text:I,x:G,y:X,scale:ht,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:lt})}},p.prototype.measureText=function(I){if(typeof I!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,lt=G.internal.getFontSize(),ct=G.getStringUnitWidth(I)*lt/G.internal.scaleFactor;return new function(ht){var _t=(ht=ht||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _t}}),this}({width:ct*=Math.round(96*X/72*1e4)/1e4})},p.prototype.scale=function(I,G){if(isNaN(I)||isNaN(G))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(I,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.rotate=function(I){if(isNaN(I))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},p.prototype.translate=function(I,G){if(isNaN(I)||isNaN(G))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,I,G);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.transform=function(I,G,X,lt,ct,ht){if(isNaN(I)||isNaN(G)||isNaN(X)||isNaN(lt)||isNaN(ct)||isNaN(ht))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _t=new c(I,G,X,lt,ct,ht);this.ctx.transform=this.ctx.transform.multiply(_t)},p.prototype.setTransform=function(I,G,X,lt,ct,ht){I=isNaN(I)?1:I,G=isNaN(G)?0:G,X=isNaN(X)?0:X,lt=isNaN(lt)?1:lt,ct=isNaN(ct)?0:ct,ht=isNaN(ht)?0:ht,this.ctx.transform=new c(I,G,X,lt,ct,ht)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,G,X,lt,ct,ht,_t,ut,Et){var Dt=this.pdf.getImageProperties(I),At=1,Wt=1,Vt=1,nt=1;lt!==void 0&&ut!==void 0&&(Vt=ut/lt,nt=Et/ct,At=Dt.width/lt*ut/lt,Wt=Dt.height/ct*Et/ct),ht===void 0&&(ht=G,_t=X,G=0,X=0),lt!==void 0&&ut===void 0&&(ut=lt,Et=ct),lt===void 0&&ut===void 0&&(ut=Dt.width,Et=Dt.height);var Yt=this.ctx.transform.decompose(),Ne=st(Yt.rotate.shx),ge=new c,$t=(ge=(ge=(ge=ge.multiply(Yt.translate)).multiply(Yt.skew)).multiply(Yt.scale)).applyToRectangle(new l(ht-G*Vt,_t-X*nt,lt*At,ct*Wt));if(this.autoPaging){for(var be,Qt=x.call(this,$t),_e=[],me=0;me<Qt.length;me+=1)_e.indexOf(Qt[me])===-1&&_e.push(Qt[me]);C(_e);for(var Be=_e[0],Qe=_e[_e.length-1],Ie=Be;Ie<Qe+1;Ie++){this.pdf.setPage(Ie);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Ie===1?this.posY+this.margin[0]:this.margin[0],oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],fe=Ie===1?0:oe+(Ie-2)*je;if(this.ctx.clip_path.length!==0){var wr=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(be,this.posX+this.margin[3],-fe+Ye+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=wr}var Ze=JSON.parse(JSON.stringify($t));Ze=O([Ze],this.posX+this.margin[3],-fe+Ye+this.ctx.prevPageLastElemOffset)[0];var Ee=(Ie>Be||Ie<Qe)&&y.call(this);Ee&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,je,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,Ne),Ee&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,Ne)};var x=function(I,G,X){var lt=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":lt.push(Math.floor((I.y+ct)/X)+1);break;case"arc":lt.push(Math.floor((I.y+ct-I.radius)/X)+1),lt.push(Math.floor((I.y+ct+I.radius)/X)+1);break;case"qct":var ht=gt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);lt.push(Math.floor((ht.y+ct)/X)+1),lt.push(Math.floor((ht.y+ht.h+ct)/X)+1);break;case"bct":var _t=kt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);lt.push(Math.floor((_t.y+ct)/X)+1),lt.push(Math.floor((_t.y+_t.h+ct)/X)+1);break;case"rect":lt.push(Math.floor((I.y+ct)/X)+1),lt.push(Math.floor((I.y+I.h+ct)/X)+1)}for(var ut=0;ut<lt.length;ut+=1)for(;this.pdf.internal.getNumberOfPages()<lt[ut];)S.call(this);return lt},S=function(){var I=this.fillStyle,G=this.strokeStyle,X=this.font,lt=this.lineCap,ct=this.lineWidth,ht=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=G,this.font=X,this.lineCap=lt,this.lineWidth=ct,this.lineJoin=ht},O=function(I,G,X){for(var lt=0;lt<I.length;lt++)switch(I[lt].type){case"bct":I[lt].x2+=G,I[lt].y2+=X;case"qct":I[lt].x1+=G,I[lt].y1+=X;default:I[lt].x+=G,I[lt].y+=X}return I},C=function(I){return I.sort(function(G,X){return G-X})},N=function(I,G){var X=this.fillStyle,lt=this.strokeStyle,ct=this.lineCap,ht=this.lineWidth,_t=Math.abs(ht*this.ctx.transform.scaleX),ut=this.lineJoin;if(this.autoPaging){for(var Et,Dt,At=JSON.parse(JSON.stringify(this.path)),Wt=JSON.parse(JSON.stringify(this.path)),Vt=[],nt=0;nt<Wt.length;nt++)if(Wt[nt].x!==void 0)for(var Yt=x.call(this,Wt[nt]),Ne=0;Ne<Yt.length;Ne+=1)Vt.indexOf(Yt[Ne])===-1&&Vt.push(Yt[Ne]);for(var ge=0;ge<Vt.length;ge++)for(;this.pdf.internal.getNumberOfPages()<Vt[ge];)S.call(this);C(Vt);for(var $t=Vt[0],be=Vt[Vt.length-1],Qt=$t;Qt<be+1;Qt++){this.pdf.setPage(Qt),this.fillStyle=X,this.strokeStyle=lt,this.lineCap=ct,this.lineWidth=_t,this.lineJoin=ut;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],me=Qt===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=Qt===1?0:Be+(Qt-2)*Qe;if(this.ctx.clip_path.length!==0){var Je=this.path;Et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(Et,this.posX+this.margin[3],-Ie+me+this.ctx.prevPageLastElemOffset),k.call(this,I,!0),this.path=Je}if(Dt=JSON.parse(JSON.stringify(At)),this.path=O(Dt,this.posX+this.margin[3],-Ie+me+this.ctx.prevPageLastElemOffset),G===!1||Qt===0){var Ye=(Qt>$t||Qt<be)&&y.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Qe,null).clip().discardPath()),k.call(this,I,G),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=ht}this.path=At}else this.lineWidth=_t,k.call(this,I,G),this.lineWidth=ht},k=function(I,G){if((I!=="stroke"||G||!w.call(this))&&(I==="stroke"||G||!g.call(this))){for(var X,lt,ct=[],ht=this.path,_t=0;_t<ht.length;_t++){var ut=ht[_t];switch(ut.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:ut,deltas:[],abs:[]});break;case"lt":var Et=ct.length;if(ht[_t-1]&&!isNaN(ht[_t-1].x)&&(X=[ut.x-ht[_t-1].x,ut.y-ht[_t-1].y],Et>0)){for(;Et>=0;Et--)if(ct[Et-1].close!==!0&&ct[Et-1].begin!==!0){ct[Et-1].deltas.push(X),ct[Et-1].abs.push(ut);break}}break;case"bct":X=[ut.x1-ht[_t-1].x,ut.y1-ht[_t-1].y,ut.x2-ht[_t-1].x,ut.y2-ht[_t-1].y,ut.x-ht[_t-1].x,ut.y-ht[_t-1].y],ct[ct.length-1].deltas.push(X);break;case"qct":var Dt=ht[_t-1].x+2/3*(ut.x1-ht[_t-1].x),At=ht[_t-1].y+2/3*(ut.y1-ht[_t-1].y),Wt=ut.x+2/3*(ut.x1-ut.x),Vt=ut.y+2/3*(ut.y1-ut.y),nt=ut.x,Yt=ut.y;X=[Dt-ht[_t-1].x,At-ht[_t-1].y,Wt-ht[_t-1].x,Vt-ht[_t-1].y,nt-ht[_t-1].x,Yt-ht[_t-1].y],ct[ct.length-1].deltas.push(X);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(ut)}}lt=G?null:I==="stroke"?"stroke":"fill";for(var Ne=!1,ge=0;ge<ct.length;ge++)if(ct[ge].arc)for(var $t=ct[ge].abs,be=0;be<$t.length;be++){var Qt=$t[be];Qt.type==="arc"?H.call(this,Qt.x,Qt.y,Qt.radius,Qt.startAngle,Qt.endAngle,Qt.counterclockwise,void 0,G,!Ne):et.call(this,Qt.x,Qt.y),Ne=!0}else if(ct[ge].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(ct[ge].begin!==!0){var _e=ct[ge].start.x,me=ct[ge].start.y;tt.call(this,ct[ge].deltas,_e,me),Ne=!0}lt&&q.call(this,lt),G&&rt.call(this)}},R=function(I){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-X;case"top":return I+G-X;case"hanging":return I+G-2*X;case"middle":return I+G/2-X;default:return I}},B=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(G,X){this.colorStops.push([G,X])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(I,G,X,lt,ct,ht,_t,ut,Et){for(var Dt=V.call(this,X,lt,ct,ht),At=0;At<Dt.length;At++){var Wt=Dt[At];At===0&&(Et?D.call(this,Wt.x1+I,Wt.y1+G):et.call(this,Wt.x1+I,Wt.y1+G)),dt.call(this,I,G,Wt.x2,Wt.y2,Wt.x3,Wt.y3,Wt.x4,Wt.y4)}ut?rt.call(this):q.call(this,_t)},q=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},rt=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(I,G){this.pdf.internal.out(e(I)+" "+r(G)+" m")},z=function(I){var G;switch(I.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X,lt,ct,ht=this.pdf.getTextDimensions(I.text),_t=R.call(this,I.y),ut=B.call(this,_t)-ht.h,Et=this.ctx.transform.applyToPoint(new o(I.x,_t));if(this.autoPaging){var Dt=this.ctx.transform.decompose(),At=new c;At=(At=(At=At.multiply(Dt.translate)).multiply(Dt.skew)).multiply(Dt.scale);for(var Wt=this.ctx.transform.applyToRectangle(new l(I.x,_t,ht.w,ht.h)),Vt=At.applyToRectangle(new l(I.x,ut,ht.w,ht.h)),nt=x.call(this,Vt),Yt=[],Ne=0;Ne<nt.length;Ne+=1)Yt.indexOf(nt[Ne])===-1&&Yt.push(nt[Ne]);C(Yt);for(var ge=Yt[0],$t=Yt[Yt.length-1],be=ge;be<$t+1;be++){this.pdf.setPage(be);var Qt=be===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],me=this.pdf.internal.pageSize.height-this.margin[2],Be=me-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],Ie=Qe-this.margin[3],Je=be===1?0:_e+(be-2)*Be;if(this.ctx.clip_path.length!==0){var Ye=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(X,this.posX+this.margin[3],-1*Je+Qt),k.call(this,"fill",!0),this.path=Ye}var oe=O([JSON.parse(JSON.stringify(Vt))],this.posX+this.margin[3],-Je+Qt+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*I.scale),ct=this.lineWidth,this.lineWidth=ct*I.scale);var je=this.autoPaging!=="text";if(je||oe.y+oe.h<=me){if(je||oe.y>=Qt&&oe.x<=Qe){var fe=je?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Qe-oe.x)[0],wr=O([JSON.parse(JSON.stringify(Wt))],this.posX+this.margin[3],-Je+Qt+this.ctx.prevPageLastElemOffset)[0],Ze=je&&(be>ge||be<$t)&&y.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Be,null).clip().discardPath()),this.pdf.text(fe,wr.x,wr.y,{angle:I.angle,align:G,renderingMode:I.renderingMode}),Ze&&this.pdf.restoreGraphicsState()}}else oe.y<me&&(this.ctx.prevPageLastElemOffset+=me-oe.y);I.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=ct)}}else I.scale>=.01&&(lt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(lt*I.scale),ct=this.lineWidth,this.lineWidth=ct*I.scale),this.pdf.text(I.text,Et.x+this.posX,Et.y+this.posY,{angle:I.angle,align:G,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(lt),this.lineWidth=ct)},et=function(I,G,X,lt){X=X||0,lt=lt||0,this.pdf.internal.out(e(I+X)+" "+r(G+lt)+" l")},tt=function(I,G,X){return this.pdf.lines(I,G,X,null,null)},dt=function(I,G,X,lt,ct,ht,_t,ut){this.pdf.internal.out([t(i(X+I)),t(a(lt+G)),t(i(ct+I)),t(a(ht+G)),t(i(_t+I)),t(a(ut+G)),"c"].join(" "))},V=function(I,G,X,lt){for(var ct=2*Math.PI,ht=Math.PI/2;G>X;)G-=ct;var _t=Math.abs(X-G);_t<ct&&lt&&(_t=ct-_t);for(var ut=[],Et=lt?-1:1,Dt=G;_t>1e-5;){var At=Dt+Et*Math.min(_t,ht);ut.push(J.call(this,I,Dt,At)),_t-=Math.abs(At-Dt),Dt=At}return ut},J=function(I,G,X){var lt=(X-G)/2,ct=I*Math.cos(lt),ht=I*Math.sin(lt),_t=ct,ut=-ht,Et=_t*_t+ut*ut,Dt=Et+_t*ct+ut*ht,At=4/3*(Math.sqrt(2*Et*Dt)-Dt)/(_t*ht-ut*ct),Wt=_t-At*ut,Vt=ut+At*_t,nt=Wt,Yt=-Vt,Ne=lt+G,ge=Math.cos(Ne),$t=Math.sin(Ne);return{x1:I*Math.cos(G),y1:I*Math.sin(G),x2:Wt*ge-Vt*$t,y2:Wt*$t+Vt*ge,x3:nt*ge-Yt*$t,y3:nt*$t+Yt*ge,x4:I*Math.cos(X),y4:I*Math.sin(X)}},st=function(I){return 180*I/Math.PI},gt=function(I,G,X,lt,ct,ht){var _t=I+.5*(X-I),ut=G+.5*(lt-G),Et=ct+.5*(X-ct),Dt=ht+.5*(lt-ht),At=Math.min(I,ct,_t,Et),Wt=Math.max(I,ct,_t,Et),Vt=Math.min(G,ht,ut,Dt),nt=Math.max(G,ht,ut,Dt);return new l(At,Vt,Wt-At,nt-Vt)},kt=function(I,G,X,lt,ct,ht,_t,ut){var Et,Dt,At,Wt,Vt,nt,Yt,Ne,ge,$t,be,Qt,_e,me,Be=X-I,Qe=lt-G,Ie=ct-X,Je=ht-lt,Ye=_t-ct,oe=ut-ht;for(Dt=0;Dt<41;Dt++)ge=(Yt=(At=I+(Et=Dt/40)*Be)+Et*((Vt=X+Et*Ie)-At))+Et*(Vt+Et*(ct+Et*Ye-Vt)-Yt),$t=(Ne=(Wt=G+Et*Qe)+Et*((nt=lt+Et*Je)-Wt))+Et*(nt+Et*(ht+Et*oe-nt)-Ne),Dt==0?(be=ge,Qt=$t,_e=ge,me=$t):(be=Math.min(be,ge),Qt=Math.min(Qt,$t),_e=Math.max(_e,ge),me=Math.max(me,$t));return new l(Math.round(be),Math.round(Qt),Math.round(_e-be),Math.round(me-Qt))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,G,X=(I=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(pe.API),(function(n){var t=function(o){var l,c,h,f,p,v,g,w,y,x;for(c=[],h=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(p=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(v=(p=((p=((p=((p=(p-(x=p%85))/85)-(y=p%85))/85)-(w=p%85))/85)-(g=p%85))/85)%85,c.push(v+33,g+33,w+33,y+33,x+33)):c.push(122);return(function(S,O){for(var C=O;C>0;C--)S.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},e=function(o){var l,c,h,f,p,v=String,g="length",w=255,y="charCodeAt",x="slice",S="replace";for(o[x](-2),o=o[x](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),h=[],f=0,p=(o+=l="uuuuu"[x](o[g]%5||5))[g];p>f;f+=5)c=52200625*(o[y](f)-33)+614125*(o[y](f+1)-33)+7225*(o[y](f+2)-33)+85*(o[y](f+3)-33)+(o[y](f+4)-33),h.push(w&c>>24,w&c>>16,w&c>>8,w&c);return(function(O,C){for(var N=C;N>0;N--)O.pop()})(h,l[g]),v.fromCharCode.apply(v,h)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",h=0;h<o.length;h+=2)c+=String.fromCharCode("0x"+(o[h]+o[h+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=I5(l)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};n.processDataByFilters=function(o,l){var c=0,h=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(pe.API),(function(n){n.loadFile=function(t,e,r){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,h,f){var p=new XMLHttpRequest,v=0,g=function(w){var y=w.length,x=[],S=String.fromCharCode;for(v=0;v<y;v+=1)x.push(S(255&w.charCodeAt(v)));return x.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return g(p.responseText)})(i,a,o)}catch{}return l})(t,e,r)},n.loadImageFile=n.loadFile})(pe.API),(function(n){function t(){return(Re.html2canvas?Promise.resolve(Re.html2canvas):G2(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function e(){return(Re.DOMPurify?Promise.resolve(Re.DOMPurify):G2(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Rn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var h=document.createElement(l);for(var f in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[f]=c.style[f];return h},a=function l(c,h){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),h);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(e).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var w=f[g],y=w.src.find(function(x){return x.format==="truetype"});y&&h.addFont(y.url,w.ref.name,w.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,h.context2d.save(!0),c(this.prop.container,v)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(l=l||pe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,h,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,h,f){return this.setProgress(l?this.progress.val+l:null,c||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var h=this;return this.thenCore(l,c,function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return h.updateProgress(null,f),v}).then(f,p).then(function(v){return h.updateProgress(1),v})})},o.prototype.thenCore=function(l,c,h){h=h||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),v=h.call(p,l,c);return o.convert(v,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(h){c=c.thenCore(h)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,pe.getPageSize=function(l,c,h){if(Rn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,h=f.format||h}c=c||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var p,v=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var w,y=0,x=0;if(g.hasOwnProperty(v))y=g[v][1]/p,x=g[v][0]/p;else try{y=h[1],x=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",x>y&&(w=x,x=y,y=w);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>x&&(w=x,x=y,y=w)}return{width:x,height:y,unit:c,k:p,orientation:l}},n.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(uw):null;var h=new o(c);return c.worker?h:h.from(l).doCallback()}})(pe.API),pe.API.addJS=function(n){return kP=n,this.internal.events.subscribe("postPutResources",function(){A0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(A0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),NP=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+kP+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){A0!==void 0&&NP!==void 0&&this.internal.out("/Names <</JavaScript "+A0+" 0 R>>")}),this},(function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=r.exec(o);if(l!=null){var c=l[1];e.internal.newObjectDeferredBegin(c,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(a=0;a<h;a++){var p=e.internal.newObject();f.push(p);var v=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<f.length;a++)e.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+g+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(pe.API),(function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,a,o,l){var c,h=this.decode.DCT_DECODE,f=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,c=(function(p){for(var v,g=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,y={width:0,height:0,numcomponents:1},x=4;x<w;x+=2){if(x+=g,t.indexOf(p.charCodeAt(x+1))!==-1){v=256*p.charCodeAt(x+5)+p.charCodeAt(x+6),y={width:256*p.charCodeAt(x+7)+p.charCodeAt(x+8),height:v,numcomponents:p.charCodeAt(x+9)};break}g=256*p.charCodeAt(x+2)+p.charCodeAt(x+3)}return y})(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:e,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}})(pe.API),pe.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,a=ert(n,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,h=a.palette,f=a.depth;i=h&&c===1?(function(H){for(var q=H.width,rt=H.height,D=H.data,z=H.palette,et=H.depth,tt=!1,dt=[],V=[],J=void 0,st=!1,gt=0,kt=0;kt<z.length;kt++){var Z=RO(z[kt],4),I=Z[0],G=Z[1],X=Z[2],lt=Z[3];dt.push(I,G,X),lt!=null&&(lt===0?(gt++,V.length<1&&V.push(kt)):lt<255&&(st=!0))}if(st||gt>1){tt=!0,V=void 0;var ct=q*rt;J=new Uint8Array(ct);for(var ht=new DataView(D.buffer),_t=0;_t<ct;_t++){var ut=hw(ht,_t,et),Et=RO(z[ut],4)[3];J[_t]=Et}}else gt===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:tt?8:void 0,colorBytes:D,alphaBytes:J,needSMask:tt,palette:dt,mask:V}})(a):c===2||c===4?(function(H){for(var q=H.data,rt=H.width,D=H.height,z=H.channels,et=H.depth,tt=z===2?"DeviceGray":"DeviceRGB",dt=z-1,V=rt*D,J=dt,st=V*J,gt=1*V,kt=Math.ceil(st*et/8),Z=Math.ceil(gt*et/8),I=new Uint8Array(kt),G=new Uint8Array(Z),X=new DataView(q.buffer),lt=new DataView(I.buffer),ct=new DataView(G.buffer),ht=!1,_t=0;_t<V;_t++){for(var ut=_t*z,Et=0;Et<J;Et++)zP(lt,hw(X,ut+Et,et),_t*J+Et,et);var Dt=hw(X,ut+J,et);Dt<(1<<et)-1&&(ht=!0),zP(ct,Dt,1*_t,et)}return{colorSpace:tt,colorsPerPixel:dt,sMaskBitsPerComponent:ht?et:void 0,colorBytes:I,alphaBytes:G,needSMask:ht}})(a):(function(H){var q=H.data,rt=H.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:rt,colorsPerPixel:rt==="DeviceGray"?1:3,colorBytes:q instanceof Uint16Array?(function(D){for(var z=D.length,et=new Uint8Array(2*z),tt=new DataView(et.buffer,et.byteOffset,et.byteLength),dt=0;dt<z;dt++)tt.setUint16(2*dt,D[dt],!1);return et})(q):q,needSMask:!1}})(a);var p,v,g,w=i,y=w.colorSpace,x=w.colorsPerPixel,S=w.sMaskBitsPerComponent,O=w.colorBytes,C=w.alphaBytes,N=w.needSMask,k=w.palette,R=w.mask,B=null;return r!==pe.API.image_compression.NONE&&typeof I5=="function"?(B=(function(H){var q;switch(H){case pe.API.image_compression.FAST:q=11;break;case pe.API.image_compression.MEDIUM:q=13;break;case pe.API.image_compression.SLOW:q=14;break;default:q=12}return q})(r),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(B," /Colors ").concat(x," /BitsPerComponent ").concat(f," /Columns ").concat(o),n=RP(O,Math.ceil(o*x*f/8),x,f,r),N&&(g=RP(C,Math.ceil(o*S/8),1,S,r))):(p=void 0,v=void 0,n=O,N&&(g=C)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:e,data:n,index:t,filter:p,decodeParameters:v,transparency:R,palette:k,sMask:g,predictor:B,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:S,colorSpace:y}}},(function(n){n.processGIF89A=function(t,e,r,i){var a=new xrt(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:l},f=new fw(100).encode(h,100);return n.processJPEG.call(this,f,e,r,i)},n.processGIF87A=n.processGIF89A})(pe.API),Uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Uo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Kn.log("bit decode error:"+e)}},Uo.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}e!==0&&(this.pos+=4-e)}},Uo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=a>>4,c=15&a,h=this.palette[l];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Uo.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Uo.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,h=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=h}this.pos+=n}},Uo.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&e)/e*255|0,h=(o>>11)/t*255|0,f=i*this.width*4+4*a;this.data[f]=h,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=n}},Uo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Uo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},Uo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(t,e,r,i){var a=new Uo(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},h=new fw(100).encode(c,100);return n.processJPEG.call(this,h,e,r,i)}})(pe.API),qP.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(t,e,r,i){var a=new qP(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},h=new fw(100).encode(c,100);return n.processJPEG.call(this,h,e,r,i)}})(pe.API),pe.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,h=0;h<i;h+=4){var f=r[h],p=r[h+1],v=r[h+2],g=r[h+3];a[l++]=f,a[l++]=p,a[l++]=v,o[c++]=g}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},pe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yf=pe.API,x0=Yf.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,h=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=t.doKerning!==!1,v=0,g=n.length,w=0,y=l[0]||c,x=[];for(e=0;e<g;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(v=p&&Rn(h[r])==="object"&&!isNaN(parseInt(h[r][w],10))?h[r][w]/f:0,x.push((l[r]||y)/c+v)),w=r;return x},LP=Yf.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Yf.processArabic&&(n=Yf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:x0.apply(this,arguments).reduce(function(a,o){return a+o},0)},MP=function(n,t,e,r){for(var i=[],a=0,o=n.length,l=0;a!==o&&l+t[a]<e;)l+=t[a],a++;i.push(n.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>r&&(i.push(n.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(n.slice(c,a)),i},DP=function(n,t,e){e||(e={});var r,i,a,o,l,c,h,f=[],p=[f],v=e.textIndent||0,g=0,w=0,y=n.split(" "),x=x0.apply(this,[" ",e])[0];if(c=e.lineIndent===-1?y[0].length+2:e.lineIndent||0){var S=Array(c).join(" "),O=[];y.map(function(N){(N=N.split(/\s*\n/)).length>1?O=O.concat(N.map(function(k,R){return(R&&k.length?`
`:"")+k})):O.push(N[0])}),y=O,c=LP.apply(this,[S,e])}for(a=0,o=y.length;a<o;a++){var C=0;if(r=y[a],c&&r[0]==`
`&&(r=r.substr(1),C=1),v+g+(w=(i=x0.apply(this,[r,e])).reduce(function(N,k){return N+k},0))>t||C){if(w>t){for(l=MP.apply(this,[r,i,t-(v+g),t]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);w=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(N,k){return N+k},0)}else f=[r];p.push(f),v=w+c,g=x}else f.push(r),v+=g+w,g=x}return h=c?function(N,k){return(k?S:"")+N.join(" ")}:function(N){return N.join(" ")},p.map(h)},Yf.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=e.lineIndent;var l,c,h=[];for(l=0,c=r.length;l<c;l++)h=h.concat(DP.apply(this,[r[l],o,a]));return h},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[e[a]]=t[a],i[t[a]]=e[a];var o=function(v){return"0x"+parseInt(v,10).toString(16)},l=n.__fontmetrics__.compress=function(v){var g,w,y,x,S=["{"];for(var O in v){if(g=v[O],isNaN(parseInt(O,10))?w="'"+O+"'":(O=parseInt(O,10),w=(w=o(O).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof g=="number")g<0?(y=o(g).slice(3),x="-"):(y=o(g).slice(2),x=""),y=x+y.slice(0,-1)+i[y.slice(-1)];else{if(Rn(g)!=="object")throw new Error("Don't know what to do with value type "+Rn(g)+".");y=l(g)}S.push(w+y)}return S.push("}"),S.join("")},c=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,w,y,x,S={},O=1,C=S,N=[],k="",R="",B=v.length-1,H=1;H<B;H+=1)(x=v[H])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(x):x=="{"?(N.push([C,y]),C={},y=void 0):x=="}"?((w=N.pop())[0][w[1]]=C,y=void 0,C=w[0]):x=="-"?O=-1:y===void 0?r.hasOwnProperty(x)?(k+=r[x],y=parseInt(k,16)*O,O=1,k=""):k+=x:r.hasOwnProperty(x)?(R+=r[x],C[y]=parseInt(R,16)*O,O=1,y=void 0,R=""):R+=x;return S},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var g=v.font,w=p.Unicode[g.postScriptName];w&&(g.metadata.Unicode={},g.metadata.Unicode.widths=w.widths,g.metadata.Unicode.kerning=w.kerning);var y=f.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])})(pe.API),(function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=e.charCodeAt(a);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,a=e.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(L0(l)),o.metadata=n.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(pe),pe.API.addSvgAsImage=function(n,t,e,r,i,a,o,l){if(isNaN(t)||isNaN(e))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Re.canvg?Promise.resolve(Re.canvg):G2(()=>import("./index.es-DxqDjwSp.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(h,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(f)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),t,e,r,i,o,l)})},pe.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},pe.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],h=0,f=0,p=0;function v(w,y){var x,S=!1;for(x=0;x<w.length;x+=1)w[x]===y&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var g=l.length;for(p=0;p<g;p+=1)e[l[p]].value=e[l[p]].defaultValue,e[l[p]].explicitSet=!1}if(Rn(n)==="object"){for(i in n)if(a=n[i],v(l,i)&&a!==void 0){if(e[i].type==="boolean"&&typeof a=="boolean")e[i].value=a;else if(e[i].type==="name"&&v(e[i].valueSet,a))e[i].value=a;else if(e[i].type==="integer"&&Number.isInteger(a))e[i].value=a;else if(e[i].type==="array"){for(h=0;h<a.length;h+=1)if(r=!0,a[h].length===1&&typeof a[h][0]=="number")c.push(String(a[h]-1));else if(a[h].length>1){for(f=0;f<a[h].length;f+=1)typeof a[h][f]!="number"&&(r=!1);r===!0&&c.push([a[h][0]-1,a[h][1]-1].join(" "))}e[i].value="["+c.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,y=[];for(w in e)e[w].explicitSet===!0&&(e[w].type==="name"?y.push("/"+w+" /"+e[w].value):y.push("/"+w+" "+e[w].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},(function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}})(pe.API),(function(n){var t=n.API,e=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,v=a.length;p<v;++p){if(l=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(h[4-l.length],l)}return f.join("")},r=function(a){var o,l,c,h,f,p,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,v=(l=Object.keys(a).sort(function(g,w){return g-w})).length;p<v;p++)o=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(h=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",w=0;w<v.length;w++)g+=String.fromCharCode(v[w]);var y=h();f({data:g,addLength1:!0,objectId:y}),c("endobj");var x=h();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var S=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ed(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var O=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+ed(l.fontName)),c("/FontDescriptor "+S+" 0 R"),c("/W "+n.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+ed(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+O+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,h=o.newObject,f=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,v="",g=0;g<p.length;g++)v+=String.fromCharCode(p[g]);var w=h();f({data:v,addLength1:!0,objectId:w}),c("endobj");var y=h();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var x=h();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ed(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=h();for(var S=0;S<l.metadata.hmtx.widths.length;S++)l.metadata.hmtx.widths[S]=parseInt(l.metadata.hmtx.widths[S]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+ed(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,h=a.y,f=a.options||{},p=a.mutex||{},v=p.pdfEscape,g=p.activeFontKey,w=p.fonts,y=g,x="",S=0,O="",C=w[y].encoding;if(w[y].encoding!=="Identity-H")return{text:l,x:c,y:h,options:f,mutex:p};for(O=l,y=g,Array.isArray(l)&&(O=l[0]),S=0;S<O.length;S+=1)w[y].metadata.hasOwnProperty("cmap")&&(o=w[y].metadata.cmap.unicode.codeMap[O[S].charCodeAt(0)]),o||O[S].charCodeAt(0)<256&&w[y].metadata.hasOwnProperty("Unicode")?x+=O[S]:x+="";var N="";return parseInt(y.slice(1))<14||C==="WinAnsiEncoding"?N=v(x,y).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(N=e(x,w[y])),p.isHex=!0,{text:N,x:c,y:h,options:f,mutex:p}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?l.push([i(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):l.push(i(Object.assign({},c,{text:o[h]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])})(pe),(function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}})(pe.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,o,l,c,h,f,p=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,C=0;this.__bidiEngine__={};var N=function(D){var z=D.charCodeAt(),et=z>>8,tt=y[et];return tt!==void 0?p[256*tt+(255&z)]:et===252||et===253?"AL":S.test(et)?"L":et===8?"R":"N"},k=function(D){for(var z,et=0;et<D.length;et++){if((z=N(D.charAt(et)))==="L")return!1;if(z==="R")return!0}return!1},R=function(D,z,et,tt){var dt,V,J,st,gt=z[tt];switch(gt){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(gt="AN");break;case"AL":O=!0,gt="R";break;case"WS":case"BN":gt="N";break;case"CS":tt<1||tt+1>=z.length||(dt=et[tt-1])!=="EN"&&dt!=="AN"||(V=z[tt+1])!=="EN"&&V!=="AN"?gt="N":O&&(V="AN"),gt=V===dt?V:"N";break;case"ES":gt=(dt=tt>0?et[tt-1]:"B")==="EN"&&tt+1<z.length&&z[tt+1]==="EN"?"EN":"N";break;case"ET":if(tt>0&&et[tt-1]==="EN"){gt="EN";break}if(O){gt="N";break}for(J=tt+1,st=z.length;J<st&&z[J]==="ET";)J++;gt=J<st&&z[J]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(st=z.length,J=tt+1;J<st&&z[J]==="NSM";)J++;if(J<st){var kt=D[tt],Z=kt>=1425&&kt<=2303||kt===64286;if(dt=z[J],Z&&(dt==="R"||dt==="AL")){gt="R";break}}}gt=tt<1||(dt=z[tt-1])==="B"?"N":et[tt-1];break;case"B":O=!1,i=!0,gt=C;break;case"S":a=!0,gt="N"}return gt},B=function(D,z,et){var tt=D.split("");return et&&H(tt,et,{hiLevel:C}),tt.reverse(),z&&z.reverse(),tt.join("")},H=function(D,z,et){var tt,dt,V,J,st,gt=-1,kt=D.length,Z=0,I=[],G=C?g:v,X=[];for(O=!1,i=!1,a=!1,dt=0;dt<kt;dt++)X[dt]=N(D[dt]);for(V=0;V<kt;V++){if(st=Z,I[V]=R(D,X,I,V),tt=240&(Z=G[st][w[I[V]]]),Z&=15,z[V]=J=G[Z][5],tt>0)if(tt===16){for(dt=gt;dt<V;dt++)z[dt]=1;gt=-1}else gt=-1;if(G[Z][6])gt===-1&&(gt=V);else if(gt>-1){for(dt=gt;dt<V;dt++)z[dt]=J;gt=-1}X[V]==="B"&&(z[V]=0),et.hiLevel|=J}a&&(function(lt,ct,ht){for(var _t=0;_t<ht;_t++)if(lt[_t]==="S"){ct[_t]=C;for(var ut=_t-1;ut>=0&&lt[ut]==="WS";ut--)ct[ut]=C}})(X,z,kt)},q=function(D,z,et,tt,dt){if(!(dt.hiLevel<D)){if(D===1&&C===1&&!i)return z.reverse(),void(et&&et.reverse());for(var V,J,st,gt,kt=z.length,Z=0;Z<kt;){if(tt[Z]>=D){for(st=Z+1;st<kt&&tt[st]>=D;)st++;for(gt=Z,J=st-1;gt<J;gt++,J--)V=z[gt],z[gt]=z[J],z[J]=V,et&&(V=et[gt],et[gt]=et[J],et[J]=V);Z=st}Z++}}},rt=function(D,z,et){var tt=D.split(""),dt={hiLevel:C};return et||(et=[]),H(tt,et,dt),(function(V,J,st){if(st.hiLevel!==0&&f)for(var gt,kt=0;kt<V.length;kt++)J[kt]===1&&(gt=x.indexOf(V[kt]))>=0&&(V[kt]=x[gt+1])})(tt,et,dt),q(2,tt,z,et,dt),q(1,tt,z,et,dt),tt.join("")};return this.__bidiEngine__.doBidiReorder=function(D,z,et){if((function(dt,V){if(V)for(var J=0;J<dt.length;J++)V[J]=J;l===void 0&&(l=k(dt)),h===void 0&&(h=k(dt))})(D,z),o||!c||h)if(o&&c&&l^h)C=l?1:0,D=B(D,z,et);else if(!o&&c&&h)C=l?1:0,D=rt(D,z,et),D=B(D,z);else if(!o||l||c||h){if(o&&!c&&l^h)D=B(D,z),l?(C=0,D=rt(D,z,et)):(C=1,D=rt(D,z,et),D=B(D,z));else if(o&&l&&!c&&h)C=1,D=rt(D,z,et),D=B(D,z);else if(!o&&!c&&l^h){var tt=f;l?(C=1,D=rt(D,z,et),C=0,f=!1,D=rt(D,z,et),f=tt):(C=0,D=rt(D,z,et),D=B(D,z),C=1,f=!1,D=rt(D,z,et),f=tt,D=B(D,z))}}else C=0,D=rt(D,z,et);else C=l?1:0,D=rt(D,z,et);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,h=D.isOutputRtl,f=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,e.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([e.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([e.doBidiReorder(i[l])]);r.text=o}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])})(pe),pe.API.TTFFont=(function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Mc(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new jrt(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new Srt(this.contents),this.head=new Ert(this),this.name=new Nrt(this),this.cmap=new A8(this),this.toUnicode={},this.hhea=new Crt(this),this.maxp=new krt(this),this.hmtx=new Lrt(this),this.post=new Ort(this),this.os2=new Trt(this),this.loca=new Irt(this),this.glyf=new Mrt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,h;for(h=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n})();var Jo,Mc=(function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,a,o,l,c;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*a+65536*o+256*l+c},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)e=t[r],a.push(this.writeByte(e));return a},n})(),Srt=(function(){var n;function t(e){var r,i,a;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,a,o,l,c,h,f,p,v,g,w,y;for(y in g=Object.keys(e).length,c=Math.log(2),p=16*Math.floor(Math.log(g)/c),o=Math.floor(p/c),f=16*g-p,(i=new Mc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(f),a=16*g,h=i.pos+a,l=null,w=[],e)for(v=e[y],i.writeString(y),i.writeInt(n(v)),i.writeInt(h),i.writeInt(v.length),w=w.concat(v),y==="head"&&(l=h),h+=v.length;h%4;)w.push(0),h++;return i.write(w),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(e){var r,i,a,o;for(e=x8.call(e);e.length%4;)e.push(0);for(a=new Mc(e),i=0,r=0,o=e.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t})(),_rt={}.hasOwnProperty,Il=function(n,t){for(var e in t)_rt.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};Jo=(function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var Ert=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new Mc).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n})(),HP=(function(){function n(t,e){var r,i,a,o,l,c,h,f,p,v,g,w,y,x,S,O,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(g=t.readUInt16(),v=g/2,t.pos+=6,a=(function(){var N,k;for(k=[],c=N=0;0<=v?N<v:N>v;c=0<=v?++N:--N)k.push(t.readUInt16());return k})(),t.pos+=2,y=(function(){var N,k;for(k=[],c=N=0;0<=v?N<v:N>v;c=0<=v?++N:--N)k.push(t.readUInt16());return k})(),h=(function(){var N,k;for(k=[],c=N=0;0<=v?N<v:N>v;c=0<=v?++N:--N)k.push(t.readUInt16());return k})(),f=(function(){var N,k;for(k=[],c=N=0;0<=v?N<v:N>v;c=0<=v?++N:--N)k.push(t.readUInt16());return k})(),i=(this.length-t.pos+this.offset)/2,l=(function(){var N,k;for(k=[],c=N=0;0<=i?N<i:N>i;c=0<=i?++N:--N)k.push(t.readUInt16());return k})(),c=S=0,C=a.length;S<C;c=++S)for(x=a[c],r=O=w=y[c];w<=x?O<=x:O>=x;r=w<=x?++O:--O)f[c]===0?o=r+h[c]:(o=l[f[c]/2+(r-w)-(v-c)]||0)!==0&&(o+=h[c]),this.codeMap[r]=65535&o}t.pos=p}return n.encode=function(t,e){var r,i,a,o,l,c,h,f,p,v,g,w,y,x,S,O,C,N,k,R,B,H,q,rt,D,z,et,tt,dt,V,J,st,gt,kt,Z,I,G,X,lt,ct,ht,_t,ut,Et,Dt,At;switch(tt=new Mc,o=Object.keys(t).sort(function(Wt,Vt){return Wt-Vt}),e){case"macroman":for(y=0,x=(function(){var Wt=[];for(w=0;w<256;++w)Wt.push(0);return Wt})(),O={0:0},a={},dt=0,gt=o.length;dt<gt;dt++)O[ut=t[i=o[dt]]]==null&&(O[ut]=++y),a[i]={old:t[i],new:O[t[i]]},x[i]=O[t[i]];return tt.writeUInt16(1),tt.writeUInt16(0),tt.writeUInt32(12),tt.writeUInt16(0),tt.writeUInt16(262),tt.writeUInt16(0),tt.write(x),{charMap:a,subtable:tt.data,maxGlyphID:y+1};case"unicode":for(z=[],p=[],C=0,O={},r={},S=h=null,V=0,kt=o.length;V<kt;V++)O[k=t[i=o[V]]]==null&&(O[k]=++C),r[i]={old:k,new:O[k]},l=O[k]-i,S!=null&&l===h||(S&&p.push(S),z.push(i),h=l),S=i;for(S&&p.push(S),p.push(65535),z.push(65535),rt=2*(q=z.length),H=2*Math.pow(Math.log(q)/Math.LN2,2),v=Math.log(H/2)/Math.LN2,B=2*q-H,c=[],R=[],g=[],w=J=0,Z=z.length;J<Z;w=++J){if(D=z[w],f=p[w],D===65535){c.push(0),R.push(0);break}if(D-(et=r[D].new)>=32768)for(c.push(0),R.push(2*(g.length+q-w)),i=st=D;D<=f?st<=f:st>=f;i=D<=f?++st:--st)g.push(r[i].new);else c.push(et-D),R.push(0)}for(tt.writeUInt16(3),tt.writeUInt16(1),tt.writeUInt32(12),tt.writeUInt16(4),tt.writeUInt16(16+8*q+2*g.length),tt.writeUInt16(0),tt.writeUInt16(rt),tt.writeUInt16(H),tt.writeUInt16(v),tt.writeUInt16(B),ht=0,I=p.length;ht<I;ht++)i=p[ht],tt.writeUInt16(i);for(tt.writeUInt16(0),_t=0,G=z.length;_t<G;_t++)i=z[_t],tt.writeUInt16(i);for(Et=0,X=c.length;Et<X;Et++)l=c[Et],tt.writeUInt16(l);for(Dt=0,lt=R.length;Dt<lt;Dt++)N=R[Dt],tt.writeUInt16(N);for(At=0,ct=g.length;At<ct;At++)y=g[At],tt.writeUInt16(y);return{charMap:r,subtable:tt.data,maxGlyphID:C+1}}},n})(),A8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)e=new HP(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,i;return e==null&&(e="macroman"),r=HP.encode(t,e),(i=new Mc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),Crt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n})(),Trt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r})(),this.charRange=(function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n})(),Ort=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},n})(),Prt=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Nrt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,i,a,o,l,c,h,f,p,v;for(t.pos=this.offset,t.readShort(),e=t.readShort(),l=t.readShort(),r=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=f=0,p=r.length;f<p;a=++f)i=r[a],t.pos=i.offset,h=t.readString(i.length),o=new Prt(h,i),c[v=i.nameID]==null&&(c[v]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),krt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n})(),Lrt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],e=0,l=this.file.hhea.numberOfMetrics;0<=l?e<l:e>l;e=0<=l?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],e=h=0;0<=i?h<i:h>i;e=0<=i?++h:--h)f.push(t.readInt16());return f})(),this.widths=(function(){var h,f,p,v;for(v=[],h=0,f=(p=this.metrics).length;h<f;h++)a=p[h],v.push(a.advance);return v}).call(this),r=this.widths[this.widths.length-1],c=[],e=o=0;0<=i?o<i:o>i;e=0<=i?++o:--o)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n})(),x8=[].slice,Mrt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,i,a,o,l,c,h,f,p;return t in this.cache?this.cache[t]:(a=this.file.loca,e=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,o=(l=new Mc(e.read(i))).readShort(),h=l.readShort(),p=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new Rrt(l,h,p,c,f):new Drt(l,o,h,p,c,f),this.cache[t]))},n.prototype.encode=function(t,e,r){var i,a,o,l,c;for(o=[],a=[],l=0,c=e.length;l<c;l++)i=t[e[l]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},n})(),Drt=(function(){function n(t,e,r,i,a,o){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Rrt=(function(){function n(t,e,r,i,a){var o,l;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Mc(x8.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n})(),Irt=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Il(n,Jo),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<e.length&&e[a]==o){++a,r[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var h=new Array(4*r.length),f=0;f<r.length;++f)h[4*f+3]=255&r[f],h[4*f+2]=(65280&r[f])>>8,h[4*f+1]=(16711680&r[f])>>16,h[4*f]=(4278190080&r[f])>>24;return h},n})(),jrt=(function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,a;for(e in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in e=[],i)(r=i[a])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(a in c=this.glyphsFor(e))r=c[a],i[a]=r;return i},n.prototype.encode=function(t,e){var r,i,a,o,l,c,h,f,p,v,g,w,y,x,S;for(i in r=A8.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},S=r.charMap)g[(c=S[i]).old]=c.new;for(w in v=r.maxGlyphID,o)w in g||(g[w]=v++);return f=(function(O){var C,N;for(C in N={},O)N[O[C]]=C;return N})(g),p=Object.keys(f).sort(function(O,C){return O-C}),y=(function(){var O,C,N;for(N=[],O=0,C=p.length;O<C;O++)l=p[O],N.push(f[l]);return N})(),a=this.font.glyf.encode(o,y,g),h=this.font.loca.encode(a.offsets,y),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n})();pe.API.PDFObject=(function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,a,o;if(Array.isArray(e))return"["+(function(){var l,c,h;for(h=[],l=0,c=e.length;l<c;l++)r=e[l],h.push(t.convert(r));return h})().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in a=["<<"],e)o=e[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+e},t})();function S8(n,t,e,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,h=l*c,f=/\r\n|\r|\n/g,p="",v=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof n=="string"?n.split(f):n,v=p.length||1),e+=l*(2-a),r.valign==="middle"?e-=v/2*h:r.valign==="bottom"&&(e-=v*h),r.halign==="center"||r.halign==="right"){var g=l;if(r.halign==="center"&&(g*=.5),p&&v>=1){for(var w=0;w<p.length;w++)i.text(p[w],t-i.getStringUnitWidth(p[w])*g,e),e+=h;return i}t-=i.getStringUnitWidth(n)*g}return r.halign==="justify"?i.text(n,t,e,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,t,e),i}var $P={},yd=(function(){function n(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(t,e){e===void 0&&(e=null),e?e.__autoTableDocumentDefaults=t:$P=t},n.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},n.prototype.applyStyles=function(t,e){var r,i,a;e===void 0&&(e=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(t.font&&(c=t.font),t.fontStyle){l=t.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),l=h[0])}if(this.jsPDFDocument.setFont(c,l),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!e){var f=n.unifyColor(t.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=n.unifyColor(t.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=n.unifyColor(t.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},n.prototype.splitTextToSize=function(t,e,r){return this.jsPDFDocument.splitTextToSize(t,e,r)},n.prototype.rect=function(t,e,r,i,a){return this.jsPDFDocument.rect(t,e,r,i,a)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return $P||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),$5=function(n,t){return $5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},$5(n,t)};function _8(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$5(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var E8=(function(n){_8(t,n);function t(e){var r=n.call(this)||this;return r._element=e,r}return t})(Array);function Brt(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Frt(n){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[n]}function Iv(n,t,e){e.applyStyles(t,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(a){return e.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function C8(n,t,e,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:a});var o=T8(i,!1);o&&n.rect(e.x,e.y,t.getWidth(n.pageSize().width),r.y-e.y,o)}function T8(n,t){var e=n>0,r=t||t===0;return e&&r?"DF":e?"S":r?"F":null}function F1(n,t){var e,r,i,a;if(n=n||t,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=t}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(e=n.left)!==null&&e!==void 0?e:t,top:(r=n.top)!==null&&r!==void 0?r:t,right:(i=n.right)!==null&&i!==void 0?i:t,bottom:(a=n.bottom)!==null&&a!==void 0?a:t}):(typeof n!="number"&&(n=t),{top:n,right:n,bottom:n,left:n})}function O8(n,t){var e=F1(t.settings.margin,0);return n.pageSize().width-(e.left+e.right)}function zrt(n,t,e,r,i){var a={},o=1.3333333333333333,l=dw(t,function(C){return i.getComputedStyle(C).backgroundColor});l!=null&&(a.fillColor=l);var c=dw(t,function(C){return i.getComputedStyle(C).color});c!=null&&(a.textColor=c);var h=qrt(r,e);h&&(a.cellPadding=h);var f="borderTopColor",p=o*e,v=r.borderTopWidth;if(r.borderBottomWidth===v&&r.borderRightWidth===v&&r.borderLeftWidth===v){var g=(parseFloat(v)||0)/p;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var w=dw(t,function(C){return i.getComputedStyle(C)[f]});w!=null&&(a.lineColor=w);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var x=parseInt(r.fontSize||"");isNaN(x)||(a.fontSize=x/o);var S=Urt(r);S&&(a.fontStyle=S);var O=(r.fontFamily||"").toLowerCase();return n.indexOf(O)!==-1&&(a.font=O),a}function Urt(n){var t="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(t="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(t+="italic"),t}function dw(n,t){var e=P8(n,t);if(!e)return null;var r=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function P8(n,t){var e=t(n);return e==="rgba(0, 0, 0, 0)"||e==="transparent"||e==="initial"||e==="inherit"?n.parentElement==null?null:P8(n.parentElement,t):e}function qrt(n,t){var e=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/t),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/t/2,a=e.map(function(l){return parseInt(l||"0")/r}),o=F1(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function N8(n,t,e,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof t=="string"?l=e.document.querySelector(t):l=t;var c=Object.keys(n.getFontList()),h=n.scaleFactor(),f=[],p=[],v=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:f,body:p,foot:v};for(var g=0;g<l.rows.length;g++){var w=l.rows[g],y=(o=(a=w?.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=Hrt(c,h,e,w,r,i);x&&(y==="thead"?f.push(x):y==="tfoot"?v.push(x):p.push(x))}return{head:f,body:p,foot:v}}function Hrt(n,t,e,r,i,a){for(var o=new E8(r),l=0;l<r.cells.length;l++){var c=r.cells[l],h=e.getComputedStyle(c);if(i||h.display!=="none"){var f=void 0;a&&(f=zrt(n,c,t,h,e)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:$rt(c)})}}var p=e.getComputedStyle(r);if(o.length>0&&(i||p.display!=="none"))return o}function $rt(n){var t=n.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join(`
`),t.innerText||t.textContent||""}function Grt(n,t,e){for(var r=0,i=[n,t,e];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function xu(n,t,e,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function Wrt(n,t){var e=new yd(n),r=e.getDocumentOptions(),i=e.getGlobalOptions();Grt(i,r,t);var a=xu({},i,r,t),o;typeof window<"u"&&(o=window);var l=Vrt(i,r,t),c=Yrt(i,r,t),h=Krt(e,a),f=Zrt(e,a,o);return{id:t.tableId,content:f,hooks:c,styles:l,settings:h}}function Vrt(n,t,e){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var h=n[c],f=t[c],p=e[c];r.columnStyles=xu({},h,f,p)}else{var v=[n,t,e],g=v.map(function(w){return w[c]||{}});r[c]=xu({},g[0],g[1],g[2])}},a=0,o=Object.keys(r);a<o.length;a++){var l=o[a];i(l)}return r}function Yrt(n,t,e){for(var r=[n,t,e],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var l=o[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Krt(n,t){var e,r,i,a,o,l,c,h,f,p,v,g,w=F1(t.margin,40/n.scaleFactor()),y=(e=Xrt(n,t.startY))!==null&&e!==void 0?e:w.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var S;t.showHead===!0?S="everyPage":t.showHead===!1?S="never":S=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var O=(a=t.useCss)!==null&&a!==void 0?a:!1,C=t.theme||(O?"plain":"striped"),N=!!t.horizontalPageBreak,k=(o=t.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=t.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:O,theme:C,startY:y,margin:w,pageBreak:(c=t.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=t.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=t.tableWidth)!==null&&f!==void 0?f:"auto",showHead:S,showFoot:x,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=t.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:N,horizontalPageBreakRepeat:k,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Xrt(n,t){var e=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),a=!1;if(e&&e.startPageNumber){var o=e.startPageNumber+e.pageNumber-1;a=o===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&e?.finalY!=null?e.finalY+20/r:null}function Zrt(n,t,e){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(e){var l=N8(n,t.html,e,o,t.useCss)||{};r=l.head||r,i=l.body||r,a=l.foot||r}else console.error("Cannot parse html in non browser environment")}var c=t.columns||Qrt(r,i,a);return{columns:c,head:r,body:i,foot:a}}function Qrt(n,t,e){var r=n[0]||t[0]||e[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(r)?l=r[parseInt(a)]:l=r[a],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var h=void 0;Array.isArray(r)?h=i.length:h=a+(c>0?"_".concat(c):"");var f={dataKey:h};i.push(f)}}),i}var G5=(function(){function n(t,e,r){this.table=e,this.pageNumber=e.pageNumber,this.settings=e.settings,this.cursor=r,this.doc=t.getDocument()}return n})(),Jrt=(function(n){_8(t,n);function t(e,r,i,a,o,l){var c=n.call(this,e,r,l)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return t})(G5),tit=(function(){function n(t,e){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return n.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,r){return e+r.getMaxCellHeight(t)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(t,e,r,i,a,o){for(var l=0,c=e;l<c.length;l++){var h=c[l],f=new Jrt(t,this,r,i,a,o),p=h(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},n.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new G5(t,this,e))}},n.prototype.callWillDrawPageHooks=function(t,e){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new G5(t,this,e))}},n.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var e=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return e}else{var r=this.settings.margin;return t-r.left-r.right}},n})(),k8=(function(){function n(t,e,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof E8&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=r,this.cells=i,this.spansMultiplePages=a}return n.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=e.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},n.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(r){var i=e.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},n.prototype.getMinimumRowHeight=function(t,e){var r=this;return t.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var l=e.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),h=c+l;return h>i?h:i},0)},n})(),L8=(function(){function n(t,e,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return n.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var e=this.height-this.padding("vertical");t=this.y+e/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},n.prototype.getContentHeight=function(t,e){e===void 0&&(e=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*e,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},n.prototype.padding=function(t){var e=F1(this.styles.cellPadding,0);return t==="vertical"?e.top+e.bottom:t==="horizontal"?e.left+e.right:e[t]},n})(),eit=(function(){function n(t,e,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=r}return n.prototype.getMaxCustomCellWidth=function(t){for(var e=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(e=Math.max(e,o.styles.cellWidth))}return e},n})();function nit(n,t){rit(n,t);var e=[],r=0;t.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(t);o?a.width=o:(a.width=a.wrappedWidth,e.push(a)),r+=a.width});var i=t.getWidth(n.pageSize().width)-r;i&&(i=W5(e,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=W5(e,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),ait(t),sit(t,n),iit(t)}function rit(n,t){var e=n.scaleFactor(),r=t.settings.horizontalPageBreak,i=O8(n,t);t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],h=a.cells[c.index];if(h){var f=t.hooks.didParseCell;t.callCellHooks(n,f,h,a,c,null);var p=h.padding("horizontal");h.contentWidth=Iv(h.text,h.styles,n)+p;var v=Iv(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,n);if(h.minReadableWidth=v+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/e;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),t.allRows().forEach(function(a){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],h=a.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var f=t.styles.columnStyles[c.dataKey]||t.styles.columnStyles[c.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function W5(n,t,e){for(var r=t,i=n.reduce(function(g,w){return g+w.wrappedWidth},0),a=0;a<n.length;a++){var o=n[a],l=o.wrappedWidth/i,c=r*l,h=o.width+c,f=e(o),p=h<f?f:h;t-=p-o.width,o.width=p}if(t=Math.round(t*1e10)/1e10,t){var v=n.filter(function(g){return t<0?g.width>e(g):!0});v.length&&(t=W5(v,t,e))}return t}function iit(n){for(var t={},e=1,r=n.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,l=n.columns;o<l.length;o++){var c=l[o],h=t[c.index];if(e>1)e--,delete a.cells[c.index];else if(h)h.cell.height+=a.height,e=h.cell.colSpan,delete a.cells[c.index],h.left--,h.left<=1&&delete t[c.index];else{var f=a.cells[c.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var p=r.length-i,v=f.rowSpan>p?p:f.rowSpan;t[c.index]={cell:f,left:v,row:a}}}}}function ait(n){for(var t=n.allRows(),e=0;e<t.length;e++)for(var r=t[e],i=null,a=0,o=0,l=0;l<n.columns.length;l++){var c=n.columns[l];if(o-=1,o>1&&n.columns[l+1])a+=c.width,delete r.cells[c.index];else if(i){var h=i;delete r.cells[c.index],i=null,h.width=c.width+a}else{var h=r.cells[c.index];if(!h)continue;if(o=h.colSpan,a=0,h.colSpan>1){i=h,a+=c.width;continue}h.width=c.width+a}}}function sit(n,t){for(var e={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var a=i[r],o=0,l=n.columns;o<l.length;o++){var c=l[o],h=a.cells[c.index];if(h){t.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=t.splitTextToSize(h.text,f+1/t.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=GP(h.text,f,h.styles,t,"...");else if(h.styles.overflow==="hidden")h.text=GP(h.text,f,h.styles,t,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var v=h.contentHeight/h.rowSpan;h.rowSpan>1&&e.count*e.height<v*h.rowSpan?e={height:v,count:h.rowSpan}:e&&e.count>0&&e.height>v&&(v=e.height),v>a.height&&(a.height=v)}}e.count--}}function GP(n,t,e,r,i){return n.map(function(a){return oit(a,t,e,r,i)})}function oit(n,t,e,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=Iv(n,e,r))return n;for(;t<Iv(n+i,e,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function lit(n,t){var e=new yd(n),r=uit(t,e.scaleFactor()),i=new tit(t,r);return nit(e,i),e.applyStyles(e.userStyles),i}function uit(n,t){var e=n.content,r=hit(e.columns);if(e.head.length===0){var i=WP(r,"head");i&&e.head.push(i)}if(e.foot.length===0){var i=WP(r,"foot");i&&e.foot.push(i)}var a=n.settings.theme,o=n.styles;return{columns:r,head:pw("head",e.head,r,o,a,t),body:pw("body",e.body,r,o,a,t),foot:pw("foot",e.foot,r,o,a,t)}}function pw(n,t,e,r,i,a){var o={},l=t.map(function(c,h){for(var f=0,p={},v=0,g=0,w=0,y=e;w<y.length;w++){var x=y[w];if(o[x.index]==null||o[x.index].left===0)if(g===0){var S=void 0;Array.isArray(c)?S=c[x.index-v-f]:S=c[x.dataKey];var O={};typeof S=="object"&&!Array.isArray(S)&&(O=S?.styles||{});var C=fit(n,x,h,i,r,a,O),N=new L8(S,C,n);p[x.dataKey]=N,p[x.index]=N,g=N.colSpan-1,o[x.index]={left:N.rowSpan-1,times:g}}else g--,v++;else o[x.index].left--,g=o[x.index].times,f++}return new k8(c,h,n,p)});return l}function WP(n,t){var e={};return n.forEach(function(r){if(r.raw!=null){var i=cit(t,r.raw);i!=null&&(e[r.dataKey]=i)}}),Object.keys(e).length>0?e:null}function cit(n,t){if(n==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(n==="foot"&&typeof t=="object")return t.footer;return null}function hit(n){return n.map(function(t,e){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:e:i=e,new eit(i,t,e)})}function fit(n,t,e,r,i,a,o){var l=Frt(r),c;n==="head"?c=i.headStyles:n==="body"?c=i.bodyStyles:n==="foot"&&(c=i.footStyles);var h=xu({},l.table,l[n],i.styles,c),f=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},p=n==="body"?f:{},v=n==="body"&&e%2===0?xu({},l.alternateRow,i.alternateRowStyles):{},g=Brt(a),w=xu({},g,h,v,p);return xu(w,o)}function dit(n,t,e){var r;e===void 0&&(e={});var i=O8(n,t),a=new Map,o=[],l=[],c=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(v){var g=t.columns.find(function(w){return w.dataKey===v||w.index===v});g&&!a.has(g.index)&&(a.set(g.index,!0),o.push(g.index),l.push(t.columns[g.index]),i-=g.wrappedWidth)});for(var h=!0,f=(r=e?.start)!==null&&r!==void 0?r:0;f<t.columns.length;){if(a.has(f)){f++;continue}var p=t.columns[f].wrappedWidth;if(h||i>=p)h=!1,o.push(f),l.push(t.columns[f]),i-=p;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function pit(n,t){for(var e=[],r=0;r<t.columns.length;r++){var i=dit(n,t,{start:r});i.columns.length&&(e.push(i),r=i.lastIndex)}return e}function git(n,t){var e=t.settings,r=e.startY,i=e.margin,a={x:i.left,y:r},o=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),l=r+i.bottom+o;if(e.pageBreak==="avoid"){var c=t.body,h=c.reduce(function(v,g){return v+g.height},0);l+=h}var f=new yd(n);(e.pageBreak==="always"||e.startY!=null&&l>f.pageSize().height)&&(D8(f),a.y=i.top),t.callWillDrawPageHooks(f,a);var p=xu({},a);t.startPageNumber=f.pageNumber(),e.horizontalPageBreak?mit(f,t,p,a):(f.applyStyles(f.userStyles),(e.showHead==="firstPage"||e.showHead==="everyPage")&&t.head.forEach(function(v){return Lu(f,t,v,a,t.columns)}),f.applyStyles(f.userStyles),t.body.forEach(function(v,g){var w=g===t.body.length-1;jv(f,t,v,w,p,a,t.columns)}),f.applyStyles(f.userStyles),(e.showFoot==="lastPage"||e.showFoot==="everyPage")&&t.foot.forEach(function(v){return Lu(f,t,v,a,t.columns)})),C8(f,t,p,a),t.callEndPageHooks(f,a),t.finalY=a.y,n.lastAutoTable=t,f.applyStyles(f.userStyles)}function mit(n,t,e,r){var i=pit(n,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,f){n.applyStyles(n.userStyles),f>0?Xp(n,t,e,r,h.columns,!0):VP(n,t,r,h.columns),vit(n,t,e,r,h.columns),gw(n,t,r,h.columns)});else for(var o=-1,l=i[0],c=function(){var h=o;if(l){n.applyStyles(n.userStyles);var f=l.columns;o>=0?Xp(n,t,e,r,f,!0):VP(n,t,r,f),h=YP(n,t,o+1,r,f),gw(n,t,r,f)}var p=h-o;i.slice(1).forEach(function(v){n.applyStyles(n.userStyles),Xp(n,t,e,r,v.columns,!0),YP(n,t,o+1,r,v.columns,p),gw(n,t,r,v.columns)}),o=h};o<t.body.length-1;)c()}function VP(n,t,e,r){var i=t.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return Lu(n,t,a,e,r)})}function vit(n,t,e,r,i){n.applyStyles(n.userStyles),t.body.forEach(function(a,o){var l=o===t.body.length-1;jv(n,t,a,l,e,r,i)})}function YP(n,t,e,r,i,a){n.applyStyles(n.userStyles),a=a??t.body.length;var o=Math.min(e+a,t.body.length),l=-1;return t.body.slice(e,o).forEach(function(c,h){var f=e+h===t.body.length-1,p=M8(n,t,f,r);c.canEntireRowFit(p,i)&&(Lu(n,t,c,r,i),l=e+h)}),l}function gw(n,t,e,r){var i=t.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return Lu(n,t,a,e,r)})}function yit(n,t,e){var r=e.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function bit(n,t,e,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var a=0,o=0,l=e.columns;o<l.length;o++){var c=l[o],h=n.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new L8(h.raw,h.styles,h.section);f=xu(f,h),f.text=[];var p=yit(h,t,r);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var v=r.scaleFactor(),g=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(v,g),h.contentHeight>=t&&(h.contentHeight=t,f.styles.minCellHeight-=t),h.contentHeight>n.height&&(n.height=h.contentHeight),f.contentHeight=f.getContentHeight(v,g),f.contentHeight>a&&(a=f.contentHeight),i[c.index]=f}}var w=new k8(n.raw,-1,n.section,i,!0);w.height=a;for(var y=0,x=e.columns;y<x.length;y++){var c=x[y],f=w.cells[c.index];f&&(f.height=w.height);var h=n.cells[c.index];h&&(h.height=n.height)}return w}function wit(n,t,e,r){var i=n.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,l=i-o;t.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var c=t.getMinimumRowHeight(r.columns,n),h=c<e;if(c>l)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=t.hasRowSpan(r.columns),p=t.getMaxCellHeight(r.columns)>l;return p?(f&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function jv(n,t,e,r,i,a,o){var l=M8(n,t,r,a);if(e.canEntireRowFit(l,o))Lu(n,t,e,a,o);else if(wit(n,e,l,t)){var c=bit(e,l,t,n);Lu(n,t,e,a,o),Xp(n,t,i,a,o),jv(n,t,c,r,i,a,o)}else Xp(n,t,i,a,o),jv(n,t,e,r,i,a,o)}function Lu(n,t,e,r,i){r.x=t.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var l=o[a],c=e.cells[l.index];if(!c){r.x+=l.width;continue}n.applyStyles(c.styles),c.x=r.x,c.y=r.y;var h=t.callCellHooks(n,t.hooks.willDrawCell,c,e,l,r);if(h===!1){r.x+=l.width;continue}Ait(n,c,r);var f=c.getTextPos();S8(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},n.getDocument()),t.callCellHooks(n,t.hooks.didDrawCell,c,e,l,r),r.x+=l.width}r.y+=e.height}function Ait(n,t,e){var r=t.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=T8(r.lineWidth,r.fillColor);i&&n.rect(t.x,e.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(t.x,e.y,t.width,t.height,"F"),xit(n,t,e,r.lineWidth))}function xit(n,t,e,r){var i,a,o,l;r.top&&(i=e.x,a=e.y,o=e.x+t.width,l=e.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.top,i,a,o,l)),r.bottom&&(i=e.x,a=e.y+t.height,o=e.x+t.width,l=e.y+t.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),c(r.bottom,i,a,o,l)),r.left&&(i=e.x,a=e.y,o=e.x,l=e.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.left,i,a,o,l)),r.right&&(i=e.x+t.width,a=e.y,o=e.x+t.width,l=e.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(l+=.5*r.bottom),c(r.right,i,a,o,l));function c(h,f,p,v,g){n.getDocument().setLineWidth(h),n.getDocument().line(f,p,v,g,"S")}}function M8(n,t,e,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&e)&&(i+=t.getFootHeight(t.columns)),n.pageSize().height-r.y-i}function Xp(n,t,e,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),n.applyStyles(n.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(l){return Lu(n,t,l,r,i)}),t.callEndPageHooks(n,r);var o=t.settings.margin;C8(n,t,e,r),D8(n),t.pageNumber++,r.x=o.left,r.y=o.top,e.y=o.top,t.callWillDrawPageHooks(n,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(l){return Lu(n,t,l,r,i)}),n.applyStyles(n.userStyles))}function D8(n){var t=n.pageNumber();n.setPage(t+1);var e=n.pageNumber();return e===t?(n.addPage(),!0):!1}function Sit(n){n.API.autoTable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=Wrt(this,r),a=lit(this,i);return git(this,a),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(t,e,r,i){S8(t,e,r,i,this)},n.API.autoTableSetDefaults=function(t){return yd.setDefaults(t,this),this},n.autoTableSetDefaults=function(t,e){yd.setDefaults(t,e)},n.API.autoTableHtmlToJson=function(t,e){var r;if(e===void 0&&(e=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new yd(this),a=N8(i,t,window,e,!1),o=a.head,l=a.body,c=((r=o[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:c,rows:l,data:l}}}var mw;try{if(typeof window<"u"&&window){var KP=window,XP=KP.jsPDF||((mw=KP.jspdf)===null||mw===void 0?void 0:mw.jsPDF);XP&&Sit(XP)}}catch(n){console.error("Could not apply autoTable plugin",n)}let ZP=!1;async function _it(n){if(ZP)return;const t="https://cdn.jsdelivr.net/gh/google/fonts/ofl/sarabun/Sarabun-Regular.ttf",e="https://cdn.jsdelivr.net/gh/google/fonts/ofl/sarabun/Sarabun-Bold.ttf";try{const[r,i]=await Promise.all([fetch(t).then(l=>l.arrayBuffer()),fetch(e).then(l=>l.arrayBuffer())]),a=QP(r),o=QP(i);n.addFileToVFS("Sarabun-Regular.ttf",a),n.addFont("Sarabun-Regular.ttf","Sarabun","normal"),n.addFileToVFS("Sarabun-Bold.ttf",o),n.addFont("Sarabun-Bold.ttf","Sarabun","bold"),ZP=!0}catch(r){console.error("Font loading failed",r)}}function QP(n){let t="";const e=new Uint8Array(n),r=e.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(e[i]);return window.btoa(t)}const Eit={num:(n,t=2)=>isFinite(n)?Number(n).toFixed(t):"0.00"},Cit=n=>{if(!n||n.length===0)return;let t="data:text/csv;charset=utf-8,";t+=["Date","WorkType","In","Out","NetHours","OT1.0","OT1.5","OT2.0","OT3.0","Status"].join(",")+`\r
`,n.forEach(a=>{const o=[a.dateStr,a.workType,a.clockIn||"",a.clockOut||"",a.netHours,a.ot["1.0"],a.ot["1.5"],a.ot["2.0"],a.ot["3.0"],a.statusKey];t+=o.join(",")+`\r
`});const r=encodeURI(t),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download","worktime_report.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},Tit=async(n,t,e,r)=>{if(!n||n.length===0){alert("No data available to export.");return}const i=new pe({unit:"mm",format:"a4",putOnlyUsedFonts:!0,compress:!0});await _it(i),i.setFont("Sarabun","normal");const{monthYear:a,netHours:o,provinceDays:l,borderDays:c,otTotal:h,perDiemTotal:f,grandIncome:p}=t;i.setFontSize(13),i.setFont("Sarabun","bold"),i.text("FORTH WorkTime Analyzer",14,14),i.setFont("Sarabun","normal"),i.setFontSize(10),i.text(`Report: ${a}`,14,20);const v=14,g=110,w=6,y=26;i.text(`Net Hours: ${o}`,v,y),i.text(`Province Days: ${l}`,v,y+w),i.text(`Border Days: ${c}`,v,y+w*2),i.text(`Total OT: ${h}`,g,y),i.text(`Total Per Diem: ${f}`,g,y+w),i.text(`Grand Total: ${p}`,g,y+w*2);const x=[["Date","Type","In","Out","Hrs","OT1.0","OT1.5","OT2.0","OT3.0","Status"]],S=n.map(C=>[C.dateStr,C.workType,C.clockIn||"",C.clockOut||"",Eit.num(C.netHours,1),C.ot["1.0"]||0,C.ot["1.5"]||0,C.ot["2.0"]||0,C.ot["3.0"]||0,{content:e[r][C.statusKey],raw:C.statusKey}]);let O=y+w*3+4;i.autoTable({startY:O,head:x,body:S,styles:{font:"Sarabun",fontSize:9,cellPadding:2,lineWidth:.1},headStyles:{fillColor:[245,245,245],textColor:[17,24,39],fontStyle:"bold"},columnStyles:{0:{cellWidth:20},1:{cellWidth:22},2:{cellWidth:16,halign:"center"},3:{cellWidth:16,halign:"center"},4:{cellWidth:14,halign:"right"},5:{cellWidth:16,halign:"right"},6:{cellWidth:16,halign:"right"},7:{cellWidth:16,halign:"right"},8:{cellWidth:16,halign:"right"},9:{cellWidth:22,halign:"center"}},didDrawPage:C=>{const N=i.internal.pageSize.getHeight(),k=i.internal.pageSize.getWidth();i.setFontSize(9),i.text(`Page ${i.internal.getNumberOfPages()}`,k-20,N-8,{align:"left"})},didDrawCell:C=>{if(C.section==="body"&&C.column.index===9){const N=C.cell.raw,R={workday:{bg:[243,244,246],text:[55,65,81]},weekend:{bg:[245,208,254],text:[112,26,117]},holiday:{bg:[219,234,254],text:[30,64,175]},late:{bg:[255,237,213],text:[154,52,18]},absent:{bg:[254,226,226],text:[153,27,27]}}[N];if(R){i.setFillColor(R.bg[0],R.bg[1],R.bg[2]),i.setTextColor(R.text[0],R.text[1],R.text[2]);const B=i.getTextWidth(C.cell.text[0]),H=C.cell.getTextPos();i.roundedRect(H.x-1,H.y-7,B+2,9,4,4,"F"),i.text(C.cell.text,C.cell.x+1,C.cell.y+C.cell.height/2-.5,{baseline:"middle"})}}},margin:{left:14,right:14},theme:"grid"}),i.save(`WorkTime_${a.replace("/","-")||"Report"}.pdf`)},Oit=(n,t,e)=>j.useMemo(()=>{const r=parseFloat(t)>0&&e>0?parseFloat(t)/e:0;let i=0,a=0,o=0,l=0;n.forEach(v=>{l+=v.netHours,v.workType==="province"&&a++,v.workType==="border"&&o++,Object.entries(v.ot).forEach(([g,w])=>{i+=w*r*parseFloat(g)})});const c=a*800,h=o*1e3,f=c+h,p=(parseFloat(t)||0)+i+f;return{netHours:l.toFixed(1),otTotal:i.toFixed(2),perDiemTotal:f.toFixed(2),grandIncome:p.toFixed(2),provinceDays:a,borderDays:o}},[n,t,e]),Kf={th:{processing:"...",error_pdf:":  PDF ",error_format:"",success:"",weekend:"",holiday:"",workday:"",late:"",absent:"",leave:"",no_data:"",normal:"",province:".",border:"",select_file:" PDF",rows_selected:"",settings:"",select_pdf:" PDF",salary:" ()",base_hours:"/",filters:"",tools:"",export_pdf:"Export PDF",download_csv:"Download CSV",clear_data:"Clear Data",getting_started:"",upload_instruction:" PDF ",net_hours:"Net Hours",ot_pay:"Total OT Pay",per_diem:"Total Per Diem",grand_total:"Grand Total",set_work_type:"",clear_ot:"Clear OT",deselect_all:"Deselect All",date:"Date",work_type:"Work Type",in_out:"In-Out",hrs:"Hrs",status:"Status",page:"Page",report:"Report",province_days:"Province Days",border_days:"Border Days",total_ot:"Total OT",total_per_diem:"Total Per Diem",grand_total_label:"Grand Total",days_5:"5 / (173)",days_6:"6 / (208)",custom:""},en:{processing:"Processing...",error_pdf:"Error: Cannot read PDF file",error_format:"Data Not Found",success:"Success",weekend:"Weekend",holiday:"Holiday",workday:"Workday",late:"Late",absent:"Absent",leave:"Leave",no_data:"No Data",normal:"Normal",province:"Province",border:"Border",select_file:"Please select a PDF file",rows_selected:"rows selected",settings:"Settings",select_pdf:"Select or Drop PDF",salary:"Salary (THB)",base_hours:"Base Hours / Month",filters:"Filters",tools:"Tools",export_pdf:"Export PDF",download_csv:"Download CSV",clear_data:"Clear Data",getting_started:"Getting Started",upload_instruction:"Upload or drop your work time PDF report to begin the analysis.",net_hours:"Net Hours",ot_pay:"Total OT Pay",per_diem:"Total Per Diem",grand_total:"Grand Total",set_work_type:"Set Work Type",clear_ot:"Clear OT",deselect_all:"Deselect All",date:"Date",work_type:"Work Type",in_out:"In-Out",hrs:"Hrs",status:"Status",page:"Page",report:"Report",province_days:"Province Days",border_days:"Border Days",total_ot:"Total OT",total_per_diem:"Total Per Diem",grand_total_label:"Grand Total",days_5:"5-Day Week (173)",days_6:"6-Day Week (208)",custom:"Custom"}};function Pit(){const[n,t]=j.useState("th"),[e,r]=j.useState([]),[i,a]=j.useState(""),[o,l]=j.useState(""),[c,h]=j.useState(173),[f,p]=j.useState("all"),[v,g]=j.useState(""),[w,y]=j.useState(new Set),[x,S]=j.useState(!1),[O,C]=j.useState(!1),[N,k]=j.useState(null),R=Kf[n],B=(V,J="info")=>{k({msg:V,type:J}),setTimeout(()=>k(null),3e3)},H=async V=>{const J=V.target.files[0];if(J){B(R.processing);try{const st=await Gtt(J),{data:gt,month:kt,year:Z}=$tt(st);r(gt),a(`${kt}/${Z}`),B(R.success)}catch(st){console.error(st),B(R.error_pdf,"error")}}},q=Oit(e,o,c),rt=()=>{Tit(e,{monthYear:i,...q},Kf,n)},D=()=>{Cit(e)},z=()=>{r([]),a(""),y(new Set),p("all"),g("")},et=V=>{if(!V)return;const J=[...e];w.forEach(st=>{J[st]&&(J[st].workType=V)}),r(J),y(new Set)},tt=()=>{const V=[...e];w.forEach(J=>{V[J]&&(V[J].ot={"1.0":0,"1.5":0,"2.0":0,"3.0":0})}),r(V),y(new Set)},dt=()=>{y(new Set)};return Lt.jsxs("div",{className:"flex h-screen bg-gray-50 text-gray-800 font-sans overflow-hidden",children:[Lt.jsx(gI,{onUpload:H,salary:o,setSalary:l,baseHours:c,setBaseHours:h,onExportPdf:rt,onDownloadCsv:D,onClearData:z,lang:n,i18n:Kf,isOpen:x,setIsOpen:S,filter:f,setFilter:p,search:v,setSearch:g}),x&&Lt.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>S(!1)}),Lt.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[Lt.jsxs("header",{className:"bg-white border-b p-4 flex items-center justify-between shadow-sm z-10",children:[Lt.jsx("button",{className:"lg:hidden p-2 rounded-md hover:bg-gray-100",onClick:()=>S(!x),children:Lt.jsx(uI,{className:"w-6 h-6"})}),Lt.jsx("h1",{className:"font-bold text-xl text-gray-700 truncate ml-2",children:i||"FORTH WorkTime"}),Lt.jsx("button",{onClick:()=>t(n==="th"?"en":"th"),className:"px-3 py-2 text-sm border rounded-md bg-white hover:bg-gray-100 font-medium",children:n==="th"?"EN":"TH"})]}),Lt.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-6",children:e.length>0?Lt.jsxs(Lt.Fragment,{children:[Lt.jsx(mI,{netHours:q.netHours,otTotal:q.otTotal,perDiemTotal:q.perDiemTotal,grandTotal:q.grandIncome,lang:n,i18n:Kf}),Lt.jsx(qQ,{data:e,calculations:q,lang:n,i18n:Kf}),w.size>0&&Lt.jsxs("div",{className:"bg-blue-600 text-white rounded-t-xl p-2 flex items-center justify-between gap-2 text-sm shadow-md animate-fade-in-up",children:[Lt.jsxs("span",{className:"font-bold px-2",children:[w.size," ",R.rows_selected]}),Lt.jsxs("div",{className:"flex items-center gap-2",children:[Lt.jsxs("select",{className:"text-black border rounded-md p-1.5 text-xs",onChange:V=>et(V.target.value),value:"",children:[Lt.jsx("option",{value:"",children:R.set_work_type}),Lt.jsx("option",{value:"normal",children:R.normal}),Lt.jsx("option",{value:"province",children:R.province}),Lt.jsx("option",{value:"border",children:R.border})]}),Lt.jsx("button",{onClick:tt,className:"px-3 py-1.5 border border-blue-400 rounded-md hover:bg-blue-500 transition-colors",children:R.clear_ot}),Lt.jsx("button",{onClick:dt,className:"px-3 py-1.5 border border-blue-400 rounded-md hover:bg-blue-500 transition-colors",children:R.deselect_all})]})]}),Lt.jsx(HQ,{data:e,setData:r,selectedRows:w,setSelectedRows:y,filter:f,search:v,lang:n,i18n:Kf})]}):Lt.jsxs("div",{className:`text-center py-16 px-6 bg-white rounded-xl border shadow-sm flex flex-col items-center justify-center h-full max-h-[60vh] transition-colors ${O?"border-blue-500 bg-blue-50":""}`,onDragOver:V=>{V.preventDefault(),C(!0)},onDragLeave:V=>{V.preventDefault(),C(!1)},onDrop:V=>{V.preventDefault(),C(!1);const J=V.dataTransfer.files;J&&J.length>0&&H({target:{files:J}})},children:[Lt.jsx("div",{className:`bg-blue-50 p-4 rounded-full mb-4 ${O?"bg-blue-100":""}`,children:Lt.jsx(nN,{className:`w-12 h-12 ${O?"text-blue-600":"text-blue-500"}`})}),Lt.jsx("h3",{className:"text-lg font-semibold",children:R.getting_started}),Lt.jsx("p",{className:"text-gray-500 mt-1 max-w-md",children:R.upload_instruction})]})})]}),N&&Lt.jsx("div",{className:`fixed bottom-5 right-5 px-4 py-2 rounded-lg shadow-lg text-white transition-opacity duration-300 ${N.type==="error"?"bg-red-600":"bg-gray-800"}`,children:N.msg})]})}QR.createRoot(document.getElementById("root")).render(Lt.jsx(j.StrictMode,{children:Lt.jsx(Pit,{})}));export{Rn as _,kit as c,Mu as g};
